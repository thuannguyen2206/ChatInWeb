2021-07-03T22:22:46.0856976+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T22:22:47.9566070+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T22:22:47.9627241+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T22:22:47.9657952+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T22:22:47.9682007+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T22:22:49.2456319+07:00 0HM9U6PL4APLM:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:22:49.3654644+07:00 0HM9U6PL4APLM:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T22:22:49.4066128+07:00 0HM9U6PL4APLM:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T22:22:49.4199870+07:00 0HM9U6PL4APLM:00000001 [INF] Request finished in 181.9155ms 302  (791a596a)
2021-07-03T22:22:49.4306755+07:00 0HM9U6PL4APLM:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T22:22:49.5250119+07:00 0HM9U6PL4APLM:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:22:49.6596714+07:00 0HM9U6PL4APLM:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:22:50.2815083+07:00 0HM9U6PL4APLM:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T22:22:50.9410486+07:00 0HM9U6PL4APLM:00000003 [INF] Executed ViewResult - view "Login" executed in 697.3007ms. (f66409e9)
2021-07-03T22:22:50.9418362+07:00 0HM9U6PL4APLM:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 1281.5725ms (afa2e885)
2021-07-03T22:22:50.9419198+07:00 0HM9U6PL4APLM:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:22:50.9502747+07:00 0HM9U6PL4APLM:00000003 [INF] Request finished in 1519.5944ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:22:50.9843868+07:00 0HM9U6PL4APLM:00000005 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/lib/bootstrap.min.css   (ca22a1cb)
2021-07-03T22:22:50.9844957+07:00 0HM9U6PL4APLM:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/swipe.min.css   (ca22a1cb)
2021-07-03T22:22:50.9866529+07:00 0HM9U6PL4APLM:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/vendor/popper.min.js   (ca22a1cb)
2021-07-03T22:22:50.9870909+07:00 0HM9U6PL4APLM:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/bootstrap.min.js   (ca22a1cb)
2021-07-03T22:22:50.9871713+07:00 0HM9U6PL4APLM:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery.min.js   (ca22a1cb)
2021-07-03T22:22:50.9873667+07:00 0HM9U6PL4APLM:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.css   (ca22a1cb)
2021-07-03T22:22:50.9878797+07:00 0HM9U6PL4APLM:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.js   (ca22a1cb)
2021-07-03T22:22:51.0175430+07:00 0HM9U6PL4APLM:0000000F [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.css"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.css"' (27b0a520)
2021-07-03T22:22:51.0175431+07:00 0HM9U6PL4APLM:00000011 [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.js"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.js"' (27b0a520)
2021-07-03T22:22:51.0177723+07:00 0HM9U6PL4APLM:0000000F [INF] Request finished in 30.4338ms 200 text/css (791a596a)
2021-07-03T22:22:51.0177701+07:00 0HM9U6PL4APLM:00000011 [INF] Request finished in 30.0513ms 200 application/javascript (791a596a)
2021-07-03T22:22:51.0459666+07:00 0HM9U6PL4APLM:0000000B [INF] Sending file. Request path: '"/dist/js/vendor/popper.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\vendor\popper.min.js"' (27b0a520)
2021-07-03T22:22:51.0475486+07:00 0HM9U6PL4APLM:0000000B [INF] Request finished in 60.9925ms 200 application/javascript (791a596a)
2021-07-03T22:22:51.0509160+07:00 0HM9U6PL4APLM:00000009 [INF] Sending file. Request path: '"/dist/js/jquery.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery.min.js"' (27b0a520)
2021-07-03T22:22:51.0512294+07:00 0HM9U6PL4APLM:00000009 [INF] Request finished in 64.051ms 200 application/javascript (791a596a)
2021-07-03T22:22:51.0665196+07:00 0HM9U6PL4APLM:00000005 [INF] Sending file. Request path: '"/dist/css/lib/bootstrap.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\lib\bootstrap.min.css"' (27b0a520)
2021-07-03T22:22:51.0668285+07:00 0HM9U6PL4APLM:00000005 [INF] Request finished in 82.6049ms 200 text/css (791a596a)
2021-07-03T22:22:51.0795907+07:00 0HM9U6PL4APLM:0000000D [INF] Sending file. Request path: '"/dist/js/bootstrap.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\bootstrap.min.js"' (27b0a520)
2021-07-03T22:22:51.0799991+07:00 0HM9U6PL4APLM:0000000D [INF] Request finished in 93.1237ms 200 application/javascript (791a596a)
2021-07-03T22:22:51.0848044+07:00 0HM9U6PL4APLM:00000007 [INF] Sending file. Request path: '"/dist/css/swipe.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\swipe.min.css"' (27b0a520)
2021-07-03T22:22:51.0850601+07:00 0HM9U6PL4APLM:00000007 [INF] Request finished in 100.5473ms 200 text/css (791a596a)
2021-07-03T22:22:51.2335855+07:00 0HM9U6PL4APLM:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Black.woff   (ca22a1cb)
2021-07-03T22:22:51.2354585+07:00 0HM9U6PL4APLM:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/material/MaterialIcons-Regular.woff2   (ca22a1cb)
2021-07-03T22:22:51.2365779+07:00 0HM9U6PL4APLM:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Book.woff   (ca22a1cb)
2021-07-03T22:22:51.2389695+07:00 0HM9U6PL4APLM:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Medium.woff   (ca22a1cb)
2021-07-03T22:22:51.2959660+07:00 0HM9U6PL4APLM:00000019 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Medium.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Medium.woff"' (27b0a520)
2021-07-03T22:22:51.2967784+07:00 0HM9U6PL4APLM:00000019 [INF] Request finished in 57.9467ms 200 application/font-woff (791a596a)
2021-07-03T22:22:51.3106781+07:00 0HM9U6PL4APLM:00000015 [INF] Sending file. Request path: '"/dist/fonts/material/MaterialIcons-Regular.woff2"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\material\MaterialIcons-Regular.woff2"' (27b0a520)
2021-07-03T22:22:51.3115135+07:00 0HM9U6PL4APLM:00000015 [INF] Request finished in 77.5344ms 200 font/woff2 (791a596a)
2021-07-03T22:22:51.3288243+07:00 0HM9U6PL4APLM:00000013 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Black.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Black.woff"' (27b0a520)
2021-07-03T22:22:51.3297786+07:00 0HM9U6PL4APLM:00000013 [INF] Request finished in 97.4299ms 200 application/font-woff (791a596a)
2021-07-03T22:22:51.3450091+07:00 0HM9U6PL4APLM:00000017 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Book.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Book.woff"' (27b0a520)
2021-07-03T22:22:51.3452850+07:00 0HM9U6PL4APLM:00000017 [INF] Request finished in 109.9098ms 200 application/font-woff (791a596a)
2021-07-03T22:22:56.6642014+07:00 0HM9U6PL4APLM:0000001B [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T22:22:56.6673681+07:00 0HM9U6PL4APLM:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:22:56.6807292+07:00 0HM9U6PL4APLM:0000001B [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:22:57.7755212+07:00 0HM9U6PL4APLM:0000001B [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T22:22:57.7784789+07:00 0HM9U6PL4APLM:0000001B [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T22:22:57.9527970+07:00 0HM9U6PL4APLM:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:22:58.9517585+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("67"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:22:59.0361808+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("23"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:22:59.2776874+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:22:59.3148023+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T22:22:59.3242208+07:00 0HM9U6PL4APLM:0000001B [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T22:22:59.3328416+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:22:59.3413035+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:22:59.4791121+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("16"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:22:59.4996315+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:22:59.5415134+07:00 0HM9U6PL4APLM:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserConnections]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:22:59.5521880+07:00 0HM9U6PL4APLM:0000001B [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:22:59.5533183+07:00 0HM9U6PL4APLM:0000001B [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2872.4809ms (afa2e885)
2021-07-03T22:22:59.5541746+07:00 0HM9U6PL4APLM:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:22:59.5565803+07:00 0HM9U6PL4APLM:0000001B [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"513c07e4-3019-2490-4fb7-a2782474d6ed" (1d7cf8c0)
2021-07-03T22:22:59.5622644+07:00 0HM9U6PL4APLM:0000001B [INF] Request finished in 2898.7387ms 302  (791a596a)
2021-07-03T22:22:59.5698106+07:00 0HM9U6PL4APLM:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:22:59.5763110+07:00 0HM9U6PL4APLM:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:22:59.5776951+07:00 0HM9U6PL4APLM:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:22:59.5810542+07:00 0HM9U6PL4APLM:0000001D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:22:59.6216770+07:00 0HM9U6PL4APLM:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:22:59.6523539+07:00 0HM9U6PL4APLM:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:22:59.6586160+07:00 0HM9U6PL4APLM:0000001D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:22:59.7298586+07:00 0HM9U6PL4APLM:0000001D [INF] Executed ViewResult - view "Index" executed in 75.1072ms. (f66409e9)
2021-07-03T22:22:59.7302839+07:00 0HM9U6PL4APLM:0000001D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 149.1649ms (afa2e885)
2021-07-03T22:22:59.7303637+07:00 0HM9U6PL4APLM:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:22:59.7309954+07:00 0HM9U6PL4APLM:0000001D [INF] Request finished in 161.2686ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:22:59.7580320+07:00 0HM9U6PL4APLM:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/css/select2.css   (ca22a1cb)
2021-07-03T22:22:59.7672573+07:00 0HM9U6PL4APLM:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css   (ca22a1cb)
2021-07-03T22:22:59.7699525+07:00 0HM9U6PL4APLM:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/my-style.css   (ca22a1cb)
2021-07-03T22:22:59.7841829+07:00 0HM9U6PL4APLM:0000001F [INF] Sending file. Request path: '"/dist/plugin/select2/css/select2.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\css\select2.css"' (27b0a520)
2021-07-03T22:22:59.7843377+07:00 0HM9U6PL4APLM:0000001F [INF] Request finished in 26.4198ms 200 text/css (791a596a)
2021-07-03T22:22:59.7894602+07:00 0HM9U6PL4APLM:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/preview-group.css   (ca22a1cb)
2021-07-03T22:22:59.8059359+07:00 0HM9U6PL4APLM:00000023 [INF] Sending file. Request path: '"/dist/css/custom/my-style.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\my-style.css"' (27b0a520)
2021-07-03T22:22:59.8060588+07:00 0HM9U6PL4APLM:00000023 [INF] Request finished in 36.1768ms 200 text/css (791a596a)
2021-07-03T22:22:59.8185699+07:00 0HM9U6PL4APLM:00000021 [INF] Sending file. Request path: '"/dist/plugin/emoji/css/emojionearea.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\css\emojionearea.css"' (27b0a520)
2021-07-03T22:22:59.8187558+07:00 0HM9U6PL4APLM:00000021 [INF] Request finished in 51.6275ms 200 text/css (791a596a)
2021-07-03T22:22:59.8279989+07:00 0HM9U6PL4APLM:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery-ui.js   (ca22a1cb)
2021-07-03T22:22:59.8290843+07:00 0HM9U6PL4APLM:00000025 [INF] Sending file. Request path: '"/dist/css/custom/preview-group.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\preview-group.css"' (27b0a520)
2021-07-03T22:22:59.8292675+07:00 0HM9U6PL4APLM:00000025 [INF] Request finished in 39.8831ms 200 text/css (791a596a)
2021-07-03T22:22:59.8382538+07:00 0HM9U6PL4APLM:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/js/emojionearea.js   (ca22a1cb)
2021-07-03T22:22:59.8552259+07:00 0HM9U6PL4APLM:00000029 [INF] Sending file. Request path: '"/dist/plugin/emoji/js/emojionearea.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\js\emojionearea.js"' (27b0a520)
2021-07-03T22:22:59.8555365+07:00 0HM9U6PL4APLM:00000029 [INF] Request finished in 17.5362ms 200 application/javascript (791a596a)
2021-07-03T22:22:59.8894160+07:00 0HM9U6PL4APLM:00000027 [INF] Sending file. Request path: '"/dist/js/jquery-ui.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery-ui.js"' (27b0a520)
2021-07-03T22:22:59.8898197+07:00 0HM9U6PL4APLM:00000027 [INF] Request finished in 61.9874ms 200 application/javascript (791a596a)
2021-07-03T22:22:59.8954556+07:00 0HM9U6PL4APLM:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/swipe.min.js   (ca22a1cb)
2021-07-03T22:22:59.9116089+07:00 0HM9U6PL4APLM:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js   (ca22a1cb)
2021-07-03T22:22:59.9121811+07:00 0HM9U6PL4APLM:0000002B [INF] Sending file. Request path: '"/dist/js/swipe.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\swipe.min.js"' (27b0a520)
2021-07-03T22:22:59.9123165+07:00 0HM9U6PL4APLM:0000002B [INF] Request finished in 16.9863ms 200 application/javascript (791a596a)
2021-07-03T22:22:59.9246816+07:00 0HM9U6PL4APLM:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/select2.js   (ca22a1cb)
2021-07-03T22:22:59.9444026+07:00 0HM9U6PL4APLM:0000002F [INF] Sending file. Request path: '"/dist/plugin/select2/js/select2.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\select2.js"' (27b0a520)
2021-07-03T22:22:59.9447426+07:00 0HM9U6PL4APLM:0000002F [INF] Request finished in 20.1187ms 200 application/javascript (791a596a)
2021-07-03T22:22:59.9525690+07:00 0HM9U6PL4APLM:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/i18n/vi.js   (ca22a1cb)
2021-07-03T22:22:59.9745393+07:00 0HM9U6PL4APLM:0000002D [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js"' (27b0a520)
2021-07-03T22:22:59.9749336+07:00 0HM9U6PL4APLM:0000002D [INF] Request finished in 63.4205ms 200 application/javascript (791a596a)
2021-07-03T22:22:59.9869202+07:00 0HM9U6PL4APLM:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/my-script.js   (ca22a1cb)
2021-07-03T22:22:59.9945035+07:00 0HM9U6PL4APLM:00000031 [INF] Sending file. Request path: '"/dist/plugin/select2/js/i18n/vi.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\i18n\vi.js"' (27b0a520)
2021-07-03T22:22:59.9946884+07:00 0HM9U6PL4APLM:00000031 [INF] Request finished in 42.1901ms 200 application/javascript (791a596a)
2021-07-03T22:23:00.0172724+07:00 0HM9U6PL4APLM:00000033 [INF] Sending file. Request path: '"/dist/js/custom/my-script.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\my-script.js"' (27b0a520)
2021-07-03T22:23:00.0174663+07:00 0HM9U6PL4APLM:00000033 [INF] Request finished in 30.8072ms 200 application/javascript (791a596a)
2021-07-03T22:23:00.0420671+07:00 0HM9U6PL4APLM:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-group.js   (ca22a1cb)
2021-07-03T22:23:00.0684554+07:00 0HM9U6PL4APLM:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-contact.js   (ca22a1cb)
2021-07-03T22:23:00.0694744+07:00 0HM9U6PL4APLM:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/utils.js   (ca22a1cb)
2021-07-03T22:23:00.0716988+07:00 0HM9U6PL4APLM:00000039 [INF] Sending file. Request path: '"/dist/js/custom/utils.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\utils.js"' (27b0a520)
2021-07-03T22:23:00.0721330+07:00 0HM9U6PL4APLM:00000039 [INF] Request finished in 3.3719ms 200 application/javascript (791a596a)
2021-07-03T22:23:00.0738024+07:00 0HM9U6PL4APLM:00000035 [INF] Sending file. Request path: '"/dist/js/custom/new-group.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-group.js"' (27b0a520)
2021-07-03T22:23:00.0749647+07:00 0HM9U6PL4APLM:00000035 [INF] Request finished in 32.5658ms 200 application/javascript (791a596a)
2021-07-03T22:23:00.0889324+07:00 0HM9U6PL4APLM:00000037 [INF] Sending file. Request path: '"/dist/js/custom/new-contact.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-contact.js"' (27b0a520)
2021-07-03T22:23:00.0894947+07:00 0HM9U6PL4APLM:00000037 [INF] Request finished in 21.5278ms 200 application/javascript (791a596a)
2021-07-03T22:23:00.1066658+07:00 0HM9U6PL4APLM:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-1.jpg   (ca22a1cb)
2021-07-03T22:23:00.1248365+07:00 0HM9U6PL4APLM:0000003B [INF] Sending file. Request path: '"/user-content/img/avatar-male-1.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-1.jpg"' (27b0a520)
2021-07-03T22:23:00.1252743+07:00 0HM9U6PL4APLM:0000003B [INF] Request finished in 18.648ms 200 image/jpeg (791a596a)
2021-07-03T22:23:01.7012969+07:00 0HM9U6PL4APLM:0000003D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:23:01.7054761+07:00 0HM9U6PL4APLM:0000003D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:23:01.7287031+07:00 0HM9U6PL4APLM:0000003F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:23:01.7412851+07:00 0HM9U6PL4APLM:0000003F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:01.7420097+07:00 0HM9U6PL4APLM:0000003F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:01.7455298+07:00 0HM9U6PL4APLM:0000003F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:01.7535729+07:00 0HM9U6PL4APLM:0000003D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:23:01.7541323+07:00 0HM9U6PL4APLM:0000003D [INF] Request finished in 53.1134ms 200 application/json (791a596a)
2021-07-03T22:23:01.7763239+07:00 0HM9U6PL4APLM:0000003F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:01.8113009+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:23:01.8119138+07:00 0HM9U6PL4APLN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=Nf2sg-c0UV2gK3hoVxgWUQ   (ca22a1cb)
2021-07-03T22:23:01.8129539+07:00 0HM9U6PL4APLN:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:23:01.8729270+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:01.8786492+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:01.8921332+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:23:01.8960948+07:00 0HM9U6PL4APLN:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:01.8977854+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:23:01.9059436+07:00 0HM9U6PL4APLN:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:23:01.9127766+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:23:01.9296049+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("4"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:23:01.9317970+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:01.9325186+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:01.9336000+07:00 0HM9U6PL4APLM:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:23:01.9451631+07:00 0HM9U6PL4APLM:0000003F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:23:01.9586929+07:00 0HM9U6PL4APLM:0000003F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 16.7188ms. (6f83ade2)
2021-07-03T22:23:01.9587968+07:00 0HM9U6PL4APLM:0000003F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 213.1557ms (afa2e885)
2021-07-03T22:23:01.9588270+07:00 0HM9U6PL4APLM:0000003F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:01.9591497+07:00 0HM9U6PL4APLM:0000003F [INF] Request finished in 230.5808ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:01.9686651+07:00 0HM9U6PL4APLM:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-group.png   (ca22a1cb)
2021-07-03T22:23:01.9689554+07:00 0HM9U6PL4APLM:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-avatar.png   (ca22a1cb)
2021-07-03T22:23:01.9715940+07:00 0HM9U6PL4APLN:00000001 [INF] Executed DbCommand ("13"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:23:02.0071068+07:00 0HM9U6PL4APLM:00000041 [INF] Sending file. Request path: '"/user-content/img/default-group.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-group.png"' (27b0a520)
2021-07-03T22:23:02.0072617+07:00 0HM9U6PL4APLM:00000041 [INF] Request finished in 38.7008ms 200 image/png (791a596a)
2021-07-03T22:23:02.0131134+07:00 0HM9U6PL4APLM:00000043 [INF] Sending file. Request path: '"/user-content/img/default-avatar.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-avatar.png"' (27b0a520)
2021-07-03T22:23:02.0132674+07:00 0HM9U6PL4APLM:00000043 [INF] Request finished in 44.4096ms 200 image/png (791a596a)
2021-07-03T22:23:37.0762557+07:00 0HM9U6PL4APLM:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625325779843   (ca22a1cb)
2021-07-03T22:23:37.0841863+07:00 0HM9U6PL4APLM:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:37.0845332+07:00 0HM9U6PL4APLM:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:37.0846904+07:00 0HM9U6PL4APLM:00000047 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:23:37.0863766+07:00 0HM9U6PL4APLM:00000047 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:37.0866695+07:00 0HM9U6PL4APLM:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:37.0897797+07:00 0HM9U6PL4APLM:00000047 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:37.0897797+07:00 0HM9U6PL4APLM:00000045 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:37.0971510+07:00 0HM9U6PL4APLM:00000047 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:37.0971510+07:00 0HM9U6PL4APLM:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:37.1057033+07:00 0HM9U6PL4APLM:00000047 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:37.1078163+07:00 0HM9U6PL4APLM:00000047 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:23:37.1084861+07:00 0HM9U6PL4APLM:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:37.1161859+07:00 0HM9U6PL4APLM:00000047 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 26.3167ms (afa2e885)
2021-07-03T22:23:37.1162309+07:00 0HM9U6PL4APLM:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:37.1165674+07:00 0HM9U6PL4APLM:00000047 [INF] Request finished in 31.9178ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:23:37.1323460+07:00 0HM9U6PL4APLM:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:37.1357959+07:00 0HM9U6PL4APLM:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:23:37.1382679+07:00 0HM9U6PL4APLM:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:23:37.1414845+07:00 0HM9U6PL4APLM:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:23:37.1792753+07:00 0HM9U6PL4APLM:00000045 [INF] Executed DbCommand ("8"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:23:37.1835434+07:00 0HM9U6PL4APLM:00000045 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:23:37.1898621+07:00 0HM9U6PL4APLM:00000045 [INF] Executed PartialViewResult - view "_ChatForm" executed in 9.8264ms. (6f83ade2)
2021-07-03T22:23:37.1899474+07:00 0HM9U6PL4APLM:00000045 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 100.1125ms (afa2e885)
2021-07-03T22:23:37.1899704+07:00 0HM9U6PL4APLM:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:37.1901445+07:00 0HM9U6PL4APLM:00000045 [INF] Request finished in 114.1614ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:39.4810917+07:00 0HM9U6PL4APLM:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:23:39.4833723+07:00 0HM9U6PL4APLM:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:39.4838807+07:00 0HM9U6PL4APLM:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:39.4882877+07:00 0HM9U6PL4APLM:00000049 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:39.4924509+07:00 0HM9U6PL4APLM:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:39.4953330+07:00 0HM9U6PL4APLM:00000049 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:23:39.5172781+07:00 0HM9U6PL4APLM:00000049 [INF] Executed DbCommand ("11"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:23:39.5212162+07:00 0HM9U6PL4APLM:00000049 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:23:39.5270588+07:00 0HM9U6PL4APLM:00000049 [INF] Executed PartialViewResult - view "_ListContacts" executed in 8.2236ms. (6f83ade2)
2021-07-03T22:23:39.5271592+07:00 0HM9U6PL4APLM:00000049 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 38.7928ms (afa2e885)
2021-07-03T22:23:39.5272086+07:00 0HM9U6PL4APLM:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:39.5276618+07:00 0HM9U6PL4APLM:00000049 [INF] Request finished in 46.589ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:39.5351692+07:00 0HM9U6PL4APLM:0000004B [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-2.jpg   (ca22a1cb)
2021-07-03T22:23:39.5351692+07:00 0HM9U6PL4APLM:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-female-3.jpg   (ca22a1cb)
2021-07-03T22:23:39.5686032+07:00 0HM9U6PL4APLM:0000004D [INF] Sending file. Request path: '"/user-content/img/avatar-female-3.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-female-3.jpg"' (27b0a520)
2021-07-03T22:23:39.5691506+07:00 0HM9U6PL4APLM:0000004D [INF] Request finished in 34.1748ms 200 image/jpeg (791a596a)
2021-07-03T22:23:39.5800758+07:00 0HM9U6PL4APLM:0000004B [INF] Sending file. Request path: '"/user-content/img/avatar-male-2.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-2.jpg"' (27b0a520)
2021-07-03T22:23:39.5802720+07:00 0HM9U6PL4APLM:0000004B [INF] Request finished in 45.3284ms 200 image/jpeg (791a596a)
2021-07-03T22:23:41.6062225+07:00 0HM9U6PL4APLM:0000004F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:23:41.6132679+07:00 0HM9U6PL4APLM:0000004F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:41.6135635+07:00 0HM9U6PL4APLM:0000004F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:41.6140858+07:00 0HM9U6PL4APLM:0000004F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:41.6163116+07:00 0HM9U6PL4APLM:0000004F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:41.6197987+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:23:41.6213536+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:41.6222244+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:41.6232749+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:23:41.6242197+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:23:41.6251361+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:23:41.6259893+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:23:41.6268267+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:41.6273672+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:41.6279300+07:00 0HM9U6PL4APLM:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:23:41.6283184+07:00 0HM9U6PL4APLM:0000004F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:23:41.6296468+07:00 0HM9U6PL4APLM:0000004F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.4577ms. (6f83ade2)
2021-07-03T22:23:41.6297080+07:00 0HM9U6PL4APLM:0000004F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 15.5499ms (afa2e885)
2021-07-03T22:23:41.6297340+07:00 0HM9U6PL4APLM:0000004F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:41.6300678+07:00 0HM9U6PL4APLM:0000004F [INF] Request finished in 23.9483ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:45.4736266+07:00 0HM9U6PL4APLO:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:23:45.4745428+07:00 0HM9U6PL4APLO:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T22:23:45.4747545+07:00 0HM9U6PL4APLO:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T22:23:45.4750156+07:00 0HM9U6PL4APLO:00000001 [INF] Request finished in 1.5989ms 302  (791a596a)
2021-07-03T22:23:45.4783634+07:00 0HM9U6PL4APLO:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T22:23:45.4795985+07:00 0HM9U6PL4APLO:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:45.4798137+07:00 0HM9U6PL4APLO:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:45.4852954+07:00 0HM9U6PL4APLO:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T22:23:45.4929772+07:00 0HM9U6PL4APLO:00000003 [INF] Executed ViewResult - view "Login" executed in 8.2352ms. (f66409e9)
2021-07-03T22:23:45.4930772+07:00 0HM9U6PL4APLO:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 13.22ms (afa2e885)
2021-07-03T22:23:45.4931083+07:00 0HM9U6PL4APLO:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:45.4933840+07:00 0HM9U6PL4APLO:00000003 [INF] Request finished in 15.0188ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:45.5226252+07:00 0HM9U6PL4APLO:00000005 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/lib/bootstrap.min.css   (ca22a1cb)
2021-07-03T22:23:45.5226254+07:00 0HM9U6PL4APLO:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/swipe.min.css   (ca22a1cb)
2021-07-03T22:23:45.5226264+07:00 0HM9U6PL4APLO:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.css   (ca22a1cb)
2021-07-03T22:23:45.5227018+07:00 0HM9U6PL4APLO:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery.min.js   (ca22a1cb)
2021-07-03T22:23:45.5228390+07:00 0HM9U6PL4APLO:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/vendor/popper.min.js   (ca22a1cb)
2021-07-03T22:23:45.5230990+07:00 0HM9U6PL4APLO:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/bootstrap.min.js   (ca22a1cb)
2021-07-03T22:23:45.5281664+07:00 0HM9U6PL4APLO:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.js   (ca22a1cb)
2021-07-03T22:23:45.5607773+07:00 0HM9U6PL4APLO:00000009 [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.css"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.css"' (27b0a520)
2021-07-03T22:23:45.5767292+07:00 0HM9U6PL4APLO:0000000D [INF] Sending file. Request path: '"/dist/js/vendor/popper.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\vendor\popper.min.js"' (27b0a520)
2021-07-03T22:23:45.5770728+07:00 0HM9U6PL4APLO:00000007 [INF] Sending file. Request path: '"/dist/css/swipe.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\swipe.min.css"' (27b0a520)
2021-07-03T22:23:45.5771177+07:00 0HM9U6PL4APLO:0000000D [INF] Request finished in 54.3171ms 200 application/javascript (791a596a)
2021-07-03T22:23:45.5772508+07:00 0HM9U6PL4APLO:00000007 [INF] Request finished in 54.7241ms 200 text/css (791a596a)
2021-07-03T22:23:45.5797057+07:00 0HM9U6PL4APLO:0000000F [INF] Sending file. Request path: '"/dist/js/bootstrap.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\bootstrap.min.js"' (27b0a520)
2021-07-03T22:23:45.5799201+07:00 0HM9U6PL4APLO:00000011 [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.js"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.js"' (27b0a520)
2021-07-03T22:23:45.5800799+07:00 0HM9U6PL4APLO:0000000F [INF] Request finished in 56.9108ms 200 application/javascript (791a596a)
2021-07-03T22:23:45.5802380+07:00 0HM9U6PL4APLO:00000011 [INF] Request finished in 52.0794ms 200 application/javascript (791a596a)
2021-07-03T22:23:45.5808776+07:00 0HM9U6PL4APLO:00000009 [INF] Request finished in 58.2311ms 200 text/css (791a596a)
2021-07-03T22:23:45.5855957+07:00 0HM9U6PL4APLO:0000000B [INF] Sending file. Request path: '"/dist/js/jquery.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery.min.js"' (27b0a520)
2021-07-03T22:23:45.5858927+07:00 0HM9U6PL4APLO:0000000B [INF] Request finished in 63.1537ms 200 application/javascript (791a596a)
2021-07-03T22:23:45.5864360+07:00 0HM9U6PL4APLO:00000005 [INF] Sending file. Request path: '"/dist/css/lib/bootstrap.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\lib\bootstrap.min.css"' (27b0a520)
2021-07-03T22:23:45.5865832+07:00 0HM9U6PL4APLO:00000005 [INF] Request finished in 63.9692ms 200 text/css (791a596a)
2021-07-03T22:23:45.6626306+07:00 0HM9U6PL4APLO:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Black.woff   (ca22a1cb)
2021-07-03T22:23:45.6627759+07:00 0HM9U6PL4APLO:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/material/MaterialIcons-Regular.woff2   (ca22a1cb)
2021-07-03T22:23:45.6629565+07:00 0HM9U6PL4APLO:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Book.woff   (ca22a1cb)
2021-07-03T22:23:45.6631931+07:00 0HM9U6PL4APLO:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Medium.woff   (ca22a1cb)
2021-07-03T22:23:45.6680742+07:00 0HM9U6PL4APLO:00000013 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Black.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Black.woff"' (27b0a520)
2021-07-03T22:23:45.6685408+07:00 0HM9U6PL4APLO:00000013 [INF] Request finished in 5.9864ms 200 application/font-woff (791a596a)
2021-07-03T22:23:45.6685709+07:00 0HM9U6PL4APLO:00000015 [INF] Sending file. Request path: '"/dist/fonts/material/MaterialIcons-Regular.woff2"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\material\MaterialIcons-Regular.woff2"' (27b0a520)
2021-07-03T22:23:45.6687014+07:00 0HM9U6PL4APLO:00000015 [INF] Request finished in 5.937ms 200 font/woff2 (791a596a)
2021-07-03T22:23:45.6689681+07:00 0HM9U6PL4APLO:00000017 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Book.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Book.woff"' (27b0a520)
2021-07-03T22:23:45.6701627+07:00 0HM9U6PL4APLO:00000017 [INF] Request finished in 7.1809ms 200 application/font-woff (791a596a)
2021-07-03T22:23:45.6709230+07:00 0HM9U6PL4APLO:00000019 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Medium.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Medium.woff"' (27b0a520)
2021-07-03T22:23:45.6710531+07:00 0HM9U6PL4APLO:00000019 [INF] Request finished in 7.9397ms 200 application/font-woff (791a596a)
2021-07-03T22:23:46.2667927+07:00 0HM9U6PL4APLO:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:23:46.3018969+07:00 0HM9U6PL4APLO:0000001B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:23:46.3021546+07:00 0HM9U6PL4APLO:0000001B [INF] Request finished in 35.4569ms 200 image/png (791a596a)
2021-07-03T22:23:51.6997798+07:00 0HM9U6PL4APLO:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T22:23:51.7006619+07:00 0HM9U6PL4APLO:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:51.7009270+07:00 0HM9U6PL4APLO:0000001D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:51.7051845+07:00 0HM9U6PL4APLO:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:51.7080881+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:23:51.7104806+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:23:51.7228918+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:23:51.7255196+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T22:23:51.7262417+07:00 0HM9U6PL4APLO:0000001D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T22:23:51.7277369+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:23:51.7295750+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:23:51.7333428+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:23:51.7402082+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:23:51.7427042+07:00 0HM9U6PL4APLO:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserConnections]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;

DELETE FROM [UserConnections]
WHERE [Id] = @p3;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:23:51.7437060+07:00 0HM9U6PL4APLO:0000001D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:23:51.7438678+07:00 0HM9U6PL4APLO:0000001D [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 42.8762ms (afa2e885)
2021-07-03T22:23:51.7439361+07:00 0HM9U6PL4APLO:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:51.7441145+07:00 0HM9U6PL4APLO:0000001D [INF] Session started; Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88", Id:"ffc0847c-24bc-e50e-3d3a-b49f980f84f5" (1d7cf8c0)
2021-07-03T22:23:51.7445897+07:00 0HM9U6PL4APLO:0000001D [INF] Request finished in 44.9804ms 302  (791a596a)
2021-07-03T22:23:51.7482161+07:00 0HM9U6PL4APLO:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:23:51.7490541+07:00 0HM9U6PL4APLO:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:51.7491725+07:00 0HM9U6PL4APLO:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:51.7493004+07:00 0HM9U6PL4APLO:0000001F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:51.7496635+07:00 0HM9U6PL4APLO:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:51.7526416+07:00 0HM9U6PL4APLO:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:23:51.7538114+07:00 0HM9U6PL4APLO:0000001F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:23:51.7563292+07:00 0HM9U6PL4APLO:0000001F [INF] Executed ViewResult - view "Index" executed in 2.6149ms. (f66409e9)
2021-07-03T22:23:51.7563926+07:00 0HM9U6PL4APLO:0000001F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.0609ms (afa2e885)
2021-07-03T22:23:51.7564200+07:00 0HM9U6PL4APLO:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:51.7566138+07:00 0HM9U6PL4APLO:0000001F [INF] Request finished in 8.4168ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:51.7687005+07:00 0HM9U6PL4APLO:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/css/select2.css   (ca22a1cb)
2021-07-03T22:23:51.7688081+07:00 0HM9U6PL4APLO:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css   (ca22a1cb)
2021-07-03T22:23:51.7689565+07:00 0HM9U6PL4APLO:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/my-style.css   (ca22a1cb)
2021-07-03T22:23:51.7690840+07:00 0HM9U6PL4APLO:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/preview-group.css   (ca22a1cb)
2021-07-03T22:23:51.7703789+07:00 0HM9U6PL4APLO:00000027 [INF] Sending file. Request path: '"/dist/css/custom/preview-group.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\preview-group.css"' (27b0a520)
2021-07-03T22:23:51.7703790+07:00 0HM9U6PL4APLO:00000025 [INF] Sending file. Request path: '"/dist/css/custom/my-style.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\my-style.css"' (27b0a520)
2021-07-03T22:23:51.7710819+07:00 0HM9U6PL4APLO:00000025 [INF] Request finished in 2.1351ms 200 text/css (791a596a)
2021-07-03T22:23:51.7711108+07:00 0HM9U6PL4APLO:00000027 [INF] Request finished in 2.0209ms 200 text/css (791a596a)
2021-07-03T22:23:51.7817587+07:00 0HM9U6PL4APLO:00000021 [INF] Sending file. Request path: '"/dist/plugin/select2/css/select2.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\css\select2.css"' (27b0a520)
2021-07-03T22:23:51.7817611+07:00 0HM9U6PL4APLO:00000023 [INF] Sending file. Request path: '"/dist/plugin/emoji/css/emojionearea.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\css\emojionearea.css"' (27b0a520)
2021-07-03T22:23:51.7819297+07:00 0HM9U6PL4APLO:00000023 [INF] Request finished in 13.1708ms 200 text/css (791a596a)
2021-07-03T22:23:51.7819401+07:00 0HM9U6PL4APLO:00000021 [INF] Request finished in 13.2477ms 200 text/css (791a596a)
2021-07-03T22:23:51.7830919+07:00 0HM9U6PL4APLO:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery-ui.js   (ca22a1cb)
2021-07-03T22:23:51.7830878+07:00 0HM9U6PL4APLO:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/js/emojionearea.js   (ca22a1cb)
2021-07-03T22:23:51.7833141+07:00 0HM9U6PL4APLO:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/swipe.min.js   (ca22a1cb)
2021-07-03T22:23:51.7836058+07:00 0HM9U6PL4APLO:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js   (ca22a1cb)
2021-07-03T22:23:51.7842704+07:00 0HM9U6PL4APLO:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/select2.js   (ca22a1cb)
2021-07-03T22:23:51.7852963+07:00 0HM9U6PL4APLO:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-contact.js   (ca22a1cb)
2021-07-03T22:23:51.7853346+07:00 0HM9U6PL4APLO:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/i18n/vi.js   (ca22a1cb)
2021-07-03T22:23:51.7842775+07:00 0HM9U6PL4APLO:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/my-script.js   (ca22a1cb)
2021-07-03T22:23:51.7856308+07:00 0HM9U6PL4APLO:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/utils.js   (ca22a1cb)
2021-07-03T22:23:51.7881172+07:00 0HM9U6PL4APLO:0000003B [INF] Sending file. Request path: '"/dist/js/custom/utils.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\utils.js"' (27b0a520)
2021-07-03T22:23:51.7881405+07:00 0HM9U6PL4APLO:00000035 [INF] Sending file. Request path: '"/dist/js/custom/my-script.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\my-script.js"' (27b0a520)
2021-07-03T22:23:51.7881954+07:00 0HM9U6PL4APLO:00000033 [INF] Sending file. Request path: '"/dist/plugin/select2/js/i18n/vi.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\i18n\vi.js"' (27b0a520)
2021-07-03T22:23:51.7882317+07:00 0HM9U6PL4APLO:0000003B [INF] Request finished in 2.6209ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.7882648+07:00 0HM9U6PL4APLO:00000035 [INF] Request finished in 3.9924ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.7885003+07:00 0HM9U6PL4APLO:00000039 [INF] Sending file. Request path: '"/dist/js/custom/new-contact.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-contact.js"' (27b0a520)
2021-07-03T22:23:51.7886021+07:00 0HM9U6PL4APLO:00000033 [INF] Request finished in 2.9885ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.7885232+07:00 0HM9U6PL4APLO:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-group.js   (ca22a1cb)
2021-07-03T22:23:51.7887403+07:00 0HM9U6PL4APLO:0000003D [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-avatar.png   (ca22a1cb)
2021-07-03T22:23:51.7924547+07:00 0HM9U6PL4APLO:00000039 [INF] Request finished in 7.0376ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.7931464+07:00 0HM9U6PL4APLO:0000002D [INF] Sending file. Request path: '"/dist/js/swipe.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\swipe.min.js"' (27b0a520)
2021-07-03T22:23:51.8026426+07:00 0HM9U6PL4APLO:0000003D [INF] Sending file. Request path: '"/user-content/img/default-avatar.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-avatar.png"' (27b0a520)
2021-07-03T22:23:51.8060610+07:00 0HM9U6PL4APLO:0000002D [INF] Request finished in 19.2397ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.8062889+07:00 0HM9U6PL4APLO:0000003D [INF] Request finished in 17.6106ms 200 image/png (791a596a)
2021-07-03T22:23:51.8109602+07:00 0HM9U6PL4APLO:0000002B [INF] Sending file. Request path: '"/dist/plugin/emoji/js/emojionearea.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\js\emojionearea.js"' (27b0a520)
2021-07-03T22:23:51.8111030+07:00 0HM9U6PL4APLO:0000002B [INF] Request finished in 28.0786ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.8112605+07:00 0HM9U6PL4APLO:00000037 [INF] Sending file. Request path: '"/dist/js/custom/new-group.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-group.js"' (27b0a520)
2021-07-03T22:23:51.8113919+07:00 0HM9U6PL4APLO:00000037 [INF] Request finished in 22.9196ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.8169494+07:00 0HM9U6PL4APLO:00000031 [INF] Sending file. Request path: '"/dist/plugin/select2/js/select2.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\select2.js"' (27b0a520)
2021-07-03T22:23:51.8198886+07:00 0HM9U6PL4APLO:00000031 [INF] Request finished in 35.6259ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.8246692+07:00 0HM9U6PL4APLO:0000002F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js"' (27b0a520)
2021-07-03T22:23:51.8249228+07:00 0HM9U6PL4APLO:0000002F [INF] Request finished in 41.3013ms 200 application/javascript (791a596a)
2021-07-03T22:23:51.8298805+07:00 0HM9U6PL4APLO:00000029 [INF] Sending file. Request path: '"/dist/js/jquery-ui.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery-ui.js"' (27b0a520)
2021-07-03T22:23:51.8300580+07:00 0HM9U6PL4APLO:00000029 [INF] Request finished in 47.0024ms 200 application/javascript (791a596a)
2021-07-03T22:23:52.4411109+07:00 0HM9U6PL4APLO:0000003F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:23:52.4432943+07:00 0HM9U6PL4APLO:0000003F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:23:52.4462762+07:00 0HM9U6PL4APLO:0000003F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:23:52.4472851+07:00 0HM9U6PL4APLO:0000003F [INF] Request finished in 6.0334ms 200 application/json (791a596a)
2021-07-03T22:23:52.4536067+07:00 0HM9U6PL4APLO:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:23:52.4546211+07:00 0HM9U6PL4APLO:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:52.4547912+07:00 0HM9U6PL4APLO:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:52.4549667+07:00 0HM9U6PL4APLO:00000041 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:52.4602582+07:00 0HM9U6PL4APLO:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:52.4652459+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:23:52.4736201+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:52.4755851+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:52.4793532+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:23:52.4813351+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:23:52.4813482+07:00 0HM9U6PL4APLP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=g9AL3oQvJ-vv1Q7Qw15ddw   (ca22a1cb)
2021-07-03T22:23:52.4822799+07:00 0HM9U6PL4APLP:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:23:52.4835278+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:23:52.4862237+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:52.4875105+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:52.4902344+07:00 0HM9U6PL4APLO:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:23:52.4911877+07:00 0HM9U6PL4APLP:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:52.4916128+07:00 0HM9U6PL4APLO:00000041 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:23:52.4926761+07:00 0HM9U6PL4APLP:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:23:52.4933791+07:00 0HM9U6PL4APLO:00000041 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.836ms. (6f83ade2)
2021-07-03T22:23:52.4935962+07:00 0HM9U6PL4APLO:00000041 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 38.5713ms (afa2e885)
2021-07-03T22:23:52.4936533+07:00 0HM9U6PL4APLO:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:52.4939803+07:00 0HM9U6PL4APLO:00000041 [INF] Request finished in 40.4394ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:52.4972099+07:00 0HM9U6PL4APLP:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:23:52.5001604+07:00 0HM9U6PL4APLO:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-group.png   (ca22a1cb)
2021-07-03T22:23:52.5009252+07:00 0HM9U6PL4APLO:00000043 [INF] Sending file. Request path: '"/user-content/img/default-group.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-group.png"' (27b0a520)
2021-07-03T22:23:52.5010056+07:00 0HM9U6PL4APLO:00000043 [INF] Request finished in 0.9067ms 200 image/png (791a596a)
2021-07-03T22:23:53.8849697+07:00 0HM9U6PL4APLO:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:23:53.8881749+07:00 0HM9U6PL4APLO:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:53.8883763+07:00 0HM9U6PL4APLO:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:53.8885554+07:00 0HM9U6PL4APLO:00000045 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:53.8894976+07:00 0HM9U6PL4APLO:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:53.8912562+07:00 0HM9U6PL4APLO:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:23:53.8982270+07:00 0HM9U6PL4APLO:00000045 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:23:53.8987931+07:00 0HM9U6PL4APLO:00000045 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:23:53.9014905+07:00 0HM9U6PL4APLO:00000045 [INF] Executed PartialViewResult - view "_ListContacts" executed in 2.6847ms. (6f83ade2)
2021-07-03T22:23:53.9017332+07:00 0HM9U6PL4APLO:00000045 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 13.1199ms (afa2e885)
2021-07-03T22:23:53.9018175+07:00 0HM9U6PL4APLO:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:53.9024558+07:00 0HM9U6PL4APLO:00000045 [INF] Request finished in 17.4706ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:53.9075994+07:00 0HM9U6PL4APLO:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-2.jpg   (ca22a1cb)
2021-07-03T22:23:53.9085678+07:00 0HM9U6PL4APLO:00000047 [INF] Sending file. Request path: '"/user-content/img/avatar-male-2.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-2.jpg"' (27b0a520)
2021-07-03T22:23:53.9086961+07:00 0HM9U6PL4APLO:00000047 [INF] Request finished in 1.0881ms 200 image/jpeg (791a596a)
2021-07-03T22:23:56.4838575+07:00 0HM9U6PL4APLO:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:23:56.4858578+07:00 0HM9U6PL4APLO:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:56.4862112+07:00 0HM9U6PL4APLO:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:56.4865370+07:00 0HM9U6PL4APLO:00000049 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:56.4882030+07:00 0HM9U6PL4APLO:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:56.4911124+07:00 0HM9U6PL4APLO:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:23:56.4945313+07:00 0HM9U6PL4APLO:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:23:56.4950650+07:00 0HM9U6PL4APLO:00000049 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:23:56.4980452+07:00 0HM9U6PL4APLO:00000049 [INF] Executed PartialViewResult - view "_ListContacts" executed in 3.0703ms. (6f83ade2)
2021-07-03T22:23:56.4981766+07:00 0HM9U6PL4APLO:00000049 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 11.5909ms (afa2e885)
2021-07-03T22:23:56.4982387+07:00 0HM9U6PL4APLO:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:56.4987304+07:00 0HM9U6PL4APLO:00000049 [INF] Request finished in 14.8582ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:56.8992458+07:00 0HM9U6PL4APLO:0000004B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:23:56.9010324+07:00 0HM9U6PL4APLO:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:56.9013083+07:00 0HM9U6PL4APLO:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:56.9016574+07:00 0HM9U6PL4APLO:0000004B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:56.9033588+07:00 0HM9U6PL4APLO:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:56.9054459+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:23:56.9072546+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:56.9084848+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:56.9104530+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:23:56.9118627+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:23:56.9144034+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:23:56.9207437+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:23:56.9219173+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:23:56.9231785+07:00 0HM9U6PL4APLO:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:23:56.9235374+07:00 0HM9U6PL4APLO:0000004B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:23:56.9251033+07:00 0HM9U6PL4APLO:0000004B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.6044ms. (6f83ade2)
2021-07-03T22:23:56.9252157+07:00 0HM9U6PL4APLO:0000004B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 23.5056ms (afa2e885)
2021-07-03T22:23:56.9252539+07:00 0HM9U6PL4APLO:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:56.9256427+07:00 0HM9U6PL4APLO:0000004B [INF] Request finished in 26.427ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:23:57.2508746+07:00 0HM9U6PL4APLO:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:23:57.2525382+07:00 0HM9U6PL4APLO:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:23:57.2527846+07:00 0HM9U6PL4APLO:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:23:57.2530199+07:00 0HM9U6PL4APLO:0000004D [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:23:57.2540463+07:00 0HM9U6PL4APLO:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:23:57.2554977+07:00 0HM9U6PL4APLO:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:23:57.2586264+07:00 0HM9U6PL4APLO:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:23:57.2591376+07:00 0HM9U6PL4APLO:0000004D [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:23:57.2602576+07:00 0HM9U6PL4APLO:0000004D [INF] Executed PartialViewResult - view "_ListContacts" executed in 1.225ms. (6f83ade2)
2021-07-03T22:23:57.2603362+07:00 0HM9U6PL4APLO:0000004D [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 7.2777ms (afa2e885)
2021-07-03T22:23:57.2603770+07:00 0HM9U6PL4APLO:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:23:57.2606244+07:00 0HM9U6PL4APLO:0000004D [INF] Request finished in 9.783ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:01.2306846+07:00 0HM9U6PL4APLO:0000004F [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?page=1   (ca22a1cb)
2021-07-03T22:24:01.2324015+07:00 0HM9U6PL4APLO:0000004F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:01.2327493+07:00 0HM9U6PL4APLO:0000004F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:01.2372995+07:00 0HM9U6PL4APLO:0000004F [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:01.2426999+07:00 0HM9U6PL4APLO:0000004F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:01.2438973+07:00 0HM9U6PL4APLO:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:01.2498359+07:00 0HM9U6PL4APLO:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:01.2680450+07:00 0HM9U6PL4APLO:0000004F [INF] Executed DbCommand ("8"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:01.2683311+07:00 0HM9U6PL4APLO:0000004F [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:01.2990530+07:00 0HM9U6PL4APLO:0000004F [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 61.6564ms (afa2e885)
2021-07-03T22:24:01.2991166+07:00 0HM9U6PL4APLO:0000004F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:01.2994863+07:00 0HM9U6PL4APLO:0000004F [INF] Request finished in 68.848ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:01.3097287+07:00 0HM9U6PL4APLO:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-female-3.jpg   (ca22a1cb)
2021-07-03T22:24:01.3121083+07:00 0HM9U6PL4APLO:00000051 [INF] Sending file. Request path: '"/user-content/img/avatar-female-3.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-female-3.jpg"' (27b0a520)
2021-07-03T22:24:01.3123481+07:00 0HM9U6PL4APLO:00000051 [INF] Request finished in 2.6562ms 200 image/jpeg (791a596a)
2021-07-03T22:24:02.9108476+07:00 0HM9U6PL4APLO:00000053 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=thuan&page=1   (ca22a1cb)
2021-07-03T22:24:02.9118489+07:00 0HM9U6PL4APLO:00000053 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:02.9120238+07:00 0HM9U6PL4APLO:00000053 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:02.9121698+07:00 0HM9U6PL4APLO:00000053 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:02.9133435+07:00 0HM9U6PL4APLO:00000053 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:02.9153107+07:00 0HM9U6PL4APLO:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:02.9182755+07:00 0HM9U6PL4APLO:00000053 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:02.9443403+07:00 0HM9U6PL4APLO:00000053 [INF] Executed DbCommand ("17"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE ((([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND ((@__keyword_0 LIKE N'') OR (CHARINDEX(@__keyword_0, LOWER([u].[UserName])) > 0))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:02.9447436+07:00 0HM9U6PL4APLO:00000053 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:02.9454064+07:00 0HM9U6PL4APLO:00000053 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 33.1934ms (afa2e885)
2021-07-03T22:24:02.9454400+07:00 0HM9U6PL4APLO:00000053 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:02.9456607+07:00 0HM9U6PL4APLO:00000053 [INF] Request finished in 34.9067ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:03.2026108+07:00 0HM9U6PL4APLO:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=thuan&page=2   (ca22a1cb)
2021-07-03T22:24:03.2034529+07:00 0HM9U6PL4APLO:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:03.2035561+07:00 0HM9U6PL4APLO:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:03.2036837+07:00 0HM9U6PL4APLO:00000055 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:03.2046628+07:00 0HM9U6PL4APLO:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:03.2068403+07:00 0HM9U6PL4APLO:00000055 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:03.2091044+07:00 0HM9U6PL4APLO:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:03.2158357+07:00 0HM9U6PL4APLO:00000055 [INF] Executed DbCommand ("2"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE ((([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND ((@__keyword_0 LIKE N'') OR (CHARINDEX(@__keyword_0, LOWER([u].[UserName])) > 0))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:03.2160393+07:00 0HM9U6PL4APLO:00000055 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:03.2164957+07:00 0HM9U6PL4APLO:00000055 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 12.7644ms (afa2e885)
2021-07-03T22:24:03.2165300+07:00 0HM9U6PL4APLO:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:03.2167533+07:00 0HM9U6PL4APLO:00000055 [INF] Request finished in 14.1384ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:04.4039125+07:00 0HM9U6PL4APLO:00000057 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=thua&page=1   (ca22a1cb)
2021-07-03T22:24:04.4050182+07:00 0HM9U6PL4APLO:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:04.4051720+07:00 0HM9U6PL4APLO:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:04.4054151+07:00 0HM9U6PL4APLO:00000057 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:04.4067314+07:00 0HM9U6PL4APLO:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:04.4089127+07:00 0HM9U6PL4APLO:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:04.4110863+07:00 0HM9U6PL4APLO:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:04.4147224+07:00 0HM9U6PL4APLO:00000057 [INF] Executed DbCommand ("2"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE ((([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND ((@__keyword_0 LIKE N'') OR (CHARINDEX(@__keyword_0, LOWER([u].[UserName])) > 0))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:04.4150521+07:00 0HM9U6PL4APLO:00000057 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:04.4155501+07:00 0HM9U6PL4APLO:00000057 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 10.0672ms (afa2e885)
2021-07-03T22:24:04.4155864+07:00 0HM9U6PL4APLO:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:04.4158416+07:00 0HM9U6PL4APLO:00000057 [INF] Request finished in 12.0564ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:04.6787526+07:00 0HM9U6PL4APLO:00000059 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=thua&page=2   (ca22a1cb)
2021-07-03T22:24:04.6823213+07:00 0HM9U6PL4APLO:00000059 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:04.6829538+07:00 0HM9U6PL4APLO:00000059 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:04.6835292+07:00 0HM9U6PL4APLO:00000059 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:04.6887437+07:00 0HM9U6PL4APLO:00000059 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:04.6908470+07:00 0HM9U6PL4APLO:00000059 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:04.6929180+07:00 0HM9U6PL4APLO:00000059 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:04.7004104+07:00 0HM9U6PL4APLO:00000059 [INF] Executed DbCommand ("5"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE ((([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND ((@__keyword_0 LIKE N'') OR (CHARINDEX(@__keyword_0, LOWER([u].[UserName])) > 0))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:04.7007250+07:00 0HM9U6PL4APLO:00000059 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:04.7013970+07:00 0HM9U6PL4APLO:00000059 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 17.7163ms (afa2e885)
2021-07-03T22:24:04.7014544+07:00 0HM9U6PL4APLO:00000059 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:04.7016365+07:00 0HM9U6PL4APLO:00000059 [INF] Request finished in 23.2794ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:05.0440149+07:00 0HM9U6PL4APLO:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=&page=1   (ca22a1cb)
2021-07-03T22:24:05.0446114+07:00 0HM9U6PL4APLO:0000005B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:05.0447019+07:00 0HM9U6PL4APLO:0000005B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:05.0448097+07:00 0HM9U6PL4APLO:0000005B [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:05.0458373+07:00 0HM9U6PL4APLO:0000005B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:05.0473425+07:00 0HM9U6PL4APLO:0000005B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:05.0488401+07:00 0HM9U6PL4APLO:0000005B [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:05.0511248+07:00 0HM9U6PL4APLO:0000005B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:05.0512914+07:00 0HM9U6PL4APLO:0000005B [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:05.0518668+07:00 0HM9U6PL4APLO:0000005B [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 7.0173ms (afa2e885)
2021-07-03T22:24:05.0518899+07:00 0HM9U6PL4APLO:0000005B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:05.0520957+07:00 0HM9U6PL4APLO:0000005B [INF] Request finished in 8.2526ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:09.8377642+07:00 0HM9U6PL4APLM:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625325779844   (ca22a1cb)
2021-07-03T22:24:09.8426296+07:00 0HM9U6PL4APLM:00000051 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:09.8429380+07:00 0HM9U6PL4APLM:00000051 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:09.8434319+07:00 0HM9U6PL4APLM:00000051 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:09.8443795+07:00 0HM9U6PL4APLM:00000053 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:24:09.8483004+07:00 0HM9U6PL4APLM:00000051 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:09.8502090+07:00 0HM9U6PL4APLM:00000053 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:09.8504734+07:00 0HM9U6PL4APLM:00000053 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:09.8507662+07:00 0HM9U6PL4APLM:00000053 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:09.8528896+07:00 0HM9U6PL4APLM:00000051 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:09.8544178+07:00 0HM9U6PL4APLM:00000053 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:09.8558627+07:00 0HM9U6PL4APLM:00000051 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:09.8587648+07:00 0HM9U6PL4APLM:00000053 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:09.8590966+07:00 0HM9U6PL4APLM:00000053 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:24:09.8596997+07:00 0HM9U6PL4APLM:00000053 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 8.8243ms (afa2e885)
2021-07-03T22:24:09.8597631+07:00 0HM9U6PL4APLM:00000053 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:09.8600613+07:00 0HM9U6PL4APLM:00000053 [INF] Request finished in 15.9489ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:09.8602414+07:00 0HM9U6PL4APLM:00000051 [INF] Executed DbCommand ("4"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:09.8627184+07:00 0HM9U6PL4APLM:00000051 [INF] Executed DbCommand ("2"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:24:09.8647346+07:00 0HM9U6PL4APLM:00000051 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:09.8682436+07:00 0HM9U6PL4APLM:00000051 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:09.8686395+07:00 0HM9U6PL4APLM:00000051 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:24:09.8697396+07:00 0HM9U6PL4APLM:00000051 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.0404ms. (6f83ade2)
2021-07-03T22:24:09.8698830+07:00 0HM9U6PL4APLM:00000051 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 25.5458ms (afa2e885)
2021-07-03T22:24:09.8699195+07:00 0HM9U6PL4APLM:00000051 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:09.8702495+07:00 0HM9U6PL4APLM:00000051 [INF] Request finished in 32.5206ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:11.6802724+07:00 0HM9U6PL4APLM:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Bold.woff   (ca22a1cb)
2021-07-03T22:24:11.7315178+07:00 0HM9U6PL4APLM:00000055 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Bold.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Bold.woff"' (27b0a520)
2021-07-03T22:24:11.7318245+07:00 0HM9U6PL4APLM:00000055 [INF] Request finished in 51.5538ms 200 application/font-woff (791a596a)
2021-07-03T22:24:12.5725784+07:00 0HM9U6PL4APLM:00000057 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/UnBlockFriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:24:12.5733136+07:00 0HM9U6PL4APLM:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:12.5734375+07:00 0HM9U6PL4APLM:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.UnBlockFriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:12.5769842+07:00 0HM9U6PL4APLM:00000057 [INF] Route matched with "{action = \"UnBlockFriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UnBlockFriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:12.5795346+07:00 0HM9U6PL4APLM:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:12.5829975+07:00 0HM9U6PL4APLM:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:24:12.5901572+07:00 0HM9U6PL4APLM:00000057 [INF] Executed DbCommand ("2"ms) [Parameters=["@__friendId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__friendId_0) AND ([c].[FriendId] = @__userId_1)" (0723d8ff)
2021-07-03T22:24:12.6212382+07:00 0HM9U6PL4APLM:00000057 [INF] Executed DbCommand ("8"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Contacts] SET [CreatedAt] = @p0, [FriendId] = @p1, [IsBlock] = @p2, [LastModifyAt] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:24:12.6305842+07:00 0HM9U6PL4APLM:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:24:12.6477203+07:00 0HM9U6PL4APLM:00000057 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:24:12.6588140+07:00 0HM9U6PL4APLM:00000057 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.UnBlockFriend (WebChat.WebApp)" in 81.7554ms (afa2e885)
2021-07-03T22:24:12.6588526+07:00 0HM9U6PL4APLM:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.UnBlockFriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:12.6591395+07:00 0HM9U6PL4APLM:00000057 [INF] Request finished in 86.9004ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:16.3467133+07:00 0HM9U6PL4APLO:0000005D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:24:16.3492626+07:00 0HM9U6PL4APLO:0000005D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:16.3495454+07:00 0HM9U6PL4APLO:0000005D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:16.3497591+07:00 0HM9U6PL4APLO:0000005D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:16.3511013+07:00 0HM9U6PL4APLO:0000005D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:16.3556839+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:24:16.3599714+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:16.3608447+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:16.3625775+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:16.3632959+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:24:16.3657721+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:24:16.3677488+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:24:16.3685507+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:16.3690909+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:16.3698437+07:00 0HM9U6PL4APLO:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:24:16.3701515+07:00 0HM9U6PL4APLO:0000005D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:24:16.3714142+07:00 0HM9U6PL4APLO:0000005D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.2948ms. (6f83ade2)
2021-07-03T22:24:16.3715076+07:00 0HM9U6PL4APLO:0000005D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 21.6828ms (afa2e885)
2021-07-03T22:24:16.3715372+07:00 0HM9U6PL4APLO:0000005D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:16.3718088+07:00 0HM9U6PL4APLO:0000005D [INF] Request finished in 25.0924ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:16.3767165+07:00 0HM9U6PL4APLO:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-1.jpg   (ca22a1cb)
2021-07-03T22:24:16.3775306+07:00 0HM9U6PL4APLO:0000005F [INF] Sending file. Request path: '"/user-content/img/avatar-male-1.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-1.jpg"' (27b0a520)
2021-07-03T22:24:16.3775962+07:00 0HM9U6PL4APLO:0000005F [INF] Request finished in 0.9047ms 200 image/jpeg (791a596a)
2021-07-03T22:24:16.9222244+07:00 0HM9U6PL4APLO:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:24:16.9235533+07:00 0HM9U6PL4APLO:00000061 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:16.9237950+07:00 0HM9U6PL4APLO:00000061 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:16.9239905+07:00 0HM9U6PL4APLO:00000061 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:16.9250124+07:00 0HM9U6PL4APLO:00000061 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:16.9271183+07:00 0HM9U6PL4APLO:00000061 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:16.9334898+07:00 0HM9U6PL4APLO:00000061 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:16.9339366+07:00 0HM9U6PL4APLO:00000061 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:24:16.9353928+07:00 0HM9U6PL4APLO:00000061 [INF] Executed PartialViewResult - view "_ListContacts" executed in 1.5298ms. (6f83ade2)
2021-07-03T22:24:16.9355180+07:00 0HM9U6PL4APLO:00000061 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 11.4706ms (afa2e885)
2021-07-03T22:24:16.9355653+07:00 0HM9U6PL4APLO:00000061 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:16.9359502+07:00 0HM9U6PL4APLO:00000061 [INF] Request finished in 13.7326ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:18.4104241+07:00 0HM9U6PL4APLO:00000063 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:24:18.4119457+07:00 0HM9U6PL4APLO:00000063 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:18.4121340+07:00 0HM9U6PL4APLO:00000063 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:18.4123641+07:00 0HM9U6PL4APLO:00000063 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:18.4136971+07:00 0HM9U6PL4APLO:00000063 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:18.4149138+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:24:18.4167466+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:18.4177630+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:18.4188854+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:18.4196142+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:24:18.4204606+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:24:18.4212716+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:24:18.4221814+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:18.4228390+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:18.4236309+07:00 0HM9U6PL4APLO:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:24:18.4239861+07:00 0HM9U6PL4APLO:00000063 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:24:18.4250030+07:00 0HM9U6PL4APLO:00000063 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.0837ms. (6f83ade2)
2021-07-03T22:24:18.4251051+07:00 0HM9U6PL4APLO:00000063 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 12.6753ms (afa2e885)
2021-07-03T22:24:18.4251454+07:00 0HM9U6PL4APLO:00000063 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:18.4254551+07:00 0HM9U6PL4APLO:00000063 [INF] Request finished in 15.2119ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:19.8360699+07:00 0HM9U6PL4APLO:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625325831790   (ca22a1cb)
2021-07-03T22:24:19.8362360+07:00 0HM9U6PL4APLO:00000067 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:24:19.8383146+07:00 0HM9U6PL4APLO:00000065 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:19.8385079+07:00 0HM9U6PL4APLO:00000065 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:19.8385753+07:00 0HM9U6PL4APLO:00000067 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:19.8387734+07:00 0HM9U6PL4APLO:00000065 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:19.8388263+07:00 0HM9U6PL4APLO:00000067 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:19.8392068+07:00 0HM9U6PL4APLO:00000067 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:19.8418007+07:00 0HM9U6PL4APLO:00000067 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:19.8418166+07:00 0HM9U6PL4APLO:00000065 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:19.8430376+07:00 0HM9U6PL4APLO:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:19.8444036+07:00 0HM9U6PL4APLO:00000067 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:19.8445031+07:00 0HM9U6PL4APLO:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:19.8447784+07:00 0HM9U6PL4APLO:00000067 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:24:19.8456286+07:00 0HM9U6PL4APLO:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:19.8461779+07:00 0HM9U6PL4APLO:00000067 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.8086ms (afa2e885)
2021-07-03T22:24:19.8462703+07:00 0HM9U6PL4APLO:00000067 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:19.8465734+07:00 0HM9U6PL4APLO:00000067 [INF] Request finished in 10.3691ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:19.8475401+07:00 0HM9U6PL4APLO:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:24:19.8490653+07:00 0HM9U6PL4APLO:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:19.8514493+07:00 0HM9U6PL4APLO:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:19.8517464+07:00 0HM9U6PL4APLO:00000065 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:24:19.8533718+07:00 0HM9U6PL4APLO:00000065 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.6853ms. (6f83ade2)
2021-07-03T22:24:19.8534704+07:00 0HM9U6PL4APLO:00000065 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 14.6317ms (afa2e885)
2021-07-03T22:24:19.8535508+07:00 0HM9U6PL4APLO:00000065 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:19.8538972+07:00 0HM9U6PL4APLO:00000065 [INF] Request finished in 17.8343ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:26.5080684+07:00 0HM9U6PL4APLM:00000059 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/Unfriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:24:26.5093450+07:00 0HM9U6PL4APLM:00000059 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:26.5095229+07:00 0HM9U6PL4APLM:00000059 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.Unfriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:26.5138306+07:00 0HM9U6PL4APLM:00000059 [INF] Route matched with "{action = \"Unfriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Unfriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:26.5207865+07:00 0HM9U6PL4APLM:00000059 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:26.5217666+07:00 0HM9U6PL4APLM:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:24:26.5382284+07:00 0HM9U6PL4APLM:00000059 [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__contactId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE (([c].[UserId] = @__userId_0) AND ([c].[FriendId] = @__contactId_1)) OR (([c].[UserId] = @__contactId_1) AND ([c].[FriendId] = @__userId_0))" (0723d8ff)
2021-07-03T22:24:26.5430989+07:00 0HM9U6PL4APLM:00000059 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Contacts]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:24:26.5437320+07:00 0HM9U6PL4APLM:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Contacts]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:24:26.5509728+07:00 0HM9U6PL4APLM:00000059 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:26.5557126+07:00 0HM9U6PL4APLM:00000059 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] IN ('98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f')" (0723d8ff)
2021-07-03T22:24:26.5591829+07:00 0HM9U6PL4APLM:00000059 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:24:26.5597315+07:00 0HM9U6PL4APLM:00000059 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.Unfriend (WebChat.WebApp)" in 45.8105ms (afa2e885)
2021-07-03T22:24:26.5598593+07:00 0HM9U6PL4APLM:00000059 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.Unfriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:26.5602030+07:00 0HM9U6PL4APLM:00000059 [INF] Request finished in 52.4209ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:30.8216067+07:00 0HM9U6PL4APLM:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:24:30.8224216+07:00 0HM9U6PL4APLM:0000005B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:30.8225611+07:00 0HM9U6PL4APLM:0000005B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:30.8228437+07:00 0HM9U6PL4APLM:0000005B [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:30.8238573+07:00 0HM9U6PL4APLM:0000005B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:30.8251773+07:00 0HM9U6PL4APLM:0000005B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:30.8286507+07:00 0HM9U6PL4APLM:0000005B [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:30.8290430+07:00 0HM9U6PL4APLM:0000005B [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:24:30.8302674+07:00 0HM9U6PL4APLM:0000005B [INF] Executed PartialViewResult - view "_ListContacts" executed in 1.2786ms. (6f83ade2)
2021-07-03T22:24:30.8303498+07:00 0HM9U6PL4APLM:0000005B [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 7.4585ms (afa2e885)
2021-07-03T22:24:30.8304013+07:00 0HM9U6PL4APLM:0000005B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:30.8306925+07:00 0HM9U6PL4APLM:0000005B [INF] Request finished in 9.2514ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:31.7801760+07:00 0HM9U6PL4APLM:0000005D [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/LoadContact?keyword=&pageIndex=2   (ca22a1cb)
2021-07-03T22:24:31.7807684+07:00 0HM9U6PL4APLM:0000005D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:31.7808725+07:00 0HM9U6PL4APLM:0000005D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:31.7825469+07:00 0HM9U6PL4APLM:0000005D [INF] Route matched with "{action = \"LoadContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:31.7838436+07:00 0HM9U6PL4APLM:0000005D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:31.7844150+07:00 0HM9U6PL4APLM:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:31.7913587+07:00 0HM9U6PL4APLM:0000005D [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:31.7916592+07:00 0HM9U6PL4APLM:0000005D [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:31.7925149+07:00 0HM9U6PL4APLM:0000005D [INF] Executed action "WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)" in 9.715ms (afa2e885)
2021-07-03T22:24:31.7925484+07:00 0HM9U6PL4APLM:0000005D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:31.7927121+07:00 0HM9U6PL4APLM:0000005D [INF] Request finished in 12.5791ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:31.7943470+07:00 0HM9U6PL4APLM:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/LoadContact?keyword=&pageIndex=2   (ca22a1cb)
2021-07-03T22:24:31.7949585+07:00 0HM9U6PL4APLM:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:31.7950913+07:00 0HM9U6PL4APLM:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:31.7951836+07:00 0HM9U6PL4APLM:0000005F [INF] Route matched with "{action = \"LoadContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:31.7965190+07:00 0HM9U6PL4APLM:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/LoadContact?keyword=&pageIndex=3   (ca22a1cb)
2021-07-03T22:24:31.7968070+07:00 0HM9U6PL4APLM:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:31.7972495+07:00 0HM9U6PL4APLM:00000061 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:31.7973366+07:00 0HM9U6PL4APLM:00000061 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:31.7974345+07:00 0HM9U6PL4APLM:00000061 [INF] Route matched with "{action = \"LoadContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:31.7977738+07:00 0HM9U6PL4APLM:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:31.7978371+07:00 0HM9U6PL4APLM:00000061 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:31.7983823+07:00 0HM9U6PL4APLM:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:31.7987306+07:00 0HM9U6PL4APLM:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:31.7988722+07:00 0HM9U6PL4APLM:0000005F [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:31.7990528+07:00 0HM9U6PL4APLM:0000005F [INF] Executed action "WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)" in 3.8408ms (afa2e885)
2021-07-03T22:24:31.7990785+07:00 0HM9U6PL4APLM:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:31.7991683+07:00 0HM9U6PL4APLM:0000005F [INF] Request finished in 4.9215ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:31.7991782+07:00 0HM9U6PL4APLM:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:31.7992554+07:00 0HM9U6PL4APLM:00000061 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:31.7994048+07:00 0HM9U6PL4APLM:00000061 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)" in 1.917ms (afa2e885)
2021-07-03T22:24:31.7994237+07:00 0HM9U6PL4APLM:00000061 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:31.7995080+07:00 0HM9U6PL4APLM:00000061 [INF] Request finished in 3.1409ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:31.8012483+07:00 0HM9U6PL4APLM:00000063 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/LoadContact?keyword=&pageIndex=3   (ca22a1cb)
2021-07-03T22:24:31.8016542+07:00 0HM9U6PL4APLM:00000063 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:31.8017390+07:00 0HM9U6PL4APLM:00000063 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:31.8018516+07:00 0HM9U6PL4APLM:00000063 [INF] Route matched with "{action = \"LoadContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:31.8023827+07:00 0HM9U6PL4APLM:00000063 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:31.8029689+07:00 0HM9U6PL4APLM:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:31.8038804+07:00 0HM9U6PL4APLM:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:31.8039506+07:00 0HM9U6PL4APLM:00000063 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:31.8040859+07:00 0HM9U6PL4APLM:00000063 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)" in 2.1997ms (afa2e885)
2021-07-03T22:24:31.8041009+07:00 0HM9U6PL4APLM:00000063 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.LoadContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:31.8041619+07:00 0HM9U6PL4APLM:00000063 [INF] Request finished in 3.0804ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:33.6930937+07:00 0HM9U6PL4APLM:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?page=1   (ca22a1cb)
2021-07-03T22:24:33.6941015+07:00 0HM9U6PL4APLM:00000065 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:33.6942543+07:00 0HM9U6PL4APLM:00000065 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:33.6943672+07:00 0HM9U6PL4APLM:00000065 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:33.6968093+07:00 0HM9U6PL4APLM:00000065 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:33.6984106+07:00 0HM9U6PL4APLM:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:33.7017338+07:00 0HM9U6PL4APLM:00000065 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:24:33.7089970+07:00 0HM9U6PL4APLM:00000065 [INF] Executed DbCommand ("5"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] NOT IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:33.7092721+07:00 0HM9U6PL4APLM:00000065 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:24:33.7103688+07:00 0HM9U6PL4APLM:00000065 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 15.9414ms (afa2e885)
2021-07-03T22:24:33.7104330+07:00 0HM9U6PL4APLM:00000065 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:33.7106352+07:00 0HM9U6PL4APLM:00000065 [INF] Request finished in 17.6246ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:24:38.8831844+07:00 0HM9U6PL4APLO:00000069 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:24:38.8847934+07:00 0HM9U6PL4APLO:00000069 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:38.8849382+07:00 0HM9U6PL4APLO:00000069 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:38.8850399+07:00 0HM9U6PL4APLO:00000069 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:38.8858490+07:00 0HM9U6PL4APLO:00000069 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:38.8865229+07:00 0HM9U6PL4APLO:00000069 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:38.8881078+07:00 0HM9U6PL4APLO:00000069 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:38.8883522+07:00 0HM9U6PL4APLO:00000069 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:24:38.8892143+07:00 0HM9U6PL4APLO:00000069 [INF] Executed PartialViewResult - view "_ListContacts" executed in 0.9211ms. (6f83ade2)
2021-07-03T22:24:38.8892415+07:00 0HM9U6PL4APLO:00000069 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 4.1265ms (afa2e885)
2021-07-03T22:24:38.8892614+07:00 0HM9U6PL4APLO:00000069 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:38.8893607+07:00 0HM9U6PL4APLO:00000069 [INF] Request finished in 6.2074ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:40.4489125+07:00 0HM9U6PL4APLO:0000006B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:24:40.4492698+07:00 0HM9U6PL4APLO:0000006B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:40.4493481+07:00 0HM9U6PL4APLO:0000006B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:40.4494014+07:00 0HM9U6PL4APLO:0000006B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:40.4498335+07:00 0HM9U6PL4APLO:0000006B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:40.4507791+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:24:40.4515938+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:40.4520824+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:40.4526654+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:24:40.4532271+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:24:40.4539715+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:24:40.4548359+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:24:40.4554103+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:24:40.4558109+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:24:40.4563071+07:00 0HM9U6PL4APLO:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:24:40.4565366+07:00 0HM9U6PL4APLO:0000006B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:24:40.4573600+07:00 0HM9U6PL4APLO:0000006B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.8979ms. (6f83ade2)
2021-07-03T22:24:40.4574210+07:00 0HM9U6PL4APLO:0000006B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.9969ms (afa2e885)
2021-07-03T22:24:40.4574614+07:00 0HM9U6PL4APLO:0000006B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:40.4575631+07:00 0HM9U6PL4APLO:0000006B [INF] Request finished in 8.7382ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:41.0177585+07:00 0HM9U6PL4APLO:0000006D [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:24:41.0183316+07:00 0HM9U6PL4APLO:0000006D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:41.0183957+07:00 0HM9U6PL4APLO:0000006D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:41.0185022+07:00 0HM9U6PL4APLO:0000006D [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:41.0188471+07:00 0HM9U6PL4APLO:0000006D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:41.0193260+07:00 0HM9U6PL4APLO:0000006D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:24:41.0207655+07:00 0HM9U6PL4APLO:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:24:41.0210151+07:00 0HM9U6PL4APLO:0000006D [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:24:41.0216063+07:00 0HM9U6PL4APLO:0000006D [INF] Executed PartialViewResult - view "_ListContacts" executed in 0.6205ms. (6f83ade2)
2021-07-03T22:24:41.0216523+07:00 0HM9U6PL4APLO:0000006D [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 3.117ms (afa2e885)
2021-07-03T22:24:41.0216781+07:00 0HM9U6PL4APLO:0000006D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:41.0217894+07:00 0HM9U6PL4APLO:0000006D [INF] Request finished in 4.0952ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:24:46.9382862+07:00 0HM9U6PL4APLM:00000067 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/BlockFriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:24:46.9390612+07:00 0HM9U6PL4APLM:00000067 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:24:46.9391927+07:00 0HM9U6PL4APLM:00000067 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:24:46.9421714+07:00 0HM9U6PL4APLM:00000067 [INF] Route matched with "{action = \"BlockFriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult BlockFriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:24:46.9441310+07:00 0HM9U6PL4APLM:00000067 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:24:46.9446814+07:00 0HM9U6PL4APLM:00000067 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:24:46.9451918+07:00 0HM9U6PL4APLM:00000067 [INF] Executed DbCommand ("0"ms) [Parameters=["@__friendId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__friendId_0) AND ([c].[FriendId] = @__userId_1)" (0723d8ff)
2021-07-03T22:24:46.9454490+07:00 0HM9U6PL4APLM:00000067 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:24:46.9457083+07:00 0HM9U6PL4APLM:00000067 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)" in 3.4663ms (afa2e885)
2021-07-03T22:24:46.9457280+07:00 0HM9U6PL4APLM:00000067 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:24:46.9457965+07:00 0HM9U6PL4APLM:00000067 [INF] Request finished in 7.5511ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:25:07.9560126+07:00 0HM9U6PL4APLM:00000069 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/BlockFriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:25:07.9570207+07:00 0HM9U6PL4APLM:00000069 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:07.9571307+07:00 0HM9U6PL4APLM:00000069 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:07.9572251+07:00 0HM9U6PL4APLM:00000069 [INF] Route matched with "{action = \"BlockFriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult BlockFriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:07.9587350+07:00 0HM9U6PL4APLM:00000069 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:07.9615793+07:00 0HM9U6PL4APLM:00000069 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:25:07.9657261+07:00 0HM9U6PL4APLM:00000069 [INF] Executed DbCommand ("3"ms) [Parameters=["@__friendId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__friendId_0) AND ([c].[FriendId] = @__userId_1)" (0723d8ff)
2021-07-03T22:25:07.9659474+07:00 0HM9U6PL4APLM:00000069 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:25:07.9663867+07:00 0HM9U6PL4APLM:00000069 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)" in 9.1201ms (afa2e885)
2021-07-03T22:25:07.9664283+07:00 0HM9U6PL4APLM:00000069 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:07.9665671+07:00 0HM9U6PL4APLM:00000069 [INF] Request finished in 10.734ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:25:15.8006752+07:00 0HM9U6PL4APLO:0000006F [INF] Request starting HTTP/2 GET https://localhost:5001/Notification/GetListNotification   (ca22a1cb)
2021-07-03T22:25:15.8013103+07:00 0HM9U6PL4APLO:0000006F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:15.8014021+07:00 0HM9U6PL4APLO:0000006F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:15.8058207+07:00 0HM9U6PL4APLO:0000006F [INF] Route matched with "{action = \"GetListNotification\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListNotification(System.String)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:15.8093556+07:00 0HM9U6PL4APLO:0000006F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:15.8109479+07:00 0HM9U6PL4APLO:0000006F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:25:15.8238360+07:00 0HM9U6PL4APLO:0000006F [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[AvatarLink], [u].[UserName], [n].[SenderId], [n].[CreatedAt] AS [TimeSend], [n].[Content] AS [ContentNotify], [n].[TypeNotification] AS [TypeNotify], [n].[Id] AS [NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE [n0].[ReceiverUserId] = @__user_Id_0
) AS [t] ON [n].[Id] = [t].[NotificationId]
INNER JOIN [Users] AS [u] ON [n].[SenderId] = [u].[Id]
WHERE [n].[TypeNotification] <> 1
ORDER BY [n].[CreatedAt] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:25:15.8317118+07:00 0HM9U6PL4APLO:0000006F [INF] Executing PartialViewResult, running view "_ListNotifications". (1d3d4b21)
2021-07-03T22:25:15.8366568+07:00 0HM9U6PL4APLO:0000006F [INF] Executed PartialViewResult - view "_ListNotifications" executed in 11.6337ms. (6f83ade2)
2021-07-03T22:25:15.8367186+07:00 0HM9U6PL4APLO:0000006F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)" in 30.8671ms (afa2e885)
2021-07-03T22:25:15.8367366+07:00 0HM9U6PL4APLO:0000006F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:15.8368354+07:00 0HM9U6PL4APLO:0000006F [INF] Request finished in 36.3224ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:25:17.9935121+07:00 0HM9U6PL4APLO:00000071 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:25:17.9940411+07:00 0HM9U6PL4APLO:00000071 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:17.9941435+07:00 0HM9U6PL4APLO:00000071 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:17.9942326+07:00 0HM9U6PL4APLO:00000071 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:17.9947423+07:00 0HM9U6PL4APLO:00000071 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:17.9954883+07:00 0HM9U6PL4APLO:00000071 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:25:17.9987522+07:00 0HM9U6PL4APLO:00000071 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:25:17.9989499+07:00 0HM9U6PL4APLO:00000071 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:25:17.9994674+07:00 0HM9U6PL4APLO:00000071 [INF] Executed PartialViewResult - view "_ListContacts" executed in 0.5572ms. (6f83ade2)
2021-07-03T22:25:17.9994967+07:00 0HM9U6PL4APLO:00000071 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 5.2441ms (afa2e885)
2021-07-03T22:25:17.9995108+07:00 0HM9U6PL4APLO:00000071 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:17.9996142+07:00 0HM9U6PL4APLO:00000071 [INF] Request finished in 6.2459ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:25:19.3441391+07:00 0HM9U6PL4APLO:00000073 [INF] Request starting HTTP/2 GET https://localhost:5001/Notification/GetListNotification   (ca22a1cb)
2021-07-03T22:25:19.3448151+07:00 0HM9U6PL4APLO:00000073 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:19.3448751+07:00 0HM9U6PL4APLO:00000073 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:19.3449358+07:00 0HM9U6PL4APLO:00000073 [INF] Route matched with "{action = \"GetListNotification\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListNotification(System.String)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:19.3451976+07:00 0HM9U6PL4APLO:00000073 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:19.3457061+07:00 0HM9U6PL4APLO:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:25:19.3467924+07:00 0HM9U6PL4APLO:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[AvatarLink], [u].[UserName], [n].[SenderId], [n].[CreatedAt] AS [TimeSend], [n].[Content] AS [ContentNotify], [n].[TypeNotification] AS [TypeNotify], [n].[Id] AS [NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE [n0].[ReceiverUserId] = @__user_Id_0
) AS [t] ON [n].[Id] = [t].[NotificationId]
INNER JOIN [Users] AS [u] ON [n].[SenderId] = [u].[Id]
WHERE [n].[TypeNotification] <> 1
ORDER BY [n].[CreatedAt] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:25:19.3469426+07:00 0HM9U6PL4APLO:00000073 [INF] Executing PartialViewResult, running view "_ListNotifications". (1d3d4b21)
2021-07-03T22:25:19.3477086+07:00 0HM9U6PL4APLO:00000073 [INF] Executed PartialViewResult - view "_ListNotifications" executed in 0.7919ms. (6f83ade2)
2021-07-03T22:25:19.3477614+07:00 0HM9U6PL4APLO:00000073 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)" in 2.805ms (afa2e885)
2021-07-03T22:25:19.3477858+07:00 0HM9U6PL4APLO:00000073 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:19.3479152+07:00 0HM9U6PL4APLO:00000073 [INF] Request finished in 3.7809ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:25:20.8004673+07:00 0HM9U6PL4APLO:00000075 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:25:20.8010769+07:00 0HM9U6PL4APLO:00000075 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:20.8012118+07:00 0HM9U6PL4APLO:00000075 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:20.8012667+07:00 0HM9U6PL4APLO:00000075 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:20.8017215+07:00 0HM9U6PL4APLO:00000075 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:20.8023903+07:00 0HM9U6PL4APLO:00000075 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:25:20.8036356+07:00 0HM9U6PL4APLO:00000075 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:25:20.8037988+07:00 0HM9U6PL4APLO:00000075 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:25:20.8043366+07:00 0HM9U6PL4APLO:00000075 [INF] Executed PartialViewResult - view "_ListContacts" executed in 0.5706ms. (6f83ade2)
2021-07-03T22:25:20.8043625+07:00 0HM9U6PL4APLO:00000075 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 3.0794ms (afa2e885)
2021-07-03T22:25:20.8043824+07:00 0HM9U6PL4APLO:00000075 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:20.8044594+07:00 0HM9U6PL4APLO:00000075 [INF] Request finished in 4.0809ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:25:27.2450756+07:00 0HM9U6PL4APLM:0000006B [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/BlockFriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:25:27.2461196+07:00 0HM9U6PL4APLM:0000006B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:27.2462375+07:00 0HM9U6PL4APLM:0000006B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:27.2463400+07:00 0HM9U6PL4APLM:0000006B [INF] Route matched with "{action = \"BlockFriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult BlockFriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:27.2478563+07:00 0HM9U6PL4APLM:0000006B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:27.2508378+07:00 0HM9U6PL4APLM:0000006B [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:25:27.2537789+07:00 0HM9U6PL4APLM:0000006B [INF] Executed DbCommand ("2"ms) [Parameters=["@__friendId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__friendId_0) AND ([c].[FriendId] = @__userId_1)" (0723d8ff)
2021-07-03T22:25:27.2542335+07:00 0HM9U6PL4APLM:0000006B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:25:27.2548327+07:00 0HM9U6PL4APLM:0000006B [INF] Executed action "WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)" in 8.4515ms (afa2e885)
2021-07-03T22:25:27.2548633+07:00 0HM9U6PL4APLM:0000006B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:27.2550248+07:00 0HM9U6PL4APLM:0000006B [INF] Request finished in 10.1278ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:25:29.4259166+07:00 0HM9U6PL4APLM:0000006D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:25:29.4261879+07:00 0HM9U6PL4APLM:0000006D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:29.4262558+07:00 0HM9U6PL4APLM:0000006D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:29.4263050+07:00 0HM9U6PL4APLM:0000006D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:29.4266304+07:00 0HM9U6PL4APLM:0000006D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:29.4283974+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:25:29.4309520+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:25:29.4322810+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:25:29.4335651+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:25:29.4344322+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:25:29.4357002+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:25:29.4372107+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:25:29.4378807+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:25:29.4382884+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:25:29.4388041+07:00 0HM9U6PL4APLM:0000006D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:25:29.4389875+07:00 0HM9U6PL4APLM:0000006D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:25:29.4395857+07:00 0HM9U6PL4APLM:0000006D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.6298ms. (6f83ade2)
2021-07-03T22:25:29.4396099+07:00 0HM9U6PL4APLM:0000006D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 13.2898ms (afa2e885)
2021-07-03T22:25:29.4396296+07:00 0HM9U6PL4APLM:0000006D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:29.4397069+07:00 0HM9U6PL4APLM:0000006D [INF] Request finished in 13.7975ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:25:30.2128114+07:00 0HM9U6PL4APLM:0000006F [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:25:30.2135342+07:00 0HM9U6PL4APLM:0000006F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:30.2136529+07:00 0HM9U6PL4APLM:0000006F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:30.2137701+07:00 0HM9U6PL4APLM:0000006F [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:30.2144356+07:00 0HM9U6PL4APLM:0000006F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:30.2155107+07:00 0HM9U6PL4APLM:0000006F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:25:30.2175954+07:00 0HM9U6PL4APLM:0000006F [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:25:30.2179111+07:00 0HM9U6PL4APLM:0000006F [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:25:30.2190675+07:00 0HM9U6PL4APLM:0000006F [INF] Executed PartialViewResult - view "_ListContacts" executed in 1.2318ms. (6f83ade2)
2021-07-03T22:25:30.2191273+07:00 0HM9U6PL4APLM:0000006F [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 5.3086ms (afa2e885)
2021-07-03T22:25:30.2191576+07:00 0HM9U6PL4APLM:0000006F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:30.2193266+07:00 0HM9U6PL4APLM:0000006F [INF] Request finished in 6.8175ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:25:34.8279818+07:00 0HM9U6PL4APLM:00000071 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/Unfriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:25:34.8287694+07:00 0HM9U6PL4APLM:00000071 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:25:34.8289362+07:00 0HM9U6PL4APLM:00000071 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.Unfriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:25:34.8290584+07:00 0HM9U6PL4APLM:00000071 [INF] Route matched with "{action = \"Unfriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Unfriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:25:34.8302391+07:00 0HM9U6PL4APLM:00000071 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:25:34.8310622+07:00 0HM9U6PL4APLM:00000071 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:25:34.8346476+07:00 0HM9U6PL4APLM:00000071 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__contactId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE (([c].[UserId] = @__userId_0) AND ([c].[FriendId] = @__contactId_1)) OR (([c].[UserId] = @__contactId_1) AND ([c].[FriendId] = @__userId_0))" (0723d8ff)
2021-07-03T22:25:34.8347896+07:00 0HM9U6PL4APLM:00000071 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:25:34.8350430+07:00 0HM9U6PL4APLM:00000071 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.Unfriend (WebChat.WebApp)" in 5.9163ms (afa2e885)
2021-07-03T22:25:34.8350652+07:00 0HM9U6PL4APLM:00000071 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.Unfriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:25:34.8351635+07:00 0HM9U6PL4APLM:00000071 [INF] Request finished in 7.4685ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:31:33.8374316+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T22:31:34.4723016+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T22:31:34.4766772+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T22:31:34.4788403+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T22:31:34.4809123+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T22:31:34.7821598+07:00 0HM9U6UI0EO3R:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:31:35.0179153+07:00 0HM9U6UI0EO3R:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:31:35.0325457+07:00 0HM9U6UI0EO3R:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:35.0798125+07:00 0HM9U6UI0EO3R:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:35.0933504+07:00 0HM9U6UI0EO3R:00000001 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T22:31:35.1260221+07:00 0HM9U6UI0EO3R:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T22:31:35.1319977+07:00 0HM9U6UI0EO3R:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 46.8694ms (afa2e885)
2021-07-03T22:31:35.1321684+07:00 0HM9U6UI0EO3R:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:35.1467590+07:00 0HM9U6UI0EO3R:00000001 [INF] Request finished in 367.5367ms 302  (791a596a)
2021-07-03T22:31:35.1932124+07:00 0HM9U6UI0EO3R:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T22:31:35.1959191+07:00 0HM9U6UI0EO3R:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:35.1974248+07:00 0HM9U6UI0EO3R:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:35.2393459+07:00 0HM9U6UI0EO3R:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T22:31:35.5157643+07:00 0HM9U6UI0EO3R:00000003 [INF] Executed ViewResult - view "Login" executed in 314.9734ms. (f66409e9)
2021-07-03T22:31:35.5158535+07:00 0HM9U6UI0EO3R:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 318.3864ms (afa2e885)
2021-07-03T22:31:35.5158939+07:00 0HM9U6UI0EO3R:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:35.5176827+07:00 0HM9U6UI0EO3R:00000003 [INF] Request finished in 324.4578ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:31:53.4234362+07:00 0HM9U6UI0EO3R:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T22:31:53.4499620+07:00 0HM9U6UI0EO3R:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:53.4637384+07:00 0HM9U6UI0EO3R:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:53.5092479+07:00 0HM9U6UI0EO3R:00000005 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T22:31:54.3546496+07:00 0HM9U6UI0EO3R:00000005 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T22:31:54.3574935+07:00 0HM9U6UI0EO3R:00000005 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T22:31:54.4825905+07:00 0HM9U6UI0EO3R:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:31:55.1427514+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("51"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:31:55.2063534+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("14"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:31:55.4122207+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:31:55.4504811+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T22:31:55.4571142+07:00 0HM9U6UI0EO3R:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T22:31:55.4635665+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:31:55.4705852+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:31:55.5755022+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("5"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:31:55.5953279+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:31:55.6280660+07:00 0HM9U6UI0EO3R:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:31:55.6290598+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2165.231ms (afa2e885)
2021-07-03T22:31:55.6295173+07:00 0HM9U6UI0EO3R:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:55.6312600+07:00 0HM9U6UI0EO3R:00000005 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"9ead82c4-3746-fba1-2669-bab04eff6270" (1d7cf8c0)
2021-07-03T22:31:55.6371102+07:00 0HM9U6UI0EO3R:00000005 [INF] Request finished in 2214.2183ms 302  (791a596a)
2021-07-03T22:31:55.6486391+07:00 0HM9U6UI0EO3R:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:31:55.6493159+07:00 0HM9U6UI0EO3R:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:31:55.6494133+07:00 0HM9U6UI0EO3R:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:55.6496017+07:00 0HM9U6UI0EO3R:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:55.6802687+07:00 0HM9U6UI0EO3R:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:31:55.6950163+07:00 0HM9U6UI0EO3R:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:31:55.6981349+07:00 0HM9U6UI0EO3R:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:31:55.7507610+07:00 0HM9U6UI0EO3R:00000007 [INF] Executed ViewResult - view "Index" executed in 54.6874ms. (f66409e9)
2021-07-03T22:31:55.7509209+07:00 0HM9U6UI0EO3R:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 101.2667ms (afa2e885)
2021-07-03T22:31:55.7509884+07:00 0HM9U6UI0EO3R:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:55.7513300+07:00 0HM9U6UI0EO3R:00000007 [INF] Request finished in 102.8004ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:31:56.0572812+07:00 0HM9U6UI0EO3R:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:31:56.0592633+07:00 0HM9U6UI0EO3R:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:31:56.0639356+07:00 0HM9U6UI0EO3R:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:31:56.0655543+07:00 0HM9U6UI0EO3R:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:31:56.0656863+07:00 0HM9U6UI0EO3R:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:56.0679745+07:00 0HM9U6UI0EO3R:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:56.0772251+07:00 0HM9U6UI0EO3R:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:31:56.0776492+07:00 0HM9U6UI0EO3R:00000009 [INF] Request finished in 20.5144ms 200 application/json (791a596a)
2021-07-03T22:31:56.0858156+07:00 0HM9U6UI0EO3R:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:31:56.0982463+07:00 0HM9U6UI0EO3S:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=1dWES8z6A5k5VqMKwWD81Q   (ca22a1cb)
2021-07-03T22:31:56.0989153+07:00 0HM9U6UI0EO3S:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:31:56.1093717+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("9"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:31:56.1597413+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:31:56.1635747+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:31:56.1662401+07:00 0HM9U6UI0EO3S:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:31:56.1714882+07:00 0HM9U6UI0EO3S:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:31:56.1772488+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:31:56.1811530+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:31:56.1924008+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:31:56.2010450+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:31:56.2026632+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:31:56.2033788+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:31:56.2043723+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:31:56.2130647+07:00 0HM9U6UI0EO3S:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:31:56.2144277+07:00 0HM9U6UI0EO3R:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:31:56.2238502+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 12.3ms. (6f83ade2)
2021-07-03T22:31:56.2240425+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 155.9662ms (afa2e885)
2021-07-03T22:31:56.2241281+07:00 0HM9U6UI0EO3R:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:56.2245878+07:00 0HM9U6UI0EO3R:0000000B [INF] Request finished in 160.6274ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:31:57.6360574+07:00 0HM9U6UI0EO3T:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:31:57.6406490+07:00 0HM9U6UI0EO3T:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:31:57.6413947+07:00 0HM9U6UI0EO3T:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:57.6418373+07:00 0HM9U6UI0EO3T:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:57.6424188+07:00 0HM9U6UI0EO3T:00000001 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T22:31:57.6428128+07:00 0HM9U6UI0EO3T:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T22:31:57.6430645+07:00 0HM9U6UI0EO3T:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 1.0785ms (afa2e885)
2021-07-03T22:31:57.6431710+07:00 0HM9U6UI0EO3T:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:57.6437929+07:00 0HM9U6UI0EO3T:00000001 [INF] Request finished in 8.7447ms 302  (791a596a)
2021-07-03T22:31:57.6475613+07:00 0HM9U6UI0EO3T:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T22:31:57.6491592+07:00 0HM9U6UI0EO3T:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:31:57.6494558+07:00 0HM9U6UI0EO3T:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:31:57.6517439+07:00 0HM9U6UI0EO3T:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T22:31:57.6580380+07:00 0HM9U6UI0EO3T:00000003 [INF] Executed ViewResult - view "Login" executed in 6.542ms. (f66409e9)
2021-07-03T22:31:57.6581267+07:00 0HM9U6UI0EO3T:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 8.5997ms (afa2e885)
2021-07-03T22:31:57.6581648+07:00 0HM9U6UI0EO3T:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:31:57.6584729+07:00 0HM9U6UI0EO3T:00000003 [INF] Request finished in 10.9823ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:03.9389482+07:00 0HM9U6UI0EO3T:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T22:32:03.9403215+07:00 0HM9U6UI0EO3T:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:03.9405581+07:00 0HM9U6UI0EO3T:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:03.9422555+07:00 0HM9U6UI0EO3T:00000005 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T22:32:03.9427686+07:00 0HM9U6UI0EO3T:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:03.9443549+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:32:03.9464553+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:32:03.9575446+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:32:03.9596860+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T22:32:03.9603356+07:00 0HM9U6UI0EO3T:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T22:32:03.9616981+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:32:03.9626982+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:32:03.9646486+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:32:03.9659668+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:32:03.9667903+07:00 0HM9U6UI0EO3T:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:32:03.9671981+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 26.543ms (afa2e885)
2021-07-03T22:32:03.9672885+07:00 0HM9U6UI0EO3T:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:03.9675143+07:00 0HM9U6UI0EO3T:00000005 [INF] Session started; Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88", Id:"86ee214c-7287-8587-b4db-ec7db29bf163" (1d7cf8c0)
2021-07-03T22:32:03.9681266+07:00 0HM9U6UI0EO3T:00000005 [INF] Request finished in 29.2941ms 302  (791a596a)
2021-07-03T22:32:03.9733397+07:00 0HM9U6UI0EO3T:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:32:03.9739161+07:00 0HM9U6UI0EO3T:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:03.9739914+07:00 0HM9U6UI0EO3T:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:03.9740616+07:00 0HM9U6UI0EO3T:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:03.9743524+07:00 0HM9U6UI0EO3T:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:03.9773191+07:00 0HM9U6UI0EO3T:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:32:03.9782682+07:00 0HM9U6UI0EO3T:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:32:03.9806694+07:00 0HM9U6UI0EO3T:00000007 [INF] Executed ViewResult - view "Index" executed in 2.4774ms. (f66409e9)
2021-07-03T22:32:03.9807317+07:00 0HM9U6UI0EO3T:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.6502ms (afa2e885)
2021-07-03T22:32:03.9807582+07:00 0HM9U6UI0EO3T:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:03.9809673+07:00 0HM9U6UI0EO3T:00000007 [INF] Request finished in 7.6329ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:04.1910942+07:00 0HM9U6UI0EO3T:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:32:04.1927017+07:00 0HM9U6UI0EO3T:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:32:04.1952979+07:00 0HM9U6UI0EO3T:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:32:04.1962260+07:00 0HM9U6UI0EO3T:00000009 [INF] Request finished in 4.9898ms 200 application/json (791a596a)
2021-07-03T22:32:04.2019870+07:00 0HM9U6UI0EO3T:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:32:04.2067140+07:00 0HM9U6UI0EO3T:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:04.2070175+07:00 0HM9U6UI0EO3T:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:04.2072827+07:00 0HM9U6UI0EO3T:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:04.2096654+07:00 0HM9U6UI0EO3T:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:04.2135497+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:32:04.2223445+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:04.2249963+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:04.2253572+07:00 0HM9U6UI0EO3U:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=uOX_qws0jkMoYkWMj6kX8g   (ca22a1cb)
2021-07-03T22:32:04.2268616+07:00 0HM9U6UI0EO3U:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:32:04.2285103+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:32:04.2328656+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:32:04.2358361+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:32:04.2378282+07:00 0HM9U6UI0EO3U:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:04.2382237+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:32:04.2393763+07:00 0HM9U6UI0EO3U:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:32:04.2401712+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:04.2417632+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:04.2425600+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:32:04.2425690+07:00 0HM9U6UI0EO3U:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:32:04.2430083+07:00 0HM9U6UI0EO3T:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:32:04.2445545+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.634ms. (6f83ade2)
2021-07-03T22:32:04.2446516+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 37.3129ms (afa2e885)
2021-07-03T22:32:04.2447072+07:00 0HM9U6UI0EO3T:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:04.2450900+07:00 0HM9U6UI0EO3T:0000000B [INF] Request finished in 43.2053ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:06.8957978+07:00 0HM9U6UI0EO3R:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:32:06.8990307+07:00 0HM9U6UI0EO3R:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625326315797   (ca22a1cb)
2021-07-03T22:32:06.9019581+07:00 0HM9U6UI0EO3R:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:06.9020253+07:00 0HM9U6UI0EO3R:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:06.9024112+07:00 0HM9U6UI0EO3R:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:06.9024078+07:00 0HM9U6UI0EO3R:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:06.9068110+07:00 0HM9U6UI0EO3R:0000000D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:06.9068147+07:00 0HM9U6UI0EO3R:0000000F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:06.9132986+07:00 0HM9U6UI0EO3R:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:06.9136033+07:00 0HM9U6UI0EO3R:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:06.9217406+07:00 0HM9U6UI0EO3R:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:06.9220161+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:06.9235889+07:00 0HM9U6UI0EO3R:0000000D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:32:06.9316234+07:00 0HM9U6UI0EO3R:0000000D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 24.7331ms (afa2e885)
2021-07-03T22:32:06.9316823+07:00 0HM9U6UI0EO3R:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:06.9319614+07:00 0HM9U6UI0EO3R:0000000D [INF] Request finished in 37.0849ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:32:06.9445691+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:06.9476972+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:32:06.9498776+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:32:06.9532789+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:32:06.9832970+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:06.9877204+07:00 0HM9U6UI0EO3R:0000000F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:32:06.9949437+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed PartialViewResult - view "_ChatForm" executed in 10.9688ms. (6f83ade2)
2021-07-03T22:32:06.9950754+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 88.2112ms (afa2e885)
2021-07-03T22:32:06.9951182+07:00 0HM9U6UI0EO3R:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:06.9952785+07:00 0HM9U6UI0EO3R:0000000F [INF] Request finished in 96.4217ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:08.6601924+07:00 0HM9U6UI0EO3R:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:32:08.6616348+07:00 0HM9U6UI0EO3R:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:08.6619258+07:00 0HM9U6UI0EO3R:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:08.6649584+07:00 0HM9U6UI0EO3R:00000011 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:08.6685694+07:00 0HM9U6UI0EO3R:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:08.6697081+07:00 0HM9U6UI0EO3R:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:32:08.6816872+07:00 0HM9U6UI0EO3R:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:08.6863695+07:00 0HM9U6UI0EO3R:00000011 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:32:08.6919821+07:00 0HM9U6UI0EO3R:00000011 [INF] Executed PartialViewResult - view "_ListContacts" executed in 8.5314ms. (6f83ade2)
2021-07-03T22:32:08.6920658+07:00 0HM9U6UI0EO3R:00000011 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 27.0751ms (afa2e885)
2021-07-03T22:32:08.6920994+07:00 0HM9U6UI0EO3R:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:08.6923534+07:00 0HM9U6UI0EO3R:00000011 [INF] Request finished in 32.2123ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:10.1740653+07:00 0HM9U6UI0EO3R:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:32:10.1762465+07:00 0HM9U6UI0EO3R:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:10.1765833+07:00 0HM9U6UI0EO3R:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:10.1768671+07:00 0HM9U6UI0EO3R:00000013 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:10.1835265+07:00 0HM9U6UI0EO3R:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:10.1857568+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:32:10.1878599+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:10.1893015+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:10.1908090+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:32:10.1921633+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:32:10.1935187+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:32:10.1947912+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:32:10.1960135+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:10.1969519+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:10.1979529+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:32:10.1985141+07:00 0HM9U6UI0EO3R:00000013 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:32:10.2003959+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 2.0431ms. (6f83ade2)
2021-07-03T22:32:10.2004797+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 23.5687ms (afa2e885)
2021-07-03T22:32:10.2005144+07:00 0HM9U6UI0EO3R:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:10.2007495+07:00 0HM9U6UI0EO3R:00000013 [INF] Request finished in 26.8331ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:10.7083194+07:00 0HM9U6UI0EO3R:00000015 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:32:10.7090008+07:00 0HM9U6UI0EO3R:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625326315798   (ca22a1cb)
2021-07-03T22:32:10.7115777+07:00 0HM9U6UI0EO3R:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:10.7119540+07:00 0HM9U6UI0EO3R:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:10.7121121+07:00 0HM9U6UI0EO3R:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:10.7123592+07:00 0HM9U6UI0EO3R:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:10.7123582+07:00 0HM9U6UI0EO3R:00000015 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:10.7125788+07:00 0HM9U6UI0EO3R:00000017 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:10.7147827+07:00 0HM9U6UI0EO3R:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:10.7146727+07:00 0HM9U6UI0EO3R:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:10.7170296+07:00 0HM9U6UI0EO3R:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:10.7170333+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:10.7176613+07:00 0HM9U6UI0EO3R:00000015 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:32:10.7186041+07:00 0HM9U6UI0EO3R:00000015 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.1494ms (afa2e885)
2021-07-03T22:32:10.7186616+07:00 0HM9U6UI0EO3R:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:10.7187302+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:10.7189682+07:00 0HM9U6UI0EO3R:00000015 [INF] Request finished in 10.8331ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:32:10.7196345+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:32:10.7202662+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:32:10.7209827+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:32:10.7233336+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:10.7235623+07:00 0HM9U6UI0EO3R:00000017 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:32:10.7242874+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.7911ms. (6f83ade2)
2021-07-03T22:32:10.7243187+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 11.7132ms (afa2e885)
2021-07-03T22:32:10.7243349+07:00 0HM9U6UI0EO3R:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:10.7244521+07:00 0HM9U6UI0EO3R:00000017 [INF] Request finished in 15.609ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:12.6068055+07:00 0HM9U6UI0EO3T:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326324005   (ca22a1cb)
2021-07-03T22:32:12.6076182+07:00 0HM9U6UI0EO3T:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:12.6077676+07:00 0HM9U6UI0EO3T:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:12.6079491+07:00 0HM9U6UI0EO3T:0000000D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:12.6091728+07:00 0HM9U6UI0EO3T:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:12.6116429+07:00 0HM9U6UI0EO3T:0000000F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:32:12.6116859+07:00 0HM9U6UI0EO3T:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:12.6130102+07:00 0HM9U6UI0EO3T:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:12.6133604+07:00 0HM9U6UI0EO3T:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:12.6136479+07:00 0HM9U6UI0EO3T:0000000F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:12.6145363+07:00 0HM9U6UI0EO3T:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:12.6182865+07:00 0HM9U6UI0EO3T:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:12.6189525+07:00 0HM9U6UI0EO3T:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:12.6192214+07:00 0HM9U6UI0EO3T:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:32:12.6194153+07:00 0HM9U6UI0EO3T:0000000D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:32:12.6195174+07:00 0HM9U6UI0EO3T:0000000F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:32:12.6202249+07:00 0HM9U6UI0EO3T:0000000F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.3872ms (afa2e885)
2021-07-03T22:32:12.6202686+07:00 0HM9U6UI0EO3T:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:12.6203472+07:00 0HM9U6UI0EO3T:0000000D [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.0135ms. (6f83ade2)
2021-07-03T22:32:12.6203813+07:00 0HM9U6UI0EO3T:0000000D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 12.3995ms (afa2e885)
2021-07-03T22:32:12.6204029+07:00 0HM9U6UI0EO3T:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:12.6205805+07:00 0HM9U6UI0EO3T:0000000F [INF] Request finished in 9.1495ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:32:12.6205805+07:00 0HM9U6UI0EO3T:0000000D [INF] Request finished in 13.7763ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:32:13.6368875+07:00 0HM9U6UI0EO3T:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:32:13.6390991+07:00 0HM9U6UI0EO3T:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:13.6396667+07:00 0HM9U6UI0EO3T:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:13.6460371+07:00 0HM9U6UI0EO3T:00000011 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:13.6517449+07:00 0HM9U6UI0EO3T:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:13.6527388+07:00 0HM9U6UI0EO3T:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:13.6587992+07:00 0HM9U6UI0EO3T:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:32:13.6821467+07:00 0HM9U6UI0EO3T:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:13.6839887+07:00 0HM9U6UI0EO3T:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:13.7103961+07:00 0HM9U6UI0EO3T:00000011 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:32:13.7481064+07:00 0HM9U6UI0EO3T:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 101.9887ms (afa2e885)
2021-07-03T22:32:13.7482061+07:00 0HM9U6UI0EO3T:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:13.7485934+07:00 0HM9U6UI0EO3T:00000011 [INF] Request finished in 111.8209ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:32:15.0006692+07:00 0HM9U6UI0EO3T:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T22:32:15.0018126+07:00 0HM9U6UI0EO3T:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:15.0019999+07:00 0HM9U6UI0EO3T:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:15.0048593+07:00 0HM9U6UI0EO3T:00000013 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:15.0082509+07:00 0HM9U6UI0EO3T:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:15.0089413+07:00 0HM9U6UI0EO3T:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:15.0097835+07:00 0HM9U6UI0EO3T:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:32:15.0169270+07:00 0HM9U6UI0EO3T:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=3   (ca22a1cb)
2021-07-03T22:32:15.0178066+07:00 0HM9U6UI0EO3T:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:32:15.0179613+07:00 0HM9U6UI0EO3T:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:32:15.0181288+07:00 0HM9U6UI0EO3T:00000015 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:32:15.0184538+07:00 0HM9U6UI0EO3T:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:15.0189951+07:00 0HM9U6UI0EO3T:00000013 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:32:15.0190934+07:00 0HM9U6UI0EO3T:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:32:15.0200308+07:00 0HM9U6UI0EO3T:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:32:15.0208729+07:00 0HM9U6UI0EO3T:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:32:15.0219130+07:00 0HM9U6UI0EO3T:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:32:15.0220403+07:00 0HM9U6UI0EO3T:00000015 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:32:15.0346526+07:00 0HM9U6UI0EO3T:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 16.4654ms (afa2e885)
2021-07-03T22:32:15.0346817+07:00 0HM9U6UI0EO3T:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 29.7856ms (afa2e885)
2021-07-03T22:32:15.0347206+07:00 0HM9U6UI0EO3T:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:15.0347271+07:00 0HM9U6UI0EO3T:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:32:15.0349778+07:00 0HM9U6UI0EO3T:00000015 [INF] Request finished in 18.0591ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:32:15.0349933+07:00 0HM9U6UI0EO3T:00000013 [INF] Request finished in 34.3281ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:10.4604469+07:00 0HM9U6UI0EO3T:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326324006   (ca22a1cb)
2021-07-03T22:33:10.4619719+07:00 0HM9U6UI0EO3T:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:10.4622059+07:00 0HM9U6UI0EO3T:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:10.4624382+07:00 0HM9U6UI0EO3T:00000017 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:10.4736462+07:00 0HM9U6UI0EO3T:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:10.4808918+07:00 0HM9U6UI0EO3T:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:33:10.4817718+07:00 0HM9U6UI0EO3T:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:10.4818813+07:00 0HM9U6UI0EO3T:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:10.4820139+07:00 0HM9U6UI0EO3T:00000019 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:10.4821126+07:00 0HM9U6UI0EO3T:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:10.4831413+07:00 0HM9U6UI0EO3T:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:10.4837854+07:00 0HM9U6UI0EO3T:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:10.4858627+07:00 0HM9U6UI0EO3T:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:10.4861338+07:00 0HM9U6UI0EO3T:00000019 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:33:10.4868629+07:00 0HM9U6UI0EO3T:00000019 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.7572ms (afa2e885)
2021-07-03T22:33:10.4869591+07:00 0HM9U6UI0EO3T:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:10.4873605+07:00 0HM9U6UI0EO3T:00000019 [INF] Request finished in 9.7707ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:10.4892627+07:00 0HM9U6UI0EO3T:00000017 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:10.4895816+07:00 0HM9U6UI0EO3T:00000017 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:33:10.4903715+07:00 0HM9U6UI0EO3T:00000017 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.8909ms. (6f83ade2)
2021-07-03T22:33:10.4904069+07:00 0HM9U6UI0EO3T:00000017 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 27.8971ms (afa2e885)
2021-07-03T22:33:10.4904242+07:00 0HM9U6UI0EO3T:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:10.4905495+07:00 0HM9U6UI0EO3T:00000017 [INF] Request finished in 30.3142ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:11.9399231+07:00 0HM9U6UI0EO3T:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:33:11.9413615+07:00 0HM9U6UI0EO3T:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:11.9416388+07:00 0HM9U6UI0EO3T:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:11.9419544+07:00 0HM9U6UI0EO3T:0000001B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:11.9448468+07:00 0HM9U6UI0EO3T:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:11.9460929+07:00 0HM9U6UI0EO3T:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:11.9496098+07:00 0HM9U6UI0EO3T:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:11.9582879+07:00 0HM9U6UI0EO3T:0000001B [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:11.9595872+07:00 0HM9U6UI0EO3T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:11.9644392+07:00 0HM9U6UI0EO3T:0000001B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:33:11.9666974+07:00 0HM9U6UI0EO3T:0000001B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 24.6158ms (afa2e885)
2021-07-03T22:33:11.9667614+07:00 0HM9U6UI0EO3T:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:11.9673356+07:00 0HM9U6UI0EO3T:0000001B [INF] Request finished in 27.3949ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:16.8947542+07:00 0HM9U6UI0EO3R:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:33:16.8950909+07:00 0HM9U6UI0EO3R:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326315799   (ca22a1cb)
2021-07-03T22:33:16.8967942+07:00 0HM9U6UI0EO3R:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:16.8968016+07:00 0HM9U6UI0EO3R:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:16.8970323+07:00 0HM9U6UI0EO3R:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:16.8970452+07:00 0HM9U6UI0EO3R:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:16.8972388+07:00 0HM9U6UI0EO3R:00000019 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:16.8972314+07:00 0HM9U6UI0EO3R:0000001B [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:16.8989979+07:00 0HM9U6UI0EO3R:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:16.8993940+07:00 0HM9U6UI0EO3R:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:16.9002596+07:00 0HM9U6UI0EO3R:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:16.9006258+07:00 0HM9U6UI0EO3R:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:16.9008604+07:00 0HM9U6UI0EO3R:00000019 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:33:16.9011326+07:00 0HM9U6UI0EO3R:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:16.9015352+07:00 0HM9U6UI0EO3R:00000019 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.2122ms (afa2e885)
2021-07-03T22:33:16.9015890+07:00 0HM9U6UI0EO3R:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:16.9019074+07:00 0HM9U6UI0EO3R:00000019 [INF] Request finished in 7.5615ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:16.9030219+07:00 0HM9U6UI0EO3R:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:16.9032629+07:00 0HM9U6UI0EO3R:0000001B [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:33:16.9041607+07:00 0HM9U6UI0EO3R:0000001B [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.9518ms. (6f83ade2)
2021-07-03T22:33:16.9042575+07:00 0HM9U6UI0EO3R:0000001B [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 6.9449ms (afa2e885)
2021-07-03T22:33:16.9043022+07:00 0HM9U6UI0EO3R:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:16.9047117+07:00 0HM9U6UI0EO3R:0000001B [INF] Request finished in 9.5734ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:18.0200768+07:00 0HM9U6UI0EO3R:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:33:18.0211130+07:00 0HM9U6UI0EO3R:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:18.0212905+07:00 0HM9U6UI0EO3R:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:18.0215306+07:00 0HM9U6UI0EO3R:0000001D [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:18.0233360+07:00 0HM9U6UI0EO3R:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:18.0242077+07:00 0HM9U6UI0EO3R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:18.0255929+07:00 0HM9U6UI0EO3R:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:18.0316688+07:00 0HM9U6UI0EO3R:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:18.0334585+07:00 0HM9U6UI0EO3R:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:18.0373792+07:00 0HM9U6UI0EO3R:0000001D [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:33:18.0384228+07:00 0HM9U6UI0EO3R:0000001D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 16.7467ms (afa2e885)
2021-07-03T22:33:18.0385161+07:00 0HM9U6UI0EO3R:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:18.0389614+07:00 0HM9U6UI0EO3R:0000001D [INF] Request finished in 18.8904ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:18.9373458+07:00 0HM9U6UI0EO3R:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T22:33:18.9385658+07:00 0HM9U6UI0EO3R:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:18.9386983+07:00 0HM9U6UI0EO3R:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:18.9388399+07:00 0HM9U6UI0EO3R:0000001F [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:18.9399721+07:00 0HM9U6UI0EO3R:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:18.9406375+07:00 0HM9U6UI0EO3R:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:18.9414972+07:00 0HM9U6UI0EO3R:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:18.9452956+07:00 0HM9U6UI0EO3R:0000001F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:18.9454474+07:00 0HM9U6UI0EO3R:0000001F [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:33:18.9459059+07:00 0HM9U6UI0EO3R:0000001F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 7.017ms (afa2e885)
2021-07-03T22:33:18.9459320+07:00 0HM9U6UI0EO3R:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:18.9461418+07:00 0HM9U6UI0EO3R:0000001F [INF] Request finished in 8.7927ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:18.9536288+07:00 0HM9U6UI0EO3R:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=3   (ca22a1cb)
2021-07-03T22:33:18.9543676+07:00 0HM9U6UI0EO3R:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:18.9545150+07:00 0HM9U6UI0EO3R:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:18.9546260+07:00 0HM9U6UI0EO3R:00000021 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:18.9558700+07:00 0HM9U6UI0EO3R:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:18.9565374+07:00 0HM9U6UI0EO3R:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:18.9572643+07:00 0HM9U6UI0EO3R:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:18.9585977+07:00 0HM9U6UI0EO3R:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:18.9587152+07:00 0HM9U6UI0EO3R:00000021 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:33:18.9591306+07:00 0HM9U6UI0EO3R:00000021 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 4.4651ms (afa2e885)
2021-07-03T22:33:18.9591595+07:00 0HM9U6UI0EO3R:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:18.9593578+07:00 0HM9U6UI0EO3R:00000021 [INF] Request finished in 5.7282ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:32.7483569+07:00 0HM9U6UI0EO3T:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:33:32.7538766+07:00 0HM9U6UI0EO3T:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:32.7540480+07:00 0HM9U6UI0EO3T:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:32.7542440+07:00 0HM9U6UI0EO3T:0000001D [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:32.7552651+07:00 0HM9U6UI0EO3T:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:32.7573701+07:00 0HM9U6UI0EO3T:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:32.7635620+07:00 0HM9U6UI0EO3T:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:32.7641371+07:00 0HM9U6UI0EO3T:0000001D [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:33:32.7656060+07:00 0HM9U6UI0EO3T:0000001D [INF] Executed PartialViewResult - view "_ListContacts" executed in 1.5547ms. (6f83ade2)
2021-07-03T22:33:32.7656753+07:00 0HM9U6UI0EO3T:0000001D [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 11.3877ms (afa2e885)
2021-07-03T22:33:32.7657189+07:00 0HM9U6UI0EO3T:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:32.7659943+07:00 0HM9U6UI0EO3T:0000001D [INF] Request finished in 17.6868ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:34.5177194+07:00 0HM9U6UI0EO3T:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?page=1   (ca22a1cb)
2021-07-03T22:33:34.5184123+07:00 0HM9U6UI0EO3T:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:34.5186025+07:00 0HM9U6UI0EO3T:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:34.5219206+07:00 0HM9U6UI0EO3T:0000001F [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:34.5262802+07:00 0HM9U6UI0EO3T:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:34.5268841+07:00 0HM9U6UI0EO3T:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:34.5304505+07:00 0HM9U6UI0EO3T:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:33:34.5351419+07:00 0HM9U6UI0EO3T:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:34.5353364+07:00 0HM9U6UI0EO3T:0000001F [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:33:34.5408235+07:00 0HM9U6UI0EO3T:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 18.7968ms (afa2e885)
2021-07-03T22:33:34.5409015+07:00 0HM9U6UI0EO3T:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:34.5412379+07:00 0HM9U6UI0EO3T:0000001F [INF] Request finished in 23.5549ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:35.6946156+07:00 0HM9U6UI0EO3T:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?page=2   (ca22a1cb)
2021-07-03T22:33:35.6953439+07:00 0HM9U6UI0EO3T:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:35.6954292+07:00 0HM9U6UI0EO3T:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:35.6955279+07:00 0HM9U6UI0EO3T:00000021 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:35.6961880+07:00 0HM9U6UI0EO3T:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:35.6967824+07:00 0HM9U6UI0EO3T:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:35.6974880+07:00 0HM9U6UI0EO3T:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:33:35.7037715+07:00 0HM9U6UI0EO3T:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:35.7039296+07:00 0HM9U6UI0EO3T:00000021 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:33:35.7045287+07:00 0HM9U6UI0EO3T:00000021 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 8.9635ms (afa2e885)
2021-07-03T22:33:35.7045527+07:00 0HM9U6UI0EO3T:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:35.7047179+07:00 0HM9U6UI0EO3T:00000021 [INF] Request finished in 10.127ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:38.3798836+07:00 0HM9U6UI0EO3T:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=th&page=1   (ca22a1cb)
2021-07-03T22:33:38.3814554+07:00 0HM9U6UI0EO3T:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:38.3815430+07:00 0HM9U6UI0EO3T:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:38.3817700+07:00 0HM9U6UI0EO3T:00000023 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:38.3827147+07:00 0HM9U6UI0EO3T:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:38.3833550+07:00 0HM9U6UI0EO3T:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:38.3842315+07:00 0HM9U6UI0EO3T:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:33:38.3928048+07:00 0HM9U6UI0EO3T:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE ((([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND ((@__keyword_0 LIKE N'') OR (CHARINDEX(@__keyword_0, LOWER([u].[UserName])) > 0))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:38.3929663+07:00 0HM9U6UI0EO3T:00000023 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:33:38.3934917+07:00 0HM9U6UI0EO3T:00000023 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 11.664ms (afa2e885)
2021-07-03T22:33:38.3935154+07:00 0HM9U6UI0EO3T:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:38.3936855+07:00 0HM9U6UI0EO3T:00000023 [INF] Request finished in 14.3134ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:38.6570514+07:00 0HM9U6UI0EO3T:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListToNewContact?keyword=th&page=2   (ca22a1cb)
2021-07-03T22:33:38.6575367+07:00 0HM9U6UI0EO3T:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:38.6576281+07:00 0HM9U6UI0EO3T:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:38.6577825+07:00 0HM9U6UI0EO3T:00000025 [INF] Route matched with "{action = \"GetListToNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToNewContact(System.String, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:38.6585999+07:00 0HM9U6UI0EO3T:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:38.6591924+07:00 0HM9U6UI0EO3T:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:38.6599584+07:00 0HM9U6UI0EO3T:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:33:38.6665372+07:00 0HM9U6UI0EO3T:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__keyword_0='?' (Size = 4000), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[Address]
FROM [Users] AS [u]
WHERE ((([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND ((@__keyword_0 LIKE N'') OR (CHARINDEX(@__keyword_0, LOWER([u].[UserName])) > 0))) AND [u].[Id] NOT IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:38.6666627+07:00 0HM9U6UI0EO3T:00000025 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:33:38.6670068+07:00 0HM9U6UI0EO3T:00000025 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)" in 9.1592ms (afa2e885)
2021-07-03T22:33:38.6670371+07:00 0HM9U6UI0EO3T:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListToNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:38.6671919+07:00 0HM9U6UI0EO3T:00000025 [INF] Request finished in 10.2794ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:40.8518739+07:00 0HM9U6UI0EO3T:00000027 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/SendNotifyAddNewContact application/x-www-form-urlencoded; charset=UTF-8 55 (ca22a1cb)
2021-07-03T22:33:40.8526494+07:00 0HM9U6UI0EO3T:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:40.8527696+07:00 0HM9U6UI0EO3T:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:40.8587968+07:00 0HM9U6UI0EO3T:00000027 [INF] Route matched with "{action = \"SendNotifyAddNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SendNotifyAddNewContact(System.Guid, System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:40.8616888+07:00 0HM9U6UI0EO3T:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:40.8674934+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:33:40.8747918+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T22:33:40.8766156+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T22:33:40.9118647+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 100), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Notifications] ([Content], [CreatedAt], [LastModifyAt], [ReceiverGroupId], [SenderId], [Title], [TypeNotification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Notifications]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:33:40.9615982+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NotificationUsers] ([CreatedAt], [LastModifyAt], [NotificationId], [ReceiverUserId], [TimeRead])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id], [IsRead]
FROM [NotificationUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:33:40.9689250+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:40.9694529+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:33:40.9802631+07:00 0HM9U6UI0EO3T:00000027 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:33:40.9870521+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)" in 127.9676ms (afa2e885)
2021-07-03T22:33:40.9871055+07:00 0HM9U6UI0EO3T:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:40.9872997+07:00 0HM9U6UI0EO3T:00000027 [INF] Request finished in 135.4644ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:44.6297306+07:00 0HM9U6UI0EO3R:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/Notification/GetListNotification   (ca22a1cb)
2021-07-03T22:33:44.6309377+07:00 0HM9U6UI0EO3R:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:44.6310235+07:00 0HM9U6UI0EO3R:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:44.6323108+07:00 0HM9U6UI0EO3R:00000023 [INF] Route matched with "{action = \"GetListNotification\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListNotification(System.String)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:44.6356352+07:00 0HM9U6UI0EO3R:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:44.6374490+07:00 0HM9U6UI0EO3R:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:44.6475577+07:00 0HM9U6UI0EO3R:00000023 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[AvatarLink], [u].[UserName], [n].[SenderId], [n].[CreatedAt] AS [TimeSend], [n].[Content] AS [ContentNotify], [n].[TypeNotification] AS [TypeNotify], [n].[Id] AS [NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE [n0].[ReceiverUserId] = @__user_Id_0
) AS [t] ON [n].[Id] = [t].[NotificationId]
INNER JOIN [Users] AS [u] ON [n].[SenderId] = [u].[Id]
WHERE [n].[TypeNotification] <> 1
ORDER BY [n].[CreatedAt] DESC
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:44.6507354+07:00 0HM9U6UI0EO3R:00000023 [INF] Executing PartialViewResult, running view "_ListNotifications". (1d3d4b21)
2021-07-03T22:33:44.6577326+07:00 0HM9U6UI0EO3R:00000023 [INF] Executed PartialViewResult - view "_ListNotifications" executed in 9.6389ms. (6f83ade2)
2021-07-03T22:33:44.6577984+07:00 0HM9U6UI0EO3R:00000023 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)" in 25.4615ms (afa2e885)
2021-07-03T22:33:44.6578216+07:00 0HM9U6UI0EO3R:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.GetListNotification (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:44.6579918+07:00 0HM9U6UI0EO3R:00000023 [INF] Request finished in 28.4624ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:45.8496621+07:00 0HM9U6UI0EO3R:00000025 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/AcceptNewContact application/x-www-form-urlencoded; charset=UTF-8 54 (ca22a1cb)
2021-07-03T22:33:45.8503393+07:00 0HM9U6UI0EO3R:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:45.8504570+07:00 0HM9U6UI0EO3R:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.AcceptNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:45.8531261+07:00 0HM9U6UI0EO3R:00000025 [INF] Route matched with "{action = \"AcceptNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AcceptNewContact(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:45.8560713+07:00 0HM9U6UI0EO3R:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:45.8630499+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid), @__contactId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Contacts] AS [c]
        WHERE (([c].[UserId] = @__userId_0) AND ([c].[FriendId] = @__contactId_1)) OR (([c].[UserId] = @__contactId_1) AND ([c].[FriendId] = @__userId_0))) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-07-03T22:33:45.8876018+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Contacts] ([CreatedAt], [FriendId], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id], [IsBlock]
FROM [Contacts]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:33:45.8922087+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Contacts] ([CreatedAt], [FriendId], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id], [IsBlock]
FROM [Contacts]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:33:45.8950498+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:33:45.9009930+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:45.9032680+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:33:45.9110688+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__notiId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id], [n].[Content], [n].[CreatedAt], [n].[LastModifyAt], [n].[ReceiverGroupId], [n].[SenderId], [n].[Title], [n].[TypeNotification]
FROM [Notifications] AS [n]
WHERE [n].[Id] = @__notiId_0" (0723d8ff)
2021-07-03T22:33:45.9192531+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__notiId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[ReceiverUserId]
FROM [NotificationUsers] AS [n]
WHERE [n].[NotificationId] = @__notiId_0" (0723d8ff)
2021-07-03T22:33:45.9227350+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__recieveUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__recieveUserId_0" (0723d8ff)
2021-07-03T22:33:45.9247353+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@p7='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 100), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Notifications] SET [Content] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [ReceiverGroupId] = @p3, [SenderId] = @p4, [Title] = @p5, [TypeNotification] = @p6
WHERE [Id] = @p7;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:33:45.9257160+07:00 0HM9U6UI0EO3R:00000025 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:33:45.9269971+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.AcceptNewContact (WebChat.WebApp)" in 73.82ms (afa2e885)
2021-07-03T22:33:45.9270205+07:00 0HM9U6UI0EO3R:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.AcceptNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:45.9271490+07:00 0HM9U6UI0EO3R:00000025 [INF] Request finished in 77.69ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:46.7903162+07:00 0HM9U6UI0EO3R:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:33:46.7909725+07:00 0HM9U6UI0EO3R:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:46.7911324+07:00 0HM9U6UI0EO3R:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:46.7912885+07:00 0HM9U6UI0EO3R:00000027 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:46.7929714+07:00 0HM9U6UI0EO3R:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:46.7966644+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:46.8009595+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:46.8029985+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:46.8045922+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:33:46.8060915+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:33:46.8078126+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:33:46.8095496+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:33:46.8102754+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:46.8107960+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:46.8113481+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:33:46.8116034+07:00 0HM9U6UI0EO3R:00000027 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:33:46.8124214+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.8682ms. (6f83ade2)
2021-07-03T22:33:46.8124786+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 21.1482ms (afa2e885)
2021-07-03T22:33:46.8125105+07:00 0HM9U6UI0EO3R:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:46.8126064+07:00 0HM9U6UI0EO3R:00000027 [INF] Request finished in 22.6647ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:48.2398785+07:00 0HM9U6UI0EO3R:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:33:48.2401704+07:00 0HM9U6UI0EO3R:00000029 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:48.2402216+07:00 0HM9U6UI0EO3R:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:48.2402731+07:00 0HM9U6UI0EO3R:00000029 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:48.2405856+07:00 0HM9U6UI0EO3R:00000029 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:48.2421281+07:00 0HM9U6UI0EO3R:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:33:48.2455151+07:00 0HM9U6UI0EO3R:00000029 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:48.2457549+07:00 0HM9U6UI0EO3R:00000029 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:33:48.2467903+07:00 0HM9U6UI0EO3R:00000029 [INF] Executed PartialViewResult - view "_ListContacts" executed in 1.0869ms. (6f83ade2)
2021-07-03T22:33:48.2468451+07:00 0HM9U6UI0EO3R:00000029 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 6.5458ms (afa2e885)
2021-07-03T22:33:48.2468650+07:00 0HM9U6UI0EO3R:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:48.2469768+07:00 0HM9U6UI0EO3R:00000029 [INF] Request finished in 7.1024ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:50.1554278+07:00 0HM9U6UI0EO3R:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:33:50.1556835+07:00 0HM9U6UI0EO3R:0000002B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:50.1557332+07:00 0HM9U6UI0EO3R:0000002B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:50.1557916+07:00 0HM9U6UI0EO3R:0000002B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:50.1561313+07:00 0HM9U6UI0EO3R:0000002B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:50.1581124+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:50.1605333+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:50.1614371+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:50.1625599+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:33:50.1634165+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:33:50.1646497+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:33:50.1660865+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:33:50.1673458+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:50.1680463+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:50.1687356+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:33:50.1689615+07:00 0HM9U6UI0EO3R:0000002B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:33:50.1701519+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.229ms. (6f83ade2)
2021-07-03T22:33:50.1702000+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 14.3837ms (afa2e885)
2021-07-03T22:33:50.1702315+07:00 0HM9U6UI0EO3R:0000002B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:50.1703813+07:00 0HM9U6UI0EO3R:0000002B [INF] Request finished in 14.9537ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:53.2454514+07:00 0HM9U6UI0EO3R:0000002D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:33:53.2463704+07:00 0HM9U6UI0EO3R:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625326315800   (ca22a1cb)
2021-07-03T22:33:53.2469694+07:00 0HM9U6UI0EO3R:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:53.2470199+07:00 0HM9U6UI0EO3R:0000002F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:53.2471352+07:00 0HM9U6UI0EO3R:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:53.2471367+07:00 0HM9U6UI0EO3R:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:53.2472631+07:00 0HM9U6UI0EO3R:0000002D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:53.2472632+07:00 0HM9U6UI0EO3R:0000002F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:53.2489196+07:00 0HM9U6UI0EO3R:0000002F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:53.2492096+07:00 0HM9U6UI0EO3R:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:53.2514636+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:53.2556947+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:33:53.2575223+07:00 0HM9U6UI0EO3R:0000002D [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:33:53.2577697+07:00 0HM9U6UI0EO3R:0000002D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:33:53.2581968+07:00 0HM9U6UI0EO3R:0000002D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 10.8749ms (afa2e885)
2021-07-03T22:33:53.2582426+07:00 0HM9U6UI0EO3R:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:53.2584363+07:00 0HM9U6UI0EO3R:0000002D [INF] Request finished in 13.024ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:33:53.2592258+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:33:53.2600243+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:33:53.2617408+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:33:53.2660191+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:33:53.2662294+07:00 0HM9U6UI0EO3R:0000002F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:33:53.2668368+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.6474ms. (6f83ade2)
2021-07-03T22:33:53.2668956+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 19.5904ms (afa2e885)
2021-07-03T22:33:53.2669140+07:00 0HM9U6UI0EO3R:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:53.2670468+07:00 0HM9U6UI0EO3R:0000002F [INF] Request finished in 21.024ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:33:57.1338724+07:00 0HM9U6UI0EO3R:00000031 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/BlockFriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:33:57.1350421+07:00 0HM9U6UI0EO3R:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:33:57.1351933+07:00 0HM9U6UI0EO3R:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:33:57.1393988+07:00 0HM9U6UI0EO3R:00000031 [INF] Route matched with "{action = \"BlockFriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult BlockFriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:33:57.1431384+07:00 0HM9U6UI0EO3R:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:33:57.1487685+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:33:57.1566788+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__friendId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__friendId_0) AND ([c].[FriendId] = @__userId_1)" (0723d8ff)
2021-07-03T22:33:57.1630913+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Contacts] SET [CreatedAt] = @p0, [FriendId] = @p1, [IsBlock] = @p2, [LastModifyAt] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:33:57.1707038+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:33:57.1720871+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:33:57.1773847+07:00 0HM9U6UI0EO3R:00000031 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:33:57.1776057+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)" in 38.1612ms (afa2e885)
2021-07-03T22:33:57.1776385+07:00 0HM9U6UI0EO3R:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.BlockFriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:33:57.1777924+07:00 0HM9U6UI0EO3R:00000031 [INF] Request finished in 44.0915ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:02.6251414+07:00 0HM9U6UI0EO3T:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:34:02.6257897+07:00 0HM9U6UI0EO3T:00000029 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:02.6258802+07:00 0HM9U6UI0EO3T:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:02.6259491+07:00 0HM9U6UI0EO3T:00000029 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:02.6263997+07:00 0HM9U6UI0EO3T:00000029 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:02.6293725+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:02.6327639+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:02.6339209+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:02.6354710+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:34:02.6372050+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:34:02.6389922+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:34:02.6398651+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:02.6404968+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:02.6424403+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:34:02.6434947+07:00 0HM9U6UI0EO3T:00000029 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:34:02.6443870+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.9644ms. (6f83ade2)
2021-07-03T22:34:02.6444216+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 18.4517ms (afa2e885)
2021-07-03T22:34:02.6444385+07:00 0HM9U6UI0EO3T:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:02.6445409+07:00 0HM9U6UI0EO3T:00000029 [INF] Request finished in 19.5364ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:34:05.9372942+07:00 0HM9U6UI0EO3R:00000033 [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/UnBlockFriend application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:34:05.9375709+07:00 0HM9U6UI0EO3R:00000033 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:05.9376326+07:00 0HM9U6UI0EO3R:00000033 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.UnBlockFriend (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:05.9390171+07:00 0HM9U6UI0EO3R:00000033 [INF] Route matched with "{action = \"UnBlockFriend\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult UnBlockFriend(System.Guid)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:05.9399943+07:00 0HM9U6UI0EO3R:00000033 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:05.9413316+07:00 0HM9U6UI0EO3R:00000033 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] <> @__userId_1)" (0723d8ff)
2021-07-03T22:34:05.9429304+07:00 0HM9U6UI0EO3R:00000033 [INF] Executed DbCommand ("1"ms) [Parameters=["@__friendId_0='?' (DbType = Guid), @__userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[CreatedAt], [c].[FriendId], [c].[IsBlock], [c].[LastModifyAt], [c].[UserId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__friendId_0) AND ([c].[FriendId] = @__userId_1)" (0723d8ff)
2021-07-03T22:34:05.9459147+07:00 0HM9U6UI0EO3R:00000033 [INF] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = Guid), @p2='?' (DbType = Boolean), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Contacts] SET [CreatedAt] = @p0, [FriendId] = @p1, [IsBlock] = @p2, [LastModifyAt] = @p3, [UserId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:34:05.9534084+07:00 0HM9U6UI0EO3R:00000033 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:34:05.9537238+07:00 0HM9U6UI0EO3R:00000033 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:34:05.9539559+07:00 0HM9U6UI0EO3R:00000033 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.UnBlockFriend (WebChat.WebApp)" in 14.9126ms (afa2e885)
2021-07-03T22:34:05.9539797+07:00 0HM9U6UI0EO3R:00000033 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.UnBlockFriend (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:05.9540377+07:00 0HM9U6UI0EO3R:00000033 [INF] Request finished in 16.7626ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:08.1646240+07:00 0HM9U6UI0EO3T:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:34:08.1649847+07:00 0HM9U6UI0EO3T:0000002B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:08.1650574+07:00 0HM9U6UI0EO3T:0000002B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:08.1651349+07:00 0HM9U6UI0EO3T:0000002B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:08.1655408+07:00 0HM9U6UI0EO3T:0000002B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:08.1664043+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:08.1672147+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:08.1678315+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:08.1684705+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:34:08.1691018+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:34:08.1697619+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:34:08.1703413+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:34:08.1709759+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:08.1714570+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:08.1719916+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:34:08.1722174+07:00 0HM9U6UI0EO3T:0000002B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:34:08.1730575+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.8805ms. (6f83ade2)
2021-07-03T22:34:08.1730902+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.9338ms (afa2e885)
2021-07-03T22:34:08.1731200+07:00 0HM9U6UI0EO3T:0000002B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:08.1732484+07:00 0HM9U6UI0EO3T:0000002B [INF] Request finished in 8.8368ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:34:08.7141983+07:00 0HM9U6UI0EO3T:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T22:34:08.7146721+07:00 0HM9U6UI0EO3T:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:08.7147709+07:00 0HM9U6UI0EO3T:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:08.7148688+07:00 0HM9U6UI0EO3T:0000002D [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:08.7153859+07:00 0HM9U6UI0EO3T:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:08.7175229+07:00 0HM9U6UI0EO3T:0000002D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:34:08.7237451+07:00 0HM9U6UI0EO3T:0000002D [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:08.7239632+07:00 0HM9U6UI0EO3T:0000002D [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T22:34:08.7246724+07:00 0HM9U6UI0EO3T:0000002D [INF] Executed PartialViewResult - view "_ListContacts" executed in 0.7228ms. (6f83ade2)
2021-07-03T22:34:08.7247269+07:00 0HM9U6UI0EO3T:0000002D [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 9.8197ms (afa2e885)
2021-07-03T22:34:08.7247576+07:00 0HM9U6UI0EO3T:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:08.7248726+07:00 0HM9U6UI0EO3T:0000002D [INF] Request finished in 10.8686ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:34:09.4587666+07:00 0HM9U6UI0EO3T:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:34:09.4592059+07:00 0HM9U6UI0EO3T:0000002F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:09.4593035+07:00 0HM9U6UI0EO3T:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:09.4593826+07:00 0HM9U6UI0EO3T:0000002F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:09.4599441+07:00 0HM9U6UI0EO3T:0000002F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:09.4610018+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:09.4620143+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:09.4627287+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:09.4635711+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:34:09.4643688+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:34:09.4652127+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:34:09.4660684+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:34:09.4669957+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:09.4677516+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:09.4685628+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:34:09.4688826+07:00 0HM9U6UI0EO3T:0000002F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:34:09.4698754+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.0434ms. (6f83ade2)
2021-07-03T22:34:09.4699329+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.5211ms (afa2e885)
2021-07-03T22:34:09.4699600+07:00 0HM9U6UI0EO3T:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:09.4701036+07:00 0HM9U6UI0EO3T:0000002F [INF] Request finished in 11.3671ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:34:15.3953445+07:00 0HM9U6UI0EO3T:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:34:15.3960756+07:00 0HM9U6UI0EO3T:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:15.3961778+07:00 0HM9U6UI0EO3T:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:15.3962798+07:00 0HM9U6UI0EO3T:00000031 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:15.3970113+07:00 0HM9U6UI0EO3T:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:15.3989110+07:00 0HM9U6UI0EO3T:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:15.4015008+07:00 0HM9U6UI0EO3T:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:15.4085351+07:00 0HM9U6UI0EO3T:00000031 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:15.4095437+07:00 0HM9U6UI0EO3T:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:15.4124580+07:00 0HM9U6UI0EO3T:00000031 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:34:15.4133218+07:00 0HM9U6UI0EO3T:00000031 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 16.974ms (afa2e885)
2021-07-03T22:34:15.4133686+07:00 0HM9U6UI0EO3T:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:15.4135675+07:00 0HM9U6UI0EO3T:00000031 [INF] Request finished in 18.5223ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:22.2051776+07:00 0HM9U6UI0EO3T:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T22:34:22.2056905+07:00 0HM9U6UI0EO3T:00000033 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:22.2058076+07:00 0HM9U6UI0EO3T:00000033 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:22.2058963+07:00 0HM9U6UI0EO3T:00000033 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:22.2066272+07:00 0HM9U6UI0EO3T:00000033 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:22.2075840+07:00 0HM9U6UI0EO3T:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:22.2089295+07:00 0HM9U6UI0EO3T:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:22.2129614+07:00 0HM9U6UI0EO3T:00000033 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:22.2130679+07:00 0HM9U6UI0EO3T:00000033 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:34:22.2133429+07:00 0HM9U6UI0EO3T:00000033 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 7.3947ms (afa2e885)
2021-07-03T22:34:22.2133798+07:00 0HM9U6UI0EO3T:00000033 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:22.2134814+07:00 0HM9U6UI0EO3T:00000033 [INF] Request finished in 8.4441ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:25.5880283+07:00 0HM9U6UI0EO3T:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:34:25.5885723+07:00 0HM9U6UI0EO3T:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:25.5886704+07:00 0HM9U6UI0EO3T:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:25.5907263+07:00 0HM9U6UI0EO3T:00000035 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:25.5955161+07:00 0HM9U6UI0EO3T:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:25.5961171+07:00 0HM9U6UI0EO3T:00000035 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:34:25.5994714+07:00 0HM9U6UI0EO3T:00000035 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:34:25.6016110+07:00 0HM9U6UI0EO3T:00000035 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:25.6124792+07:00 0HM9U6UI0EO3T:00000035 [INF] Executed DbCommand ("6"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE 0 = 1
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:25.6126138+07:00 0HM9U6UI0EO3T:00000035 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:34:25.6128581+07:00 0HM9U6UI0EO3T:00000035 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 22.098ms (afa2e885)
2021-07-03T22:34:25.6128859+07:00 0HM9U6UI0EO3T:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:25.6129531+07:00 0HM9U6UI0EO3T:00000035 [INF] Request finished in 25.0382ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:32.9105637+07:00 0HM9U6UI0EO3R:00000035 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:34:32.9111869+07:00 0HM9U6UI0EO3R:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326315801   (ca22a1cb)
2021-07-03T22:34:32.9120588+07:00 0HM9U6UI0EO3R:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:32.9121551+07:00 0HM9U6UI0EO3R:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:32.9122515+07:00 0HM9U6UI0EO3R:00000035 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:32.9124392+07:00 0HM9U6UI0EO3R:00000037 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:32.9125332+07:00 0HM9U6UI0EO3R:00000037 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:32.9125942+07:00 0HM9U6UI0EO3R:00000037 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:32.9130542+07:00 0HM9U6UI0EO3R:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:32.9130610+07:00 0HM9U6UI0EO3R:00000037 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:32.9136547+07:00 0HM9U6UI0EO3R:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:32.9173043+07:00 0HM9U6UI0EO3R:00000035 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:34:32.9173730+07:00 0HM9U6UI0EO3R:00000037 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:32.9175170+07:00 0HM9U6UI0EO3R:00000035 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:34:32.9177979+07:00 0HM9U6UI0EO3R:00000035 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 5.4865ms (afa2e885)
2021-07-03T22:34:32.9178470+07:00 0HM9U6UI0EO3R:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:32.9180662+07:00 0HM9U6UI0EO3R:00000035 [INF] Request finished in 7.539ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:32.9209221+07:00 0HM9U6UI0EO3R:00000037 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:32.9211132+07:00 0HM9U6UI0EO3R:00000037 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:34:32.9217192+07:00 0HM9U6UI0EO3R:00000037 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.6132ms. (6f83ade2)
2021-07-03T22:34:32.9217475+07:00 0HM9U6UI0EO3R:00000037 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 9.1315ms (afa2e885)
2021-07-03T22:34:32.9218112+07:00 0HM9U6UI0EO3R:00000037 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:32.9219298+07:00 0HM9U6UI0EO3R:00000037 [INF] Request finished in 11.0261ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:34:33.5600855+07:00 0HM9U6UI0EO3R:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:34:33.5607783+07:00 0HM9U6UI0EO3R:00000039 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:33.5610923+07:00 0HM9U6UI0EO3R:00000039 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:33.5614838+07:00 0HM9U6UI0EO3R:00000039 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:33.5629744+07:00 0HM9U6UI0EO3R:00000039 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:33.5640135+07:00 0HM9U6UI0EO3R:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:33.5650692+07:00 0HM9U6UI0EO3R:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:33.5741626+07:00 0HM9U6UI0EO3R:00000039 [INF] Executed DbCommand ("7"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:33.5751764+07:00 0HM9U6UI0EO3R:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:33.5773304+07:00 0HM9U6UI0EO3R:00000039 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:34:33.5781101+07:00 0HM9U6UI0EO3R:00000039 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 16.5235ms (afa2e885)
2021-07-03T22:34:33.5781857+07:00 0HM9U6UI0EO3R:00000039 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:33.5783748+07:00 0HM9U6UI0EO3R:00000039 [INF] Request finished in 18.7086ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:34.4178474+07:00 0HM9U6UI0EO3R:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T22:34:34.4181711+07:00 0HM9U6UI0EO3R:0000003B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:34.4182315+07:00 0HM9U6UI0EO3R:0000003B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:34.4182792+07:00 0HM9U6UI0EO3R:0000003B [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:34.4186356+07:00 0HM9U6UI0EO3R:0000003B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:34.4191072+07:00 0HM9U6UI0EO3R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:34:34.4196761+07:00 0HM9U6UI0EO3R:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:34.4228290+07:00 0HM9U6UI0EO3R:0000003B [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:34:34.4229313+07:00 0HM9U6UI0EO3R:0000003B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:34:34.4231350+07:00 0HM9U6UI0EO3R:0000003B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 4.8349ms (afa2e885)
2021-07-03T22:34:34.4231682+07:00 0HM9U6UI0EO3R:0000003B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:34.4232281+07:00 0HM9U6UI0EO3R:0000003B [INF] Request finished in 5.568ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:41.7303552+07:00 0HM9U6UI0EO3R:0000003D [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:34:41.7312682+07:00 0HM9U6UI0EO3R:0000003D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:34:41.7314301+07:00 0HM9U6UI0EO3R:0000003D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:34:41.7344583+07:00 0HM9U6UI0EO3R:0000003D [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:34:41.7368931+07:00 0HM9U6UI0EO3R:0000003D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:34:41.7376205+07:00 0HM9U6UI0EO3R:0000003D [INF] Executed DbCommand ("0"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:34:41.7495401+07:00 0HM9U6UI0EO3R:0000003D [INF] Executed DbCommand ("6"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:34:41.7648666+07:00 0HM9U6UI0EO3R:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:34:41.7718276+07:00 0HM9U6UI0EO3R:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:34:41.7725841+07:00 0HM9U6UI0EO3R:0000003D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:34:41.7727922+07:00 0HM9U6UI0EO3R:0000003D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 38.2716ms (afa2e885)
2021-07-03T22:34:41.7728173+07:00 0HM9U6UI0EO3R:0000003D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:34:41.7728805+07:00 0HM9U6UI0EO3R:0000003D [INF] Request finished in 42.7099ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:34:54.4387688+07:00 0HM9U6UI0EO3T:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:34:54.4450698+07:00 0HM9U6UI0EO3T:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:34:54.4461246+07:00 0HM9U6UI0EO3T:00000039 [INF] Request finished in 1.1074ms 404  (791a596a)
2021-07-03T22:34:54.4932825+07:00 0HM9U6UI0EO3T:00000037 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:34:54.4934445+07:00 0HM9U6UI0EO3T:00000037 [INF] Request finished in 54.6974ms 200 text/plain (791a596a)
2021-07-03T22:37:52.6186447+07:00 0HM9U6UI0EO3R:0000003F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:37:52.6193026+07:00 0HM9U6UI0EO3R:0000003F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:52.6193774+07:00 0HM9U6UI0EO3R:0000003F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:52.6194305+07:00 0HM9U6UI0EO3R:0000003F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:52.6198279+07:00 0HM9U6UI0EO3R:0000003F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:52.6238666+07:00 0HM9U6UI0EO3R:0000003F [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:37:52.6246474+07:00 0HM9U6UI0EO3R:0000003F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:37:52.6269989+07:00 0HM9U6UI0EO3R:0000003F [INF] Executed ViewResult - view "Index" executed in 2.4632ms. (f66409e9)
2021-07-03T22:37:52.6270914+07:00 0HM9U6UI0EO3R:0000003F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.636ms (afa2e885)
2021-07-03T22:37:52.6271769+07:00 0HM9U6UI0EO3R:0000003F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:52.6274159+07:00 0HM9U6UI0EO3R:0000003F [INF] Request finished in 8.7906ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:37:52.6566582+07:00 0HM9U6UI0EO3S:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:37:52.6568789+07:00 0HM9U6UI0EO3S:00000001 [INF] Request finished in 356558.6896ms 101  (791a596a)
2021-07-03T22:37:52.7845672+07:00 0HM9U6UI0EO3R:00000041 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:37:52.7850511+07:00 0HM9U6UI0EO3R:00000041 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:37:52.7856060+07:00 0HM9U6UI0EO3R:00000041 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:37:52.7857294+07:00 0HM9U6UI0EO3R:00000041 [INF] Request finished in 1.3576ms 200 application/json (791a596a)
2021-07-03T22:37:52.7972574+07:00 0HM9U6UI0EO3R:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:37:52.7978720+07:00 0HM9U6UI0EO3R:00000043 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:52.7979696+07:00 0HM9U6UI0EO3R:00000043 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:52.7980375+07:00 0HM9U6UI0EO3R:00000043 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:52.7985749+07:00 0HM9U6UI0EO3R:00000043 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:52.8011555+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:37:52.8039364+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:37:52.8049895+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:52.8066241+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:37:52.8080393+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:37:52.8099543+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:37:52.8117653+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:37:52.8128068+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:37:52.8142475+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:52.8159485+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:37:52.8163393+07:00 0HM9U6UI0EO3R:00000043 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:37:52.8173491+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.0507ms. (6f83ade2)
2021-07-03T22:37:52.8173925+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 19.2952ms (afa2e885)
2021-07-03T22:37:52.8174094+07:00 0HM9U6UI0EO3R:00000043 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:52.8175242+07:00 0HM9U6UI0EO3R:00000043 [INF] Request finished in 20.3505ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:37:52.8563783+07:00 0HM9U6UI0EO3R:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:37:52.8598398+07:00 0HM9U6UI0EO3R:00000045 [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:37:52.8599786+07:00 0HM9U6UI0EO3R:00000045 [INF] Request finished in 3.7452ms 200 image/png (791a596a)
2021-07-03T22:37:53.3057991+07:00 0HM9U6UI0EO40:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=ETtWk0lyFtVDAMtH0WVBhQ   (ca22a1cb)
2021-07-03T22:37:53.3060798+07:00 0HM9U6UI0EO40:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:37:53.3126740+07:00 0HM9U6UI0EO40:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:53.3138723+07:00 0HM9U6UI0EO40:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:37:53.3162668+07:00 0HM9U6UI0EO40:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:37:53.8444918+07:00 0HM9U6UI0EO3R:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326672709   (ca22a1cb)
2021-07-03T22:37:53.8445825+07:00 0HM9U6UI0EO3R:00000047 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:37:53.8450117+07:00 0HM9U6UI0EO3R:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:53.8450119+07:00 0HM9U6UI0EO3R:00000047 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:53.8450905+07:00 0HM9U6UI0EO3R:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:53.8450975+07:00 0HM9U6UI0EO3R:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:53.8451496+07:00 0HM9U6UI0EO3R:00000047 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:53.8451534+07:00 0HM9U6UI0EO3R:00000049 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:53.8463809+07:00 0HM9U6UI0EO3R:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:53.8472703+07:00 0HM9U6UI0EO3R:00000047 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:53.8482856+07:00 0HM9U6UI0EO3R:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:53.8514654+07:00 0HM9U6UI0EO3R:00000047 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:37:53.8515408+07:00 0HM9U6UI0EO3R:00000049 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:53.8517001+07:00 0HM9U6UI0EO3R:00000047 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:37:53.8519918+07:00 0HM9U6UI0EO3R:00000047 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.8043ms (afa2e885)
2021-07-03T22:37:53.8520342+07:00 0HM9U6UI0EO3R:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:53.8521601+07:00 0HM9U6UI0EO3R:00000047 [INF] Request finished in 7.7374ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:37:53.8605912+07:00 0HM9U6UI0EO3R:00000049 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:37:53.8607889+07:00 0HM9U6UI0EO3R:00000049 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:37:53.8611651+07:00 0HM9U6UI0EO3R:00000049 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.4128ms. (6f83ade2)
2021-07-03T22:37:53.8611900+07:00 0HM9U6UI0EO3R:00000049 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 16.0146ms (afa2e885)
2021-07-03T22:37:53.8612088+07:00 0HM9U6UI0EO3R:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:53.8612835+07:00 0HM9U6UI0EO3R:00000049 [INF] Request finished in 16.8667ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:37:55.0265596+07:00 0HM9U6UI0EO3R:0000004B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:37:55.0274255+07:00 0HM9U6UI0EO3R:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:55.0275514+07:00 0HM9U6UI0EO3R:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:55.0276454+07:00 0HM9U6UI0EO3R:0000004B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:55.0282783+07:00 0HM9U6UI0EO3R:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:55.0295543+07:00 0HM9U6UI0EO3R:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:55.0328997+07:00 0HM9U6UI0EO3R:0000004B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:37:55.0389563+07:00 0HM9U6UI0EO3R:0000004B [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:37:55.0397823+07:00 0HM9U6UI0EO3R:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:55.0414538+07:00 0HM9U6UI0EO3R:0000004B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:37:55.0420519+07:00 0HM9U6UI0EO3R:0000004B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 14.3505ms (afa2e885)
2021-07-03T22:37:55.0421432+07:00 0HM9U6UI0EO3R:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:55.0422899+07:00 0HM9U6UI0EO3R:0000004B [INF] Request finished in 16.0518ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:37:55.7894580+07:00 0HM9U6UI0EO3R:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:37:55.7897455+07:00 0HM9U6UI0EO3R:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:55.7898035+07:00 0HM9U6UI0EO3R:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:55.7898519+07:00 0HM9U6UI0EO3R:0000004D [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:55.7903170+07:00 0HM9U6UI0EO3R:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:55.7916957+07:00 0HM9U6UI0EO3R:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:37:55.7930914+07:00 0HM9U6UI0EO3R:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:37:55.7940611+07:00 0HM9U6UI0EO3R:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:55.8025360+07:00 0HM9U6UI0EO3R:0000004D [INF] Executed DbCommand ("7"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:37:55.8026652+07:00 0HM9U6UI0EO3R:0000004D [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:37:55.8029169+07:00 0HM9U6UI0EO3R:0000004D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 13.0448ms (afa2e885)
2021-07-03T22:37:55.8029454+07:00 0HM9U6UI0EO3R:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:55.8030022+07:00 0HM9U6UI0EO3R:0000004D [INF] Request finished in 13.6677ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:37:56.9164392+07:00 0HM9U6UI0EO3R:0000004F [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryTXTJQhsNgSqNFr6x 889 (ca22a1cb)
2021-07-03T22:37:56.9169566+07:00 0HM9U6UI0EO3R:0000004F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:56.9170950+07:00 0HM9U6UI0EO3R:0000004F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:56.9237671+07:00 0HM9U6UI0EO3R:0000004F [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:56.9493011+07:00 0HM9U6UI0EO3R:0000004F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:56.9535910+07:00 0HM9U6UI0EO3R:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:37:56.9647516+07:00 0HM9U6UI0EO3R:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:37:56.9658164+07:00 0HM9U6UI0EO3R:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:37:56.9736779+07:00 0HM9U6UI0EO3R:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:37:56.9756997+07:00 0HM9U6UI0EO3R:0000004F [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:37:56.9785966+07:00 0HM9U6UI0EO3R:0000004F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 54.7494ms (afa2e885)
2021-07-03T22:37:56.9787171+07:00 0HM9U6UI0EO3R:0000004F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:56.9789521+07:00 0HM9U6UI0EO3R:0000004F [INF] Request finished in 63.118ms 302  (791a596a)
2021-07-03T22:37:56.9902049+07:00 0HM9U6UI0EO3R:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:37:56.9905533+07:00 0HM9U6UI0EO3R:00000051 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:56.9906112+07:00 0HM9U6UI0EO3R:00000051 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:56.9906594+07:00 0HM9U6UI0EO3R:00000051 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:56.9908841+07:00 0HM9U6UI0EO3R:00000051 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:56.9929237+07:00 0HM9U6UI0EO3R:00000051 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:37:56.9945840+07:00 0HM9U6UI0EO3R:00000051 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:37:57.0984720+07:00 0HM9U6UI0EO3R:00000051 [INF] Executed ViewResult - view "Index" executed in 103.9465ms. (f66409e9)
2021-07-03T22:37:57.0985725+07:00 0HM9U6UI0EO3R:00000051 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 107.8888ms (afa2e885)
2021-07-03T22:37:57.0986247+07:00 0HM9U6UI0EO3R:00000051 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:57.0988631+07:00 0HM9U6UI0EO3R:00000051 [INF] Request finished in 108.807ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:37:57.1074734+07:00 0HM9U6UI0EO40:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:37:57.1076519+07:00 0HM9U6UI0EO40:00000001 [INF] Request finished in 3801.8558ms 101  (791a596a)
2021-07-03T22:37:57.2167981+07:00 0HM9U6UI0EO3R:00000053 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:37:57.2197980+07:00 0HM9U6UI0EO3R:00000053 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:37:57.2203362+07:00 0HM9U6UI0EO3R:00000053 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:37:57.2204675+07:00 0HM9U6UI0EO3R:00000053 [INF] Request finished in 4.1837ms 200 application/json (791a596a)
2021-07-03T22:37:57.2257426+07:00 0HM9U6UI0EO3R:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:37:57.2261308+07:00 0HM9U6UI0EO3R:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:57.2261830+07:00 0HM9U6UI0EO3R:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:57.2262384+07:00 0HM9U6UI0EO3R:00000055 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:57.2266023+07:00 0HM9U6UI0EO3R:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:57.2272607+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:37:57.2284546+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:37:57.2298456+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:57.2308221+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:37:57.2314175+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:37:57.2321454+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:37:57.2327907+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:37:57.2334752+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:37:57.2339690+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:57.2345020+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:37:57.2347396+07:00 0HM9U6UI0EO3R:00000055 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:37:57.2352378+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5099ms. (6f83ade2)
2021-07-03T22:37:57.2352726+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.0091ms (afa2e885)
2021-07-03T22:37:57.2352891+07:00 0HM9U6UI0EO3R:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:57.2353801+07:00 0HM9U6UI0EO3R:00000055 [INF] Request finished in 9.6857ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:37:57.2541434+07:00 0HM9U6UI0EO41:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=cyHNRCFeP8BRAzdBGAezwg   (ca22a1cb)
2021-07-03T22:37:57.2545126+07:00 0HM9U6UI0EO41:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:37:57.2648277+07:00 0HM9U6UI0EO41:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:57.2653952+07:00 0HM9U6UI0EO41:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:37:57.2663913+07:00 0HM9U6UI0EO41:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:37:59.3396582+07:00 0HM9U6UI0EO3R:00000057 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:37:59.3403435+07:00 0HM9U6UI0EO3R:00000059 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326677148   (ca22a1cb)
2021-07-03T22:37:59.3405858+07:00 0HM9U6UI0EO3R:00000059 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:59.3405858+07:00 0HM9U6UI0EO3R:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:37:59.3406562+07:00 0HM9U6UI0EO3R:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:59.3406562+07:00 0HM9U6UI0EO3R:00000059 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:37:59.3407205+07:00 0HM9U6UI0EO3R:00000059 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:59.3407206+07:00 0HM9U6UI0EO3R:00000057 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:37:59.3411180+07:00 0HM9U6UI0EO3R:00000059 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:59.3413696+07:00 0HM9U6UI0EO3R:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:37:59.3417763+07:00 0HM9U6UI0EO3R:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:59.3422462+07:00 0HM9U6UI0EO3R:00000057 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:37:59.3423291+07:00 0HM9U6UI0EO3R:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:37:59.3423878+07:00 0HM9U6UI0EO3R:00000057 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:37:59.3425614+07:00 0HM9U6UI0EO3R:00000057 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.8017ms (afa2e885)
2021-07-03T22:37:59.3425888+07:00 0HM9U6UI0EO3R:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:59.3426897+07:00 0HM9U6UI0EO3R:00000057 [INF] Request finished in 3.1654ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:37:59.3434620+07:00 0HM9U6UI0EO3R:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:37:59.3437096+07:00 0HM9U6UI0EO3R:00000059 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:37:59.3446859+07:00 0HM9U6UI0EO3R:00000059 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.9703ms. (6f83ade2)
2021-07-03T22:37:59.3447392+07:00 0HM9U6UI0EO3R:00000059 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 3.9911ms (afa2e885)
2021-07-03T22:37:59.3447977+07:00 0HM9U6UI0EO3R:00000059 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:37:59.3449954+07:00 0HM9U6UI0EO3R:00000059 [INF] Request finished in 4.9007ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:38:00.3358818+07:00 0HM9U6UI0EO3R:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:38:00.3365840+07:00 0HM9U6UI0EO3R:0000005B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:00.3366766+07:00 0HM9U6UI0EO3R:0000005B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:00.3367629+07:00 0HM9U6UI0EO3R:0000005B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:00.3373210+07:00 0HM9U6UI0EO3R:0000005B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:00.3381510+07:00 0HM9U6UI0EO3R:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:00.3391595+07:00 0HM9U6UI0EO3R:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:38:00.3409259+07:00 0HM9U6UI0EO3R:0000005B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:38:00.3416919+07:00 0HM9U6UI0EO3R:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:00.3437129+07:00 0HM9U6UI0EO3R:0000005B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:38:00.3441740+07:00 0HM9U6UI0EO3R:0000005B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 7.3544ms (afa2e885)
2021-07-03T22:38:00.3442075+07:00 0HM9U6UI0EO3R:0000005B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:00.3443066+07:00 0HM9U6UI0EO3R:0000005B [INF] Request finished in 8.5502ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:38:05.0244544+07:00 0HM9U6UI0EO3T:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:38:05.0262422+07:00 0HM9U6UI0EO3T:0000003B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:05.0263768+07:00 0HM9U6UI0EO3T:0000003B [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:05.0264739+07:00 0HM9U6UI0EO3T:0000003B [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:05.0269189+07:00 0HM9U6UI0EO3T:0000003B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:05.0325721+07:00 0HM9U6UI0EO3T:0000003B [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:38:05.0357390+07:00 0HM9U6UI0EO3T:0000003B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:38:05.0379728+07:00 0HM9U6UI0EO3T:0000003B [INF] Executed ViewResult - view "Index" executed in 2.2795ms. (f66409e9)
2021-07-03T22:38:05.0380781+07:00 0HM9U6UI0EO3T:0000003B [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 11.5583ms (afa2e885)
2021-07-03T22:38:05.0381348+07:00 0HM9U6UI0EO3T:0000003B [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:05.0384393+07:00 0HM9U6UI0EO3T:0000003B [INF] Request finished in 14.039ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:38:05.0474296+07:00 0HM9U6UI0EO3U:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:38:05.0477214+07:00 0HM9U6UI0EO3U:00000001 [INF] Request finished in 360822.4448ms 101  (791a596a)
2021-07-03T22:38:05.1534401+07:00 0HM9U6UI0EO3T:0000003D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:38:05.1537523+07:00 0HM9U6UI0EO3T:0000003D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:38:05.1541029+07:00 0HM9U6UI0EO3T:0000003D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:38:05.1542008+07:00 0HM9U6UI0EO3T:0000003D [INF] Request finished in 1.0367ms 200 application/json (791a596a)
2021-07-03T22:38:05.1663985+07:00 0HM9U6UI0EO3T:0000003F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:38:05.1667644+07:00 0HM9U6UI0EO3T:0000003F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:05.1668366+07:00 0HM9U6UI0EO3T:0000003F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:05.1669173+07:00 0HM9U6UI0EO3T:0000003F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:05.1674276+07:00 0HM9U6UI0EO3T:0000003F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:05.1681612+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:38:05.1687830+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:38:05.1691377+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:05.1696075+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:38:05.1700377+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:38:05.1705351+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:38:05.1710053+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:38:05.1715597+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:38:05.1719302+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:05.1723468+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:38:05.1725537+07:00 0HM9U6UI0EO3T:0000003F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:38:05.1728440+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3102ms. (6f83ade2)
2021-07-03T22:38:05.1728672+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.9242ms (afa2e885)
2021-07-03T22:38:05.1728849+07:00 0HM9U6UI0EO3T:0000003F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:05.1729500+07:00 0HM9U6UI0EO3T:0000003F [INF] Request finished in 6.7474ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:38:05.1901931+07:00 0HM9U6UI0EO42:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=w7Rz8tfRMt0ENDdPJQMfkg   (ca22a1cb)
2021-07-03T22:38:05.1906814+07:00 0HM9U6UI0EO42:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:38:05.1993439+07:00 0HM9U6UI0EO42:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:05.2001162+07:00 0HM9U6UI0EO42:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:38:05.2018470+07:00 0HM9U6UI0EO42:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:38:06.3407159+07:00 0HM9U6UI0EO3T:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326685081   (ca22a1cb)
2021-07-03T22:38:06.3411860+07:00 0HM9U6UI0EO3T:00000043 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:38:06.3414418+07:00 0HM9U6UI0EO3T:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:06.3414418+07:00 0HM9U6UI0EO3T:00000043 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:06.3415216+07:00 0HM9U6UI0EO3T:00000043 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:06.3415216+07:00 0HM9U6UI0EO3T:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:06.3415901+07:00 0HM9U6UI0EO3T:00000043 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:06.3415901+07:00 0HM9U6UI0EO3T:00000041 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:06.3420318+07:00 0HM9U6UI0EO3T:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:06.3422485+07:00 0HM9U6UI0EO3T:00000043 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:06.3426132+07:00 0HM9U6UI0EO3T:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:06.3429814+07:00 0HM9U6UI0EO3T:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:38:06.3430782+07:00 0HM9U6UI0EO3T:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:06.3431859+07:00 0HM9U6UI0EO3T:00000043 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:38:06.3433577+07:00 0HM9U6UI0EO3T:00000043 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.7206ms (afa2e885)
2021-07-03T22:38:06.3433883+07:00 0HM9U6UI0EO3T:00000043 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:06.3435274+07:00 0HM9U6UI0EO3T:00000043 [INF] Request finished in 2.626ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:38:06.3443802+07:00 0HM9U6UI0EO3T:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:38:06.3446194+07:00 0HM9U6UI0EO3T:00000041 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:38:06.3450719+07:00 0HM9U6UI0EO3T:00000041 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.4733ms. (6f83ade2)
2021-07-03T22:38:06.3451420+07:00 0HM9U6UI0EO3T:00000041 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 3.5152ms (afa2e885)
2021-07-03T22:38:06.3451713+07:00 0HM9U6UI0EO3T:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:06.3453098+07:00 0HM9U6UI0EO3T:00000041 [INF] Request finished in 4.5891ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:38:07.0807582+07:00 0HM9U6UI0EO3T:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:38:07.0811324+07:00 0HM9U6UI0EO3T:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:07.0812158+07:00 0HM9U6UI0EO3T:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:07.0812734+07:00 0HM9U6UI0EO3T:00000045 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:07.0818475+07:00 0HM9U6UI0EO3T:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:07.0833717+07:00 0HM9U6UI0EO3T:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:07.0851463+07:00 0HM9U6UI0EO3T:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:38:07.0887494+07:00 0HM9U6UI0EO3T:00000045 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:38:07.0903514+07:00 0HM9U6UI0EO3T:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:07.0917535+07:00 0HM9U6UI0EO3T:00000045 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:38:07.0921295+07:00 0HM9U6UI0EO3T:00000045 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 10.8196ms (afa2e885)
2021-07-03T22:38:07.0921650+07:00 0HM9U6UI0EO3T:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:07.0922795+07:00 0HM9U6UI0EO3T:00000045 [INF] Request finished in 11.6573ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:38:08.3092229+07:00 0HM9U6UI0EO3T:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T22:38:08.3096463+07:00 0HM9U6UI0EO3T:00000047 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:08.3097134+07:00 0HM9U6UI0EO3T:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:08.3097969+07:00 0HM9U6UI0EO3T:00000047 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:08.3102369+07:00 0HM9U6UI0EO3T:00000047 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:08.3119509+07:00 0HM9U6UI0EO3T:00000047 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:38:08.3134265+07:00 0HM9U6UI0EO3T:00000047 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:38:08.3166266+07:00 0HM9U6UI0EO3T:00000047 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:38:08.3167080+07:00 0HM9U6UI0EO3T:00000047 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:38:08.3168757+07:00 0HM9U6UI0EO3T:00000047 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 7.0547ms (afa2e885)
2021-07-03T22:38:08.3168982+07:00 0HM9U6UI0EO3T:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:08.3169553+07:00 0HM9U6UI0EO3T:00000047 [INF] Request finished in 7.8846ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:38:14.0129532+07:00 0HM9U6UI0EO3T:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:38:14.0224755+07:00 0HM9U6UI0EO3T:00000049 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:38:14.0226794+07:00 0HM9U6UI0EO3T:00000049 [INF] Request finished in 9.7792ms 200 text/plain (791a596a)
2021-07-03T22:38:14.0255038+07:00 0HM9U6UI0EO3T:0000004B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:38:14.0264293+07:00 0HM9U6UI0EO3T:0000004B [INF] Request finished in 1.0778ms 404  (791a596a)
2021-07-03T22:38:22.2174697+07:00 0HM9U6UI0EO3R:0000005D [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:38:22.2192836+07:00 0HM9U6UI0EO3R:0000005D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:38:22.2194144+07:00 0HM9U6UI0EO3R:0000005D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:38:22.2195187+07:00 0HM9U6UI0EO3R:0000005D [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:38:22.2208137+07:00 0HM9U6UI0EO3R:0000005D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:38:22.2236704+07:00 0HM9U6UI0EO3R:0000005D [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:38:22.2259958+07:00 0HM9U6UI0EO3R:0000005D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:38:22.2293595+07:00 0HM9U6UI0EO3R:0000005D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:38:22.2360855+07:00 0HM9U6UI0EO3R:0000005D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:38:22.2363955+07:00 0HM9U6UI0EO3R:0000005D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:38:22.2365839+07:00 0HM9U6UI0EO3R:0000005D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 17.0239ms (afa2e885)
2021-07-03T22:38:22.2366347+07:00 0HM9U6UI0EO3R:0000005D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:38:22.2367429+07:00 0HM9U6UI0EO3R:0000005D [INF] Request finished in 19.3533ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:18.0694943+07:00 0HM9U6UI0EO3T:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:39:18.0699514+07:00 0HM9U6UI0EO3T:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:18.0700069+07:00 0HM9U6UI0EO3T:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:18.0700612+07:00 0HM9U6UI0EO3T:0000004D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:18.0703564+07:00 0HM9U6UI0EO3T:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:18.0745303+07:00 0HM9U6UI0EO3T:0000004D [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:39:18.0756242+07:00 0HM9U6UI0EO3T:0000004D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:39:18.0772810+07:00 0HM9U6UI0EO3T:0000004D [INF] Executed ViewResult - view "Index" executed in 1.8143ms. (f66409e9)
2021-07-03T22:39:18.0773527+07:00 0HM9U6UI0EO3T:0000004D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.2618ms (afa2e885)
2021-07-03T22:39:18.0773843+07:00 0HM9U6UI0EO3T:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:18.0775738+07:00 0HM9U6UI0EO3T:0000004D [INF] Request finished in 8.2292ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:18.0843871+07:00 0HM9U6UI0EO42:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:39:18.0845911+07:00 0HM9U6UI0EO42:00000001 [INF] Request finished in 72894.4182ms 101  (791a596a)
2021-07-03T22:39:18.1816771+07:00 0HM9U6UI0EO3T:0000004F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:39:18.1891515+07:00 0HM9U6UI0EO3T:0000004F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:39:18.1894093+07:00 0HM9U6UI0EO3T:0000004F [INF] Request finished in 7.799ms 200 text/plain (791a596a)
2021-07-03T22:39:18.2063241+07:00 0HM9U6UI0EO3T:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:39:18.2068813+07:00 0HM9U6UI0EO3T:00000051 [INF] Request finished in 0.6889ms 404  (791a596a)
2021-07-03T22:39:18.2198123+07:00 0HM9U6UI0EO3T:00000053 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:39:18.2202227+07:00 0HM9U6UI0EO3T:00000053 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:39:18.2208138+07:00 0HM9U6UI0EO3T:00000053 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:39:18.2210099+07:00 0HM9U6UI0EO3T:00000053 [INF] Request finished in 1.3717ms 200 application/json (791a596a)
2021-07-03T22:39:18.2447831+07:00 0HM9U6UI0EO3T:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:39:18.2451335+07:00 0HM9U6UI0EO3T:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:18.2452064+07:00 0HM9U6UI0EO3T:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:18.2452811+07:00 0HM9U6UI0EO3T:00000055 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:18.2457742+07:00 0HM9U6UI0EO3T:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:18.2479365+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:18.2505857+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:18.2517187+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:18.2531041+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:39:18.2543167+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:39:18.2571076+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:39:18.2587678+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:18.2589592+07:00 0HM9U6UI0EO3T:00000055 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:39:18.2592341+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2842ms. (6f83ade2)
2021-07-03T22:39:18.2592625+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 13.944ms (afa2e885)
2021-07-03T22:39:18.2592772+07:00 0HM9U6UI0EO3T:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:18.2593456+07:00 0HM9U6UI0EO3T:00000055 [INF] Request finished in 14.7166ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:18.2691093+07:00 0HM9U6UI0EO43:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=2tdQOGLSh3Cl2-yyOeSfdA   (ca22a1cb)
2021-07-03T22:39:18.2695605+07:00 0HM9U6UI0EO43:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:39:18.2821058+07:00 0HM9U6UI0EO43:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:18.2837582+07:00 0HM9U6UI0EO43:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:39:18.2872588+07:00 0HM9U6UI0EO43:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:39:22.0105766+07:00 0HM9U6UI0EO3R:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:39:22.0110650+07:00 0HM9U6UI0EO3R:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:22.0111390+07:00 0HM9U6UI0EO3R:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:22.0112021+07:00 0HM9U6UI0EO3R:0000005F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:22.0114947+07:00 0HM9U6UI0EO3R:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:22.0139789+07:00 0HM9U6UI0EO3R:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:39:22.0160641+07:00 0HM9U6UI0EO3R:0000005F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:39:22.0173091+07:00 0HM9U6UI0EO3R:0000005F [INF] Executed ViewResult - view "Index" executed in 1.2778ms. (f66409e9)
2021-07-03T22:39:22.0173902+07:00 0HM9U6UI0EO3R:0000005F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.1601ms (afa2e885)
2021-07-03T22:39:22.0174490+07:00 0HM9U6UI0EO3R:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:22.0176647+07:00 0HM9U6UI0EO3R:0000005F [INF] Request finished in 7.2148ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:22.0265355+07:00 0HM9U6UI0EO41:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:39:22.0266815+07:00 0HM9U6UI0EO41:00000001 [INF] Request finished in 84772.5541ms 101  (791a596a)
2021-07-03T22:39:22.2569015+07:00 0HM9U6UI0EO3R:00000061 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:39:22.2572811+07:00 0HM9U6UI0EO3R:00000061 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:39:22.2577080+07:00 0HM9U6UI0EO3R:00000061 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:39:22.2577963+07:00 0HM9U6UI0EO3R:00000061 [INF] Request finished in 1.0575ms 200 application/json (791a596a)
2021-07-03T22:39:22.2705869+07:00 0HM9U6UI0EO3R:00000063 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:39:22.2709960+07:00 0HM9U6UI0EO3R:00000063 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:22.2710854+07:00 0HM9U6UI0EO3R:00000063 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:22.2711537+07:00 0HM9U6UI0EO3R:00000063 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:22.2715240+07:00 0HM9U6UI0EO3R:00000063 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:22.2724305+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:22.2734546+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:22.2739669+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:22.2745438+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:39:22.2751149+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:39:22.2757065+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:39:22.2763486+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:22.2770098+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:22.2775098+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:22.2780408+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:22.2782058+07:00 0HM9U6UI0EO3R:00000063 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:39:22.2784794+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.285ms. (6f83ade2)
2021-07-03T22:39:22.2785068+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.3359ms (afa2e885)
2021-07-03T22:39:22.2785205+07:00 0HM9U6UI0EO3R:00000063 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:22.2785839+07:00 0HM9U6UI0EO3R:00000063 [INF] Request finished in 8.2697ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:22.3284233+07:00 0HM9U6UI0EO3R:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:39:22.3308030+07:00 0HM9U6UI0EO3R:00000065 [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:39:22.3309939+07:00 0HM9U6UI0EO3R:00000065 [INF] Request finished in 2.8721ms 200 image/png (791a596a)
2021-07-03T22:39:22.3388605+07:00 0HM9U6UI0EO44:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=8FL1sjAz2OiuAvxBZ1HGGg   (ca22a1cb)
2021-07-03T22:39:22.3392390+07:00 0HM9U6UI0EO44:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:39:22.3581605+07:00 0HM9U6UI0EO44:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:22.3588297+07:00 0HM9U6UI0EO44:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:39:22.3601276+07:00 0HM9U6UI0EO44:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:39:22.7576897+07:00 0HM9U6UI0EO3R:00000067 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:39:22.7580321+07:00 0HM9U6UI0EO3R:00000067 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:22.7580817+07:00 0HM9U6UI0EO3R:00000067 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:22.7581343+07:00 0HM9U6UI0EO3R:00000067 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:22.7583530+07:00 0HM9U6UI0EO3R:00000067 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:22.7600546+07:00 0HM9U6UI0EO3R:00000067 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:39:22.7613971+07:00 0HM9U6UI0EO3R:00000067 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:39:22.7624973+07:00 0HM9U6UI0EO3R:00000067 [INF] Executed ViewResult - view "Index" executed in 1.1281ms. (f66409e9)
2021-07-03T22:39:22.7625500+07:00 0HM9U6UI0EO3R:00000067 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 4.3943ms (afa2e885)
2021-07-03T22:39:22.7625835+07:00 0HM9U6UI0EO3R:00000067 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:22.7627676+07:00 0HM9U6UI0EO3R:00000067 [INF] Request finished in 5.175ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:22.7686523+07:00 0HM9U6UI0EO44:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:39:22.7689279+07:00 0HM9U6UI0EO44:00000001 [INF] Request finished in 430.0754ms 101  (791a596a)
2021-07-03T22:39:22.9196818+07:00 0HM9U6UI0EO3R:00000069 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:39:22.9200745+07:00 0HM9U6UI0EO3R:00000069 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:39:22.9204947+07:00 0HM9U6UI0EO3R:00000069 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:39:22.9205697+07:00 0HM9U6UI0EO3R:00000069 [INF] Request finished in 1.0965ms 200 application/json (791a596a)
2021-07-03T22:39:22.9284493+07:00 0HM9U6UI0EO3R:0000006B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:39:22.9287725+07:00 0HM9U6UI0EO3R:0000006B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:22.9288354+07:00 0HM9U6UI0EO3R:0000006B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:22.9288872+07:00 0HM9U6UI0EO3R:0000006B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:22.9292061+07:00 0HM9U6UI0EO3R:0000006B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:22.9297755+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:22.9303322+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:22.9306633+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:22.9310942+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:39:22.9314841+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:39:22.9319108+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:39:22.9325052+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:22.9330805+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:22.9334773+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:22.9339164+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:22.9340955+07:00 0HM9U6UI0EO3R:0000006B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:39:22.9344267+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3309ms. (6f83ade2)
2021-07-03T22:39:22.9344529+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.5497ms (afa2e885)
2021-07-03T22:39:22.9344730+07:00 0HM9U6UI0EO3R:0000006B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:22.9345430+07:00 0HM9U6UI0EO3R:0000006B [INF] Request finished in 6.1572ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:22.9485325+07:00 0HM9U6UI0EO3R:0000006D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:39:22.9506381+07:00 0HM9U6UI0EO45:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=anBEy6Lhqe14kOZhb04iOA   (ca22a1cb)
2021-07-03T22:39:22.9507000+07:00 0HM9U6UI0EO3R:0000006D [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:39:22.9508129+07:00 0HM9U6UI0EO3R:0000006D [INF] Request finished in 2.4288ms 200 image/png (791a596a)
2021-07-03T22:39:22.9510721+07:00 0HM9U6UI0EO45:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:39:22.9622656+07:00 0HM9U6UI0EO45:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:22.9629272+07:00 0HM9U6UI0EO45:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:39:22.9646403+07:00 0HM9U6UI0EO45:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:39:23.3994276+07:00 0HM9U6UI0EO3R:0000006F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:39:23.3994466+07:00 0HM9U6UI0EO3R:00000071 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326762833   (ca22a1cb)
2021-07-03T22:39:23.3999017+07:00 0HM9U6UI0EO3R:00000071 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:23.3999038+07:00 0HM9U6UI0EO3R:0000006F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:23.3999552+07:00 0HM9U6UI0EO3R:00000071 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:23.3999663+07:00 0HM9U6UI0EO3R:0000006F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:23.4000123+07:00 0HM9U6UI0EO3R:00000071 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:23.4000260+07:00 0HM9U6UI0EO3R:0000006F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:23.4003272+07:00 0HM9U6UI0EO3R:00000071 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:23.4007024+07:00 0HM9U6UI0EO3R:0000006F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:23.4015798+07:00 0HM9U6UI0EO3R:00000071 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:23.4044205+07:00 0HM9U6UI0EO3R:0000006F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:23.4045777+07:00 0HM9U6UI0EO3R:00000071 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:23.4047297+07:00 0HM9U6UI0EO3R:0000006F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:39:23.4051361+07:00 0HM9U6UI0EO3R:0000006F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 5.0375ms (afa2e885)
2021-07-03T22:39:23.4051978+07:00 0HM9U6UI0EO3R:0000006F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:23.4054252+07:00 0HM9U6UI0EO3R:0000006F [INF] Request finished in 6.1504ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:23.4086878+07:00 0HM9U6UI0EO3R:00000071 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:23.4088777+07:00 0HM9U6UI0EO3R:00000071 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:39:23.4091629+07:00 0HM9U6UI0EO3R:00000071 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.3015ms. (6f83ade2)
2021-07-03T22:39:23.4091863+07:00 0HM9U6UI0EO3R:00000071 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 9.1525ms (afa2e885)
2021-07-03T22:39:23.4092084+07:00 0HM9U6UI0EO3R:00000071 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:23.4092767+07:00 0HM9U6UI0EO3R:00000071 [INF] Request finished in 9.9253ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:25.4281686+07:00 0HM9U6UI0EO3R:00000073 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:39:25.4287133+07:00 0HM9U6UI0EO3R:00000073 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:25.4287700+07:00 0HM9U6UI0EO3R:00000073 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:25.4288207+07:00 0HM9U6UI0EO3R:00000073 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:25.4291268+07:00 0HM9U6UI0EO3R:00000073 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:25.4296209+07:00 0HM9U6UI0EO3R:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:25.4309931+07:00 0HM9U6UI0EO3R:00000073 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:25.4343140+07:00 0HM9U6UI0EO3R:00000073 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:25.4349123+07:00 0HM9U6UI0EO3R:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:25.4359510+07:00 0HM9U6UI0EO3R:00000073 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:39:25.4362465+07:00 0HM9U6UI0EO3R:00000073 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 7.3976ms (afa2e885)
2021-07-03T22:39:25.4362662+07:00 0HM9U6UI0EO3R:00000073 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:25.4363471+07:00 0HM9U6UI0EO3R:00000073 [INF] Request finished in 8.4068ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:27.4167847+07:00 0HM9U6UI0EO3R:00000075 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:39:27.4172674+07:00 0HM9U6UI0EO3R:00000075 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:27.4173633+07:00 0HM9U6UI0EO3R:00000075 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:27.4174963+07:00 0HM9U6UI0EO3R:00000075 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:27.4182507+07:00 0HM9U6UI0EO3R:00000075 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:27.4195087+07:00 0HM9U6UI0EO3R:00000075 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:39:27.4216410+07:00 0HM9U6UI0EO3R:00000075 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:39:27.4227766+07:00 0HM9U6UI0EO3R:00000075 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:27.4250014+07:00 0HM9U6UI0EO3R:00000075 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:27.4250988+07:00 0HM9U6UI0EO3R:00000075 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:39:27.4253468+07:00 0HM9U6UI0EO3R:00000075 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 7.8054ms (afa2e885)
2021-07-03T22:39:27.4253784+07:00 0HM9U6UI0EO3R:00000075 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:27.4254395+07:00 0HM9U6UI0EO3R:00000075 [INF] Request finished in 8.8242ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:28.4533459+07:00 0HM9U6UI0EO3R:00000077 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundarym0O4ZYBBIxVGVJIN 889 (ca22a1cb)
2021-07-03T22:39:28.4538199+07:00 0HM9U6UI0EO3R:00000077 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:28.4538775+07:00 0HM9U6UI0EO3R:00000077 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:28.4539404+07:00 0HM9U6UI0EO3R:00000077 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:28.4558276+07:00 0HM9U6UI0EO3R:00000077 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:28.4571157+07:00 0HM9U6UI0EO3R:00000077 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:39:28.4598796+07:00 0HM9U6UI0EO3R:00000077 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:39:28.4615947+07:00 0HM9U6UI0EO3R:00000077 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:39:28.4722703+07:00 0HM9U6UI0EO3R:00000077 [INF] Executed DbCommand ("3"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:39:28.4732094+07:00 0HM9U6UI0EO3R:00000077 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:39:28.4735068+07:00 0HM9U6UI0EO3R:00000077 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 19.5425ms (afa2e885)
2021-07-03T22:39:28.4735398+07:00 0HM9U6UI0EO3R:00000077 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:28.4736893+07:00 0HM9U6UI0EO3R:00000077 [INF] Request finished in 20.7775ms 302  (791a596a)
2021-07-03T22:39:28.4833521+07:00 0HM9U6UI0EO3R:00000079 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:39:28.4840836+07:00 0HM9U6UI0EO3R:00000079 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:28.4843235+07:00 0HM9U6UI0EO3R:00000079 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:28.4845863+07:00 0HM9U6UI0EO3R:00000079 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:28.4998847+07:00 0HM9U6UI0EO3R:00000079 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:28.5053241+07:00 0HM9U6UI0EO3R:00000079 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:39:28.5060940+07:00 0HM9U6UI0EO3R:00000079 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:39:28.5075452+07:00 0HM9U6UI0EO3R:00000079 [INF] Executed ViewResult - view "Index" executed in 1.4766ms. (f66409e9)
2021-07-03T22:39:28.5076077+07:00 0HM9U6UI0EO3R:00000079 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 22.9745ms (afa2e885)
2021-07-03T22:39:28.5076528+07:00 0HM9U6UI0EO3R:00000079 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:28.5079048+07:00 0HM9U6UI0EO3R:00000079 [INF] Request finished in 24.8235ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:28.5148446+07:00 0HM9U6UI0EO45:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:39:28.5149977+07:00 0HM9U6UI0EO45:00000001 [INF] Request finished in 5564.4046ms 101  (791a596a)
2021-07-03T22:39:28.6105184+07:00 0HM9U6UI0EO3R:0000007B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:39:28.6109521+07:00 0HM9U6UI0EO3R:0000007B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:39:28.6113072+07:00 0HM9U6UI0EO3R:0000007B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:39:28.6113906+07:00 0HM9U6UI0EO3R:0000007B [INF] Request finished in 0.9402ms 200 application/json (791a596a)
2021-07-03T22:39:28.6269452+07:00 0HM9U6UI0EO3R:0000007D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:39:28.6273199+07:00 0HM9U6UI0EO3R:0000007D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:28.6273761+07:00 0HM9U6UI0EO3R:0000007D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:28.6274343+07:00 0HM9U6UI0EO3R:0000007D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:28.6278467+07:00 0HM9U6UI0EO3R:0000007D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:28.6312401+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:28.6353946+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:28.6372370+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:28.6396805+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:39:28.6438302+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("3"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:39:28.6451465+07:00 0HM9U6UI0EO46:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=u5NQMCgtvpSWLy6Vmf6opw   (ca22a1cb)
2021-07-03T22:39:28.6454339+07:00 0HM9U6UI0EO46:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:39:28.6458528+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:39:28.6490472+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("3"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:28.6562777+07:00 0HM9U6UI0EO46:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:28.6566284+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:28.6577615+07:00 0HM9U6UI0EO46:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:39:28.6586483+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:28.6604768+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:28.6608440+07:00 0HM9U6UI0EO3R:0000007D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:39:28.6611992+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.364ms. (6f83ade2)
2021-07-03T22:39:28.6612326+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 33.7762ms (afa2e885)
2021-07-03T22:39:28.6612581+07:00 0HM9U6UI0EO3R:0000007D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:28.6613439+07:00 0HM9U6UI0EO3R:0000007D [INF] Request finished in 34.4064ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:28.6618189+07:00 0HM9U6UI0EO46:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:39:31.2439665+07:00 0HM9U6UI0EO3R:0000007F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326768554   (ca22a1cb)
2021-07-03T22:39:31.2444702+07:00 0HM9U6UI0EO3R:0000007F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:31.2445625+07:00 0HM9U6UI0EO3R:0000007F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:31.2446329+07:00 0HM9U6UI0EO3R:0000007F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:31.2451641+07:00 0HM9U6UI0EO3R:0000007F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:31.2474092+07:00 0HM9U6UI0EO3R:0000007F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:31.2501798+07:00 0HM9U6UI0EO3R:0000007F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:31.2514943+07:00 0HM9U6UI0EO3R:00000081 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:39:31.2521703+07:00 0HM9U6UI0EO3R:00000081 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:31.2522688+07:00 0HM9U6UI0EO3R:00000081 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:31.2523391+07:00 0HM9U6UI0EO3R:00000081 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:31.2531718+07:00 0HM9U6UI0EO3R:00000081 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:31.2559244+07:00 0HM9U6UI0EO3R:0000007F [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:31.2560682+07:00 0HM9U6UI0EO3R:0000007F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:39:31.2563935+07:00 0HM9U6UI0EO3R:0000007F [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.3423ms. (6f83ade2)
2021-07-03T22:39:31.2564264+07:00 0HM9U6UI0EO3R:0000007F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 11.7674ms (afa2e885)
2021-07-03T22:39:31.2564506+07:00 0HM9U6UI0EO3R:0000007F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:31.2565339+07:00 0HM9U6UI0EO3R:0000007F [INF] Request finished in 12.6965ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:31.2583381+07:00 0HM9U6UI0EO3R:00000081 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:31.2584684+07:00 0HM9U6UI0EO3R:00000081 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:39:31.2586059+07:00 0HM9U6UI0EO3R:00000081 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.2346ms (afa2e885)
2021-07-03T22:39:31.2586530+07:00 0HM9U6UI0EO3R:00000081 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:31.2587422+07:00 0HM9U6UI0EO3R:00000081 [INF] Request finished in 7.8068ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:32.3955481+07:00 0HM9U6UI0EO3R:00000083 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:39:32.3979234+07:00 0HM9U6UI0EO3R:00000083 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:32.3983194+07:00 0HM9U6UI0EO3R:00000083 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:32.3989070+07:00 0HM9U6UI0EO3R:00000083 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:32.4004043+07:00 0HM9U6UI0EO3R:00000083 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:32.4036035+07:00 0HM9U6UI0EO3R:00000083 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:32.4060719+07:00 0HM9U6UI0EO3R:00000083 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:32.4117515+07:00 0HM9U6UI0EO3R:00000083 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:32.4130647+07:00 0HM9U6UI0EO3R:00000083 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:32.4142740+07:00 0HM9U6UI0EO3R:00000083 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:39:32.4148012+07:00 0HM9U6UI0EO3R:00000083 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 15.6383ms (afa2e885)
2021-07-03T22:39:32.4148508+07:00 0HM9U6UI0EO3R:00000083 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:32.4150016+07:00 0HM9U6UI0EO3R:00000083 [INF] Request finished in 19.5984ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:35.9841539+07:00 0HM9U6UI0EO3T:00000057 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:39:35.9849373+07:00 0HM9U6UI0EO3T:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:35.9850201+07:00 0HM9U6UI0EO3T:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:35.9850867+07:00 0HM9U6UI0EO3T:00000057 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:35.9853896+07:00 0HM9U6UI0EO3T:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:35.9895646+07:00 0HM9U6UI0EO3T:00000057 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:39:35.9900482+07:00 0HM9U6UI0EO3T:00000057 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:39:35.9911906+07:00 0HM9U6UI0EO3T:00000057 [INF] Executed ViewResult - view "Index" executed in 1.1546ms. (f66409e9)
2021-07-03T22:39:35.9912802+07:00 0HM9U6UI0EO3T:00000057 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.169ms (afa2e885)
2021-07-03T22:39:35.9913171+07:00 0HM9U6UI0EO3T:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:35.9914949+07:00 0HM9U6UI0EO3T:00000057 [INF] Request finished in 7.3525ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:35.9987771+07:00 0HM9U6UI0EO43:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:39:35.9990566+07:00 0HM9U6UI0EO43:00000001 [INF] Request finished in 17729.9404ms 101  (791a596a)
2021-07-03T22:39:36.0416121+07:00 0HM9U6UI0EO3T:00000059 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:39:36.0423315+07:00 0HM9U6UI0EO3T:00000059 [INF] Request finished in 0.7997ms 404  (791a596a)
2021-07-03T22:39:36.1190617+07:00 0HM9U6UI0EO3T:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:39:36.1251144+07:00 0HM9U6UI0EO3T:0000005B [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:39:36.1253495+07:00 0HM9U6UI0EO3T:0000005B [INF] Request finished in 6.3381ms 200 text/plain (791a596a)
2021-07-03T22:39:36.1349891+07:00 0HM9U6UI0EO3T:0000005D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:39:36.1353183+07:00 0HM9U6UI0EO3T:0000005D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:39:36.1356407+07:00 0HM9U6UI0EO3T:0000005D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:39:36.1357485+07:00 0HM9U6UI0EO3T:0000005D [INF] Request finished in 0.9134ms 200 application/json (791a596a)
2021-07-03T22:39:36.1592525+07:00 0HM9U6UI0EO3T:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:39:36.1596056+07:00 0HM9U6UI0EO3T:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:36.1596946+07:00 0HM9U6UI0EO3T:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:36.1597610+07:00 0HM9U6UI0EO3T:0000005F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:36.1602878+07:00 0HM9U6UI0EO3T:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:36.1647160+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:36.1680633+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:36.1692803+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:36.1706912+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:39:36.1718604+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:39:36.1735513+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:39:36.1758584+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:36.1769089+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:36.1773581+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:36.1778382+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:39:36.1779803+07:00 0HM9U6UI0EO3T:0000005F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:39:36.1782669+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2967ms. (6f83ade2)
2021-07-03T22:39:36.1782902+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 18.5042ms (afa2e885)
2021-07-03T22:39:36.1783193+07:00 0HM9U6UI0EO3T:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:36.1784342+07:00 0HM9U6UI0EO3T:0000005F [INF] Request finished in 19.3046ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:36.1961912+07:00 0HM9U6UI0EO47:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=kcz5iovyPADnwBSiTR33AA   (ca22a1cb)
2021-07-03T22:39:36.1969582+07:00 0HM9U6UI0EO47:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:39:36.2073289+07:00 0HM9U6UI0EO47:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:36.2345987+07:00 0HM9U6UI0EO47:00000001 [INF] Executed DbCommand ("27"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:39:36.2365968+07:00 0HM9U6UI0EO47:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:39:37.9483317+07:00 0HM9U6UI0EO3T:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326776051   (ca22a1cb)
2021-07-03T22:39:37.9495494+07:00 0HM9U6UI0EO3T:00000063 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:39:37.9497520+07:00 0HM9U6UI0EO3T:00000061 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:37.9501745+07:00 0HM9U6UI0EO3T:00000061 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:37.9502780+07:00 0HM9U6UI0EO3T:00000061 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:37.9503753+07:00 0HM9U6UI0EO3T:00000063 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:37.9504892+07:00 0HM9U6UI0EO3T:00000063 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:37.9505515+07:00 0HM9U6UI0EO3T:00000063 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:37.9508757+07:00 0HM9U6UI0EO3T:00000061 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:37.9510956+07:00 0HM9U6UI0EO3T:00000063 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:37.9521283+07:00 0HM9U6UI0EO3T:00000061 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:37.9542133+07:00 0HM9U6UI0EO3T:00000063 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:39:37.9543291+07:00 0HM9U6UI0EO3T:00000061 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:37.9543585+07:00 0HM9U6UI0EO3T:00000063 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:39:37.9545302+07:00 0HM9U6UI0EO3T:00000063 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 3.9491ms (afa2e885)
2021-07-03T22:39:37.9545708+07:00 0HM9U6UI0EO3T:00000063 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:37.9546669+07:00 0HM9U6UI0EO3T:00000063 [INF] Request finished in 5.2724ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:37.9584546+07:00 0HM9U6UI0EO3T:00000061 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:37.9585664+07:00 0HM9U6UI0EO3T:00000061 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:39:37.9588003+07:00 0HM9U6UI0EO3T:00000061 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.2454ms. (6f83ade2)
2021-07-03T22:39:37.9588221+07:00 0HM9U6UI0EO3T:00000061 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 8.5115ms (afa2e885)
2021-07-03T22:39:37.9588365+07:00 0HM9U6UI0EO3T:00000061 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:37.9588939+07:00 0HM9U6UI0EO3T:00000061 [INF] Request finished in 10.9326ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:39:38.6043989+07:00 0HM9U6UI0EO3T:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:39:38.6049798+07:00 0HM9U6UI0EO3T:00000065 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:38.6050858+07:00 0HM9U6UI0EO3T:00000065 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:38.6051694+07:00 0HM9U6UI0EO3T:00000065 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:38.6057444+07:00 0HM9U6UI0EO3T:00000065 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:38.6066822+07:00 0HM9U6UI0EO3T:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:38.6090148+07:00 0HM9U6UI0EO3T:00000065 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:38.6148939+07:00 0HM9U6UI0EO3T:00000065 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:39:38.6158727+07:00 0HM9U6UI0EO3T:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:39:38.6173897+07:00 0HM9U6UI0EO3T:00000065 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:39:38.6179770+07:00 0HM9U6UI0EO3T:00000065 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 12.7627ms (afa2e885)
2021-07-03T22:39:38.6180368+07:00 0HM9U6UI0EO3T:00000065 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:38.6181744+07:00 0HM9U6UI0EO3T:00000065 [INF] Request finished in 13.9464ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:43.2691602+07:00 0HM9U6UI0EO3R:00000085 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:39:43.2703132+07:00 0HM9U6UI0EO3R:00000085 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:39:43.2704482+07:00 0HM9U6UI0EO3R:00000085 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:39:43.2705369+07:00 0HM9U6UI0EO3R:00000085 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:39:43.2712172+07:00 0HM9U6UI0EO3R:00000085 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:39:43.2728709+07:00 0HM9U6UI0EO3R:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:39:43.2742409+07:00 0HM9U6UI0EO3R:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:39:43.2778108+07:00 0HM9U6UI0EO3R:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:39:43.2845396+07:00 0HM9U6UI0EO3R:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:39:43.2848233+07:00 0HM9U6UI0EO3R:00000085 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:39:43.2849707+07:00 0HM9U6UI0EO3R:00000085 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 14.4107ms (afa2e885)
2021-07-03T22:39:43.2850083+07:00 0HM9U6UI0EO3R:00000085 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:39:43.2850930+07:00 0HM9U6UI0EO3R:00000085 [INF] Request finished in 15.9571ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:39:52.3450684+07:00 0HM9U6UI0EO46:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:39:52.3452310+07:00 0HM9U6UI0EO46:00000001 [INF] Request finished in 23700.0836ms 101  (791a596a)
2021-07-03T22:41:50.2074943+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T22:41:50.8202781+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T22:41:50.8251949+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T22:41:50.8273042+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T22:41:50.8287525+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T22:41:51.2869715+07:00 0HM9U749MGGNI:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:41:51.5460017+07:00 0HM9U749MGGNI:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:41:51.5596877+07:00 0HM9U749MGGNI:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:41:51.6021447+07:00 0HM9U749MGGNI:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:41:51.6146809+07:00 0HM9U749MGGNI:00000001 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T22:41:51.6398467+07:00 0HM9U749MGGNI:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T22:41:51.6455390+07:00 0HM9U749MGGNI:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 38.2633ms (afa2e885)
2021-07-03T22:41:51.6456477+07:00 0HM9U749MGGNI:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:41:51.6547125+07:00 0HM9U749MGGNI:00000001 [INF] Request finished in 371.4991ms 302  (791a596a)
2021-07-03T22:41:51.6698063+07:00 0HM9U749MGGNI:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T22:41:51.6725300+07:00 0HM9U749MGGNI:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:41:51.6740159+07:00 0HM9U749MGGNI:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:41:51.7110882+07:00 0HM9U749MGGNI:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T22:41:51.9870506+07:00 0HM9U749MGGNI:00000003 [INF] Executed ViewResult - view "Login" executed in 309.7971ms. (f66409e9)
2021-07-03T22:41:51.9871314+07:00 0HM9U749MGGNI:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 313.074ms (afa2e885)
2021-07-03T22:41:51.9871740+07:00 0HM9U749MGGNI:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:41:51.9889313+07:00 0HM9U749MGGNI:00000003 [INF] Request finished in 319.0823ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:08.0213977+07:00 0HM9U749MGGNI:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T22:42:08.0366188+07:00 0HM9U749MGGNI:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:08.0496341+07:00 0HM9U749MGGNI:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:08.0947590+07:00 0HM9U749MGGNI:00000005 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T22:42:08.9370042+07:00 0HM9U749MGGNI:00000005 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T22:42:08.9391332+07:00 0HM9U749MGGNI:00000005 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T22:42:09.0509143+07:00 0HM9U749MGGNI:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:09.7162620+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("46"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:42:09.7826010+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:42:10.0151761+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:42:10.0521659+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T22:42:10.0597051+07:00 0HM9U749MGGNI:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T22:42:10.0659870+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:42:10.0907905+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:42:10.1943603+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:42:10.2130308+07:00 0HM9U749MGGNI:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:10.2436974+07:00 0HM9U749MGGNI:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:42:10.2446626+07:00 0HM9U749MGGNI:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2194.9439ms (afa2e885)
2021-07-03T22:42:10.2451404+07:00 0HM9U749MGGNI:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:10.2468391+07:00 0HM9U749MGGNI:00000005 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"af79921d-c73b-c28d-4354-01488086e162" (1d7cf8c0)
2021-07-03T22:42:10.2549843+07:00 0HM9U749MGGNI:00000005 [INF] Request finished in 2233.9559ms 302  (791a596a)
2021-07-03T22:42:10.2762929+07:00 0HM9U749MGGNI:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:42:10.2772392+07:00 0HM9U749MGGNI:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:10.2774109+07:00 0HM9U749MGGNI:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:10.2776908+07:00 0HM9U749MGGNI:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:10.3331520+07:00 0HM9U749MGGNI:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:10.3476194+07:00 0HM9U749MGGNI:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:42:10.3509664+07:00 0HM9U749MGGNI:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:42:10.3977786+07:00 0HM9U749MGGNI:00000007 [INF] Executed ViewResult - view "Index" executed in 48.8325ms. (f66409e9)
2021-07-03T22:42:10.3978992+07:00 0HM9U749MGGNI:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 120.1533ms (afa2e885)
2021-07-03T22:42:10.3979673+07:00 0HM9U749MGGNI:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:10.3982605+07:00 0HM9U749MGGNI:00000007 [INF] Request finished in 122.1471ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:10.5507879+07:00 0HM9U749MGGNI:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:42:10.5520418+07:00 0HM9U749MGGNI:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:42:10.5630474+07:00 0HM9U749MGGNI:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:42:10.5650005+07:00 0HM9U749MGGNI:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:10.5651805+07:00 0HM9U749MGGNI:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:10.5676274+07:00 0HM9U749MGGNI:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:10.5734124+07:00 0HM9U749MGGNI:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:42:10.5736184+07:00 0HM9U749MGGNI:00000009 [INF] Request finished in 22.8838ms 200 application/json (791a596a)
2021-07-03T22:42:10.5837449+07:00 0HM9U749MGGNI:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:10.6054798+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:10.6430625+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:10.6470470+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:10.6553338+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:42:10.6588881+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:42:10.6684304+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:42:10.6773373+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:10.6788284+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:10.6793765+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:10.6801852+07:00 0HM9U749MGGNI:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:10.6871325+07:00 0HM9U749MGGNI:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:42:10.6970343+07:00 0HM9U749MGGNI:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 12.4603ms. (6f83ade2)
2021-07-03T22:42:10.6971072+07:00 0HM9U749MGGNI:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 129.4194ms (afa2e885)
2021-07-03T22:42:10.6971505+07:00 0HM9U749MGGNI:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:10.6972998+07:00 0HM9U749MGGNI:0000000B [INF] Request finished in 134.3657ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:11.0567102+07:00 0HM9U749MGGNK:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=UTYr_O6MQqGoUtJ5mtLscA   (ca22a1cb)
2021-07-03T22:42:11.0573675+07:00 0HM9U749MGGNK:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:42:11.1129005+07:00 0HM9U749MGGNK:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:11.1172488+07:00 0HM9U749MGGNK:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:42:11.1495176+07:00 0HM9U749MGGNK:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:42:11.7725892+07:00 0HM9U749MGGNL:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:42:11.7764037+07:00 0HM9U749MGGNL:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:11.7769791+07:00 0HM9U749MGGNL:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:11.7775045+07:00 0HM9U749MGGNL:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:11.7781232+07:00 0HM9U749MGGNL:00000001 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T22:42:11.7785375+07:00 0HM9U749MGGNL:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T22:42:11.7787856+07:00 0HM9U749MGGNL:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 1.1011ms (afa2e885)
2021-07-03T22:42:11.7789124+07:00 0HM9U749MGGNL:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:11.7795464+07:00 0HM9U749MGGNL:00000001 [INF] Request finished in 8.6514ms 302  (791a596a)
2021-07-03T22:42:11.7834263+07:00 0HM9U749MGGNL:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T22:42:11.7851775+07:00 0HM9U749MGGNL:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:11.7856589+07:00 0HM9U749MGGNL:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:11.7901844+07:00 0HM9U749MGGNL:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T22:42:11.7958454+07:00 0HM9U749MGGNL:00000003 [INF] Executed ViewResult - view "Login" executed in 5.9882ms. (f66409e9)
2021-07-03T22:42:11.7959272+07:00 0HM9U749MGGNL:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 10.0997ms (afa2e885)
2021-07-03T22:42:11.7959541+07:00 0HM9U749MGGNL:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:11.7961904+07:00 0HM9U749MGGNL:00000003 [INF] Request finished in 12.8547ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:19.4234156+07:00 0HM9U749MGGNL:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T22:42:19.4256960+07:00 0HM9U749MGGNL:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:19.4261661+07:00 0HM9U749MGGNL:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:19.4287920+07:00 0HM9U749MGGNL:00000005 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T22:42:19.4295429+07:00 0HM9U749MGGNL:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:19.4318026+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:42:19.4353318+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:42:19.4471594+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T22:42:19.4498483+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T22:42:19.4510155+07:00 0HM9U749MGGNL:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T22:42:19.4523802+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T22:42:19.4530390+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:42:19.4544540+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:42:19.4603719+07:00 0HM9U749MGGNL:00000005 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:19.4610290+07:00 0HM9U749MGGNL:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:42:19.4611672+07:00 0HM9U749MGGNL:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 34.904ms (afa2e885)
2021-07-03T22:42:19.4612090+07:00 0HM9U749MGGNL:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:19.4613073+07:00 0HM9U749MGGNL:00000005 [INF] Session started; Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88", Id:"cb6df48e-f5de-f4c1-089b-53824f4e0926" (1d7cf8c0)
2021-07-03T22:42:19.4617804+07:00 0HM9U749MGGNL:00000005 [INF] Request finished in 38.8755ms 302  (791a596a)
2021-07-03T22:42:19.4666008+07:00 0HM9U749MGGNL:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:42:19.4672676+07:00 0HM9U749MGGNL:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:19.4673403+07:00 0HM9U749MGGNL:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:19.4674025+07:00 0HM9U749MGGNL:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:19.4676662+07:00 0HM9U749MGGNL:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:19.4704483+07:00 0HM9U749MGGNL:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:42:19.4713280+07:00 0HM9U749MGGNL:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:42:19.4736142+07:00 0HM9U749MGGNL:00000007 [INF] Executed ViewResult - view "Index" executed in 2.3655ms. (f66409e9)
2021-07-03T22:42:19.4736749+07:00 0HM9U749MGGNL:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.2502ms (afa2e885)
2021-07-03T22:42:19.4737031+07:00 0HM9U749MGGNL:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:19.4738755+07:00 0HM9U749MGGNL:00000007 [INF] Request finished in 7.3062ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:19.5782226+07:00 0HM9U749MGGNL:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:42:19.5981239+07:00 0HM9U749MGGNL:00000009 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:42:19.5982946+07:00 0HM9U749MGGNL:00000009 [INF] Request finished in 20.2041ms 200 text/plain (791a596a)
2021-07-03T22:42:19.6033403+07:00 0HM9U749MGGNL:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:42:19.6043817+07:00 0HM9U749MGGNL:0000000B [INF] Request finished in 1.0479ms 404  (791a596a)
2021-07-03T22:42:19.6276099+07:00 0HM9U749MGGNL:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:42:19.6280071+07:00 0HM9U749MGGNL:0000000D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:42:19.6284325+07:00 0HM9U749MGGNL:0000000D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:42:19.6285255+07:00 0HM9U749MGGNL:0000000D [INF] Request finished in 0.9906ms 200 application/json (791a596a)
2021-07-03T22:42:19.6454760+07:00 0HM9U749MGGNL:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:42:19.6510250+07:00 0HM9U749MGGNL:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:19.6512952+07:00 0HM9U749MGGNL:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:19.6514711+07:00 0HM9U749MGGNL:0000000F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:19.6524683+07:00 0HM9U749MGGNL:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:19.6534029+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:19.6542294+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:19.6548526+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:19.6554513+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:42:19.6560800+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:42:19.6568903+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:42:19.6576593+07:00 0HM9U749MGGNL:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:19.6584698+07:00 0HM9U749MGGNL:0000000F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:42:19.6589497+07:00 0HM9U749MGGNL:0000000F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5382ms. (6f83ade2)
2021-07-03T22:42:19.6589916+07:00 0HM9U749MGGNL:0000000F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.4818ms (afa2e885)
2021-07-03T22:42:19.6590108+07:00 0HM9U749MGGNL:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:19.6591053+07:00 0HM9U749MGGNL:0000000F [INF] Request finished in 13.7667ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:19.6723342+07:00 0HM9U749MGGNM:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=gfROWULz6n7rO5q5SshoUA   (ca22a1cb)
2021-07-03T22:42:19.6728005+07:00 0HM9U749MGGNM:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:42:19.6821480+07:00 0HM9U749MGGNM:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:19.6831435+07:00 0HM9U749MGGNM:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:42:19.6850176+07:00 0HM9U749MGGNM:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:42:21.8742957+07:00 0HM9U749MGGNL:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:42:21.8756964+07:00 0HM9U749MGGNL:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:21.8759793+07:00 0HM9U749MGGNL:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:21.8762690+07:00 0HM9U749MGGNL:00000011 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:21.8807364+07:00 0HM9U749MGGNL:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:21.8849533+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:21.8885501+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:21.8905208+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:21.8926226+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:42:21.8943772+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:42:21.8960064+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:42:21.8978075+07:00 0HM9U749MGGNL:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:21.8982811+07:00 0HM9U749MGGNL:00000011 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:42:21.9008461+07:00 0HM9U749MGGNL:00000011 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 2.5839ms. (6f83ade2)
2021-07-03T22:42:21.9010520+07:00 0HM9U749MGGNL:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 24.7057ms (afa2e885)
2021-07-03T22:42:21.9011049+07:00 0HM9U749MGGNL:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:21.9015768+07:00 0HM9U749MGGNL:00000011 [INF] Request finished in 27.3463ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:23.1861891+07:00 0HM9U749MGGNI:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:42:23.1874435+07:00 0HM9U749MGGNI:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326930436   (ca22a1cb)
2021-07-03T22:42:23.1891219+07:00 0HM9U749MGGNI:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:23.1891219+07:00 0HM9U749MGGNI:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:23.1894166+07:00 0HM9U749MGGNI:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:23.1894166+07:00 0HM9U749MGGNI:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:23.1918805+07:00 0HM9U749MGGNI:0000000D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:23.1918805+07:00 0HM9U749MGGNI:0000000F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:23.1970181+07:00 0HM9U749MGGNI:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:23.1970188+07:00 0HM9U749MGGNI:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:23.2044447+07:00 0HM9U749MGGNI:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:23.2065199+07:00 0HM9U749MGGNI:0000000D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:42:23.2065619+07:00 0HM9U749MGGNI:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:23.2162113+07:00 0HM9U749MGGNI:0000000D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 24.231ms (afa2e885)
2021-07-03T22:42:23.2162618+07:00 0HM9U749MGGNI:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:23.2166164+07:00 0HM9U749MGGNI:0000000D [INF] Request finished in 30.6571ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:23.2304447+07:00 0HM9U749MGGNI:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:23.2591476+07:00 0HM9U749MGGNI:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:23.2636444+07:00 0HM9U749MGGNI:0000000F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:42:23.2695220+07:00 0HM9U749MGGNI:0000000F [INF] Executed PartialViewResult - view "_ChatForm" executed in 9.7192ms. (6f83ade2)
2021-07-03T22:42:23.2695745+07:00 0HM9U749MGGNI:0000000F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 77.6525ms (afa2e885)
2021-07-03T22:42:23.2695945+07:00 0HM9U749MGGNI:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:23.2697132+07:00 0HM9U749MGGNI:0000000F [INF] Request finished in 82.3562ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:23.9802750+07:00 0HM9U749MGGNI:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:42:23.9825884+07:00 0HM9U749MGGNI:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:23.9830784+07:00 0HM9U749MGGNI:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:23.9867307+07:00 0HM9U749MGGNI:00000011 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:23.9911325+07:00 0HM9U749MGGNI:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:23.9927721+07:00 0HM9U749MGGNI:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:24.0001539+07:00 0HM9U749MGGNI:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:24.0247671+07:00 0HM9U749MGGNI:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:24.0266831+07:00 0HM9U749MGGNI:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:24.0547633+07:00 0HM9U749MGGNI:00000011 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:42:24.0948348+07:00 0HM9U749MGGNI:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 108.0314ms (afa2e885)
2021-07-03T22:42:24.0948971+07:00 0HM9U749MGGNI:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:24.0952354+07:00 0HM9U749MGGNI:00000011 [INF] Request finished in 115.2785ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:25.0463132+07:00 0HM9U749MGGNI:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:42:25.0478725+07:00 0HM9U749MGGNI:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:25.0481794+07:00 0HM9U749MGGNI:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:25.0516727+07:00 0HM9U749MGGNI:00000013 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:25.0552804+07:00 0HM9U749MGGNI:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:25.0566095+07:00 0HM9U749MGGNI:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:42:25.0607972+07:00 0HM9U749MGGNI:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:42:25.0637591+07:00 0HM9U749MGGNI:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:25.0720491+07:00 0HM9U749MGGNI:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:25.0727380+07:00 0HM9U749MGGNI:00000013 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:42:25.0873853+07:00 0HM9U749MGGNI:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 35.6458ms (afa2e885)
2021-07-03T22:42:25.0874554+07:00 0HM9U749MGGNI:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:25.0877340+07:00 0HM9U749MGGNI:00000013 [INF] Request finished in 41.5923ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:26.2602281+07:00 0HM9U749MGGNI:00000015 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryzpj9330t7ABgjjZq 889 (ca22a1cb)
2021-07-03T22:42:26.2619183+07:00 0HM9U749MGGNI:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:26.2622873+07:00 0HM9U749MGGNI:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:26.2735706+07:00 0HM9U749MGGNI:00000015 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:26.3012999+07:00 0HM9U749MGGNI:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:26.3073543+07:00 0HM9U749MGGNI:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:42:26.3442735+07:00 0HM9U749MGGNI:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:42:26.3462963+07:00 0HM9U749MGGNI:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:42:26.3494038+07:00 0HM9U749MGGNI:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:42:26.3574662+07:00 0HM9U749MGGNI:00000015 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:42:26.3608968+07:00 0HM9U749MGGNI:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 87.2542ms (afa2e885)
2021-07-03T22:42:26.3609506+07:00 0HM9U749MGGNI:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:26.3614488+07:00 0HM9U749MGGNI:00000015 [INF] Request finished in 101.6476ms 302  (791a596a)
2021-07-03T22:42:26.3734643+07:00 0HM9U749MGGNI:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:42:26.3745934+07:00 0HM9U749MGGNI:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:26.3747586+07:00 0HM9U749MGGNI:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:26.3748837+07:00 0HM9U749MGGNI:00000017 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:26.3752221+07:00 0HM9U749MGGNI:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:26.3781633+07:00 0HM9U749MGGNI:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:42:26.3802961+07:00 0HM9U749MGGNI:00000017 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:42:26.4278476+07:00 0HM9U749MGGNI:00000017 [INF] Executed ViewResult - view "Index" executed in 47.6363ms. (f66409e9)
2021-07-03T22:42:26.4279568+07:00 0HM9U749MGGNI:00000017 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 53.038ms (afa2e885)
2021-07-03T22:42:26.4280319+07:00 0HM9U749MGGNI:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:26.4284873+07:00 0HM9U749MGGNI:00000017 [INF] Request finished in 55.0732ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:26.4534589+07:00 0HM9U749MGGNK:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:42:26.4537124+07:00 0HM9U749MGGNK:00000001 [INF] Request finished in 15397.0044ms 101  (791a596a)
2021-07-03T22:42:26.5438838+07:00 0HM9U749MGGNI:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:42:26.5442994+07:00 0HM9U749MGGNI:00000019 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:42:26.5447524+07:00 0HM9U749MGGNI:00000019 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:42:26.5448509+07:00 0HM9U749MGGNI:00000019 [INF] Request finished in 1.0772ms 200 application/json (791a596a)
2021-07-03T22:42:26.5533163+07:00 0HM9U749MGGNI:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:42:26.5536639+07:00 0HM9U749MGGNI:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:26.5537308+07:00 0HM9U749MGGNI:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:26.5537898+07:00 0HM9U749MGGNI:0000001B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:26.5541593+07:00 0HM9U749MGGNI:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:26.5549079+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:26.5557515+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:26.5562433+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:26.5569429+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:42:26.5579113+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:42:26.5588555+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:42:26.5595597+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:26.5601159+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:26.5605685+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:26.5610535+07:00 0HM9U749MGGNI:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:26.5613609+07:00 0HM9U749MGGNI:0000001B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:42:26.5619280+07:00 0HM9U749MGGNI:0000001B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5985ms. (6f83ade2)
2021-07-03T22:42:26.5619766+07:00 0HM9U749MGGNI:0000001B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 8.1653ms (afa2e885)
2021-07-03T22:42:26.5620455+07:00 0HM9U749MGGNI:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:26.5622396+07:00 0HM9U749MGGNI:0000001B [INF] Request finished in 8.9877ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:26.5932454+07:00 0HM9U749MGGNN:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=x-sD8QJCo5twomV6EE6v4g   (ca22a1cb)
2021-07-03T22:42:26.5936263+07:00 0HM9U749MGGNN:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:42:26.6037547+07:00 0HM9U749MGGNN:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:26.6043180+07:00 0HM9U749MGGNN:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:42:26.6051709+07:00 0HM9U749MGGNN:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:42:28.5008933+07:00 0HM9U749MGGNL:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:42:28.5022157+07:00 0HM9U749MGGNL:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:28.5024539+07:00 0HM9U749MGGNL:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:28.5026789+07:00 0HM9U749MGGNL:00000013 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:28.5037733+07:00 0HM9U749MGGNL:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:28.5054808+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:28.5072916+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:28.5087513+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:28.5102637+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:42:28.5118192+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:42:28.5129960+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:42:28.5140777+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:28.5151825+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:28.5161278+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:28.5170875+07:00 0HM9U749MGGNL:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:42:28.5174475+07:00 0HM9U749MGGNL:00000013 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:42:28.5188553+07:00 0HM9U749MGGNL:00000013 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.4654ms. (6f83ade2)
2021-07-03T22:42:28.5189078+07:00 0HM9U749MGGNL:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 16.1899ms (afa2e885)
2021-07-03T22:42:28.5189463+07:00 0HM9U749MGGNL:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:28.5192838+07:00 0HM9U749MGGNL:00000013 [INF] Request finished in 18.4493ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:30.7855532+07:00 0HM9U749MGGNL:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326939514   (ca22a1cb)
2021-07-03T22:42:30.7862298+07:00 0HM9U749MGGNL:00000017 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:42:30.7893177+07:00 0HM9U749MGGNL:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:30.7898669+07:00 0HM9U749MGGNL:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:30.7901190+07:00 0HM9U749MGGNL:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:30.7901781+07:00 0HM9U749MGGNL:00000015 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:30.7907594+07:00 0HM9U749MGGNL:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:30.7910905+07:00 0HM9U749MGGNL:00000017 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:30.7924860+07:00 0HM9U749MGGNL:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:30.7932340+07:00 0HM9U749MGGNL:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:30.7946574+07:00 0HM9U749MGGNL:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:30.7947271+07:00 0HM9U749MGGNL:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:30.7951912+07:00 0HM9U749MGGNL:00000017 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:42:30.7958938+07:00 0HM9U749MGGNL:00000017 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.7265ms (afa2e885)
2021-07-03T22:42:30.7958706+07:00 0HM9U749MGGNL:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:30.7959251+07:00 0HM9U749MGGNL:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:30.7963196+07:00 0HM9U749MGGNL:00000017 [INF] Request finished in 10.1863ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:30.7983886+07:00 0HM9U749MGGNL:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:30.7987357+07:00 0HM9U749MGGNL:00000015 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:42:30.7994827+07:00 0HM9U749MGGNL:00000015 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.8881ms. (6f83ade2)
2021-07-03T22:42:30.7995119+07:00 0HM9U749MGGNL:00000015 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 9.2691ms (afa2e885)
2021-07-03T22:42:30.7995336+07:00 0HM9U749MGGNL:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:30.7996327+07:00 0HM9U749MGGNL:00000015 [INF] Request finished in 14.1678ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:32.0991307+07:00 0HM9U749MGGNL:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:42:32.1004057+07:00 0HM9U749MGGNL:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:32.1006797+07:00 0HM9U749MGGNL:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:32.1009114+07:00 0HM9U749MGGNL:00000019 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:32.1022987+07:00 0HM9U749MGGNL:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:32.1047997+07:00 0HM9U749MGGNL:00000019 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:32.1072555+07:00 0HM9U749MGGNL:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:32.1122056+07:00 0HM9U749MGGNL:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:32.1137741+07:00 0HM9U749MGGNL:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:32.1162741+07:00 0HM9U749MGGNL:00000019 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:42:32.1171540+07:00 0HM9U749MGGNL:00000019 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 16.1828ms (afa2e885)
2021-07-03T22:42:32.1171863+07:00 0HM9U749MGGNL:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:32.1174271+07:00 0HM9U749MGGNL:00000019 [INF] Request finished in 18.3296ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:40.3386203+07:00 0HM9U749MGGNI:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:42:40.3403768+07:00 0HM9U749MGGNI:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625326946472   (ca22a1cb)
2021-07-03T22:42:40.3413377+07:00 0HM9U749MGGNI:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:40.3416205+07:00 0HM9U749MGGNI:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:40.3419091+07:00 0HM9U749MGGNI:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:40.3419278+07:00 0HM9U749MGGNI:0000001D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:40.3421775+07:00 0HM9U749MGGNI:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:40.3424952+07:00 0HM9U749MGGNI:0000001F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:40.3444787+07:00 0HM9U749MGGNI:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:40.3444711+07:00 0HM9U749MGGNI:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:40.3482905+07:00 0HM9U749MGGNI:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:40.3508525+07:00 0HM9U749MGGNI:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:42:40.3512231+07:00 0HM9U749MGGNI:0000001D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:42:40.3513964+07:00 0HM9U749MGGNI:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:40.3520433+07:00 0HM9U749MGGNI:0000001D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 10.0472ms (afa2e885)
2021-07-03T22:42:40.3520955+07:00 0HM9U749MGGNI:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:40.3524962+07:00 0HM9U749MGGNI:0000001D [INF] Request finished in 13.9124ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:40.3562775+07:00 0HM9U749MGGNI:0000001F [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:40.3566416+07:00 0HM9U749MGGNI:0000001F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:42:40.3576354+07:00 0HM9U749MGGNI:0000001F [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.0755ms. (6f83ade2)
2021-07-03T22:42:40.3577065+07:00 0HM9U749MGGNI:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 15.1419ms (afa2e885)
2021-07-03T22:42:40.3577463+07:00 0HM9U749MGGNI:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:40.3578813+07:00 0HM9U749MGGNI:0000001F [INF] Request finished in 17.6111ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:42:50.4402608+07:00 0HM9U749MGGNL:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:42:50.4416773+07:00 0HM9U749MGGNL:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:50.4418817+07:00 0HM9U749MGGNL:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:50.4420976+07:00 0HM9U749MGGNL:0000001B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:50.4434104+07:00 0HM9U749MGGNL:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:50.4448355+07:00 0HM9U749MGGNL:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:50.4464520+07:00 0HM9U749MGGNL:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:50.4512319+07:00 0HM9U749MGGNL:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:50.4529339+07:00 0HM9U749MGGNL:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:50.4553714+07:00 0HM9U749MGGNL:0000001B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:42:50.4564685+07:00 0HM9U749MGGNL:0000001B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 14.3061ms (afa2e885)
2021-07-03T22:42:50.4565197+07:00 0HM9U749MGGNL:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:50.4568499+07:00 0HM9U749MGGNL:0000001B [INF] Request finished in 16.7097ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:55.3137392+07:00 0HM9U749MGGNI:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:42:55.3148436+07:00 0HM9U749MGGNI:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:55.3149383+07:00 0HM9U749MGGNI:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:55.3150598+07:00 0HM9U749MGGNI:00000021 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:55.3161777+07:00 0HM9U749MGGNI:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:55.3175140+07:00 0HM9U749MGGNI:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:55.3190388+07:00 0HM9U749MGGNI:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:55.3229775+07:00 0HM9U749MGGNI:00000021 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:42:55.3244347+07:00 0HM9U749MGGNI:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:42:55.3266450+07:00 0HM9U749MGGNI:00000021 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:42:55.3274370+07:00 0HM9U749MGGNI:00000021 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 12.3238ms (afa2e885)
2021-07-03T22:42:55.3275041+07:00 0HM9U749MGGNI:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:55.3278392+07:00 0HM9U749MGGNI:00000021 [INF] Request finished in 14.2292ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:42:58.3432935+07:00 0HM9U749MGGNI:00000023 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:42:58.3439278+07:00 0HM9U749MGGNI:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:42:58.3440523+07:00 0HM9U749MGGNI:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:42:58.3470014+07:00 0HM9U749MGGNI:00000023 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:42:58.3501682+07:00 0HM9U749MGGNI:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:42:58.3578052+07:00 0HM9U749MGGNI:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:42:58.3632155+07:00 0HM9U749MGGNI:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:42:58.3735924+07:00 0HM9U749MGGNI:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:42:58.3889078+07:00 0HM9U749MGGNI:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:42:58.3911687+07:00 0HM9U749MGGNI:00000023 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:42:58.3920924+07:00 0HM9U749MGGNI:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 44.9039ms (afa2e885)
2021-07-03T22:42:58.3921366+07:00 0HM9U749MGGNI:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:42:58.3923847+07:00 0HM9U749MGGNI:00000023 [INF] Request finished in 49.0864ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:24.8109923+07:00 0HM9U749MGGNL:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:44:24.8118693+07:00 0HM9U749MGGNL:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:24.8120255+07:00 0HM9U749MGGNL:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:24.8121684+07:00 0HM9U749MGGNL:0000001D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:24.8128701+07:00 0HM9U749MGGNL:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:24.8172813+07:00 0HM9U749MGGNL:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:44:24.8183417+07:00 0HM9U749MGGNL:0000001D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:44:24.8209266+07:00 0HM9U749MGGNL:0000001D [INF] Executed ViewResult - view "Index" executed in 2.5272ms. (f66409e9)
2021-07-03T22:44:24.8211832+07:00 0HM9U749MGGNL:0000001D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 8.9677ms (afa2e885)
2021-07-03T22:44:24.8212626+07:00 0HM9U749MGGNL:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:24.8218248+07:00 0HM9U749MGGNL:0000001D [INF] Request finished in 10.9583ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:24.8301204+07:00 0HM9U749MGGNM:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:44:24.8303024+07:00 0HM9U749MGGNM:00000001 [INF] Request finished in 125157.978ms 101  (791a596a)
2021-07-03T22:44:24.8806023+07:00 0HM9U749MGGNL:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:44:24.8815131+07:00 0HM9U749MGGNL:0000001F [INF] Request finished in 0.9217ms 404  (791a596a)
2021-07-03T22:44:24.9589533+07:00 0HM9U749MGGNL:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:44:24.9650346+07:00 0HM9U749MGGNL:00000021 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:44:24.9652283+07:00 0HM9U749MGGNL:00000021 [INF] Request finished in 6.3147ms 200 text/plain (791a596a)
2021-07-03T22:44:24.9741051+07:00 0HM9U749MGGNL:00000023 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:44:24.9744821+07:00 0HM9U749MGGNL:00000023 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:44:24.9748463+07:00 0HM9U749MGGNL:00000023 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:44:24.9749173+07:00 0HM9U749MGGNL:00000023 [INF] Request finished in 0.8935ms 200 application/json (791a596a)
2021-07-03T22:44:24.9955678+07:00 0HM9U749MGGNL:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:24.9961319+07:00 0HM9U749MGGNL:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:24.9962194+07:00 0HM9U749MGGNL:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:24.9963817+07:00 0HM9U749MGGNL:00000025 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:24.9973511+07:00 0HM9U749MGGNL:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:25.0000193+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:25.0059099+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:25.0072576+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:25.0087614+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:25.0099734+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:25.0117390+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:25.0136212+07:00 0HM9U749MGGNL:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:25.0140156+07:00 0HM9U749MGGNL:00000025 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:25.0144982+07:00 0HM9U749MGGNL:00000025 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4989ms. (6f83ade2)
2021-07-03T22:44:25.0145617+07:00 0HM9U749MGGNL:00000025 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 18.1279ms (afa2e885)
2021-07-03T22:44:25.0145926+07:00 0HM9U749MGGNL:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:25.0148031+07:00 0HM9U749MGGNL:00000025 [INF] Request finished in 19.2798ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:25.0243571+07:00 0HM9U749MGGNO:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=76ukIL8d7xkU_2_x-KbFqQ   (ca22a1cb)
2021-07-03T22:44:25.0247193+07:00 0HM9U749MGGNO:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:44:25.0347735+07:00 0HM9U749MGGNO:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:25.0364578+07:00 0HM9U749MGGNO:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:44:25.0402386+07:00 0HM9U749MGGNO:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:44:25.4459711+07:00 0HM9U749MGGNL:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:44:25.4467488+07:00 0HM9U749MGGNL:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:25.4469688+07:00 0HM9U749MGGNL:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:25.4470831+07:00 0HM9U749MGGNL:00000027 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:25.4478946+07:00 0HM9U749MGGNL:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:25.4510319+07:00 0HM9U749MGGNL:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:44:25.4543662+07:00 0HM9U749MGGNL:00000027 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:44:25.4602117+07:00 0HM9U749MGGNL:00000027 [INF] Executed ViewResult - view "Index" executed in 6.3258ms. (f66409e9)
2021-07-03T22:44:25.4604072+07:00 0HM9U749MGGNL:00000027 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 13.2745ms (afa2e885)
2021-07-03T22:44:25.4605207+07:00 0HM9U749MGGNL:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:25.4613900+07:00 0HM9U749MGGNL:00000027 [INF] Request finished in 15.2645ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:25.4711257+07:00 0HM9U749MGGNO:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:44:25.4739165+07:00 0HM9U749MGGNO:00000001 [INF] Request finished in 449.4464ms 101  (791a596a)
2021-07-03T22:44:25.5394635+07:00 0HM9U749MGGNL:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:44:25.5413703+07:00 0HM9U749MGGNL:00000029 [INF] Request finished in 1.8405ms 404  (791a596a)
2021-07-03T22:44:25.6055808+07:00 0HM9U749MGGNL:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:44:25.6119678+07:00 0HM9U749MGGNL:0000002B [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:44:25.6122380+07:00 0HM9U749MGGNL:0000002B [INF] Request finished in 6.697ms 200 text/plain (791a596a)
2021-07-03T22:44:25.6271198+07:00 0HM9U749MGGNL:0000002D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:44:25.6279548+07:00 0HM9U749MGGNL:0000002D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:44:25.6287873+07:00 0HM9U749MGGNL:0000002D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:44:25.6289975+07:00 0HM9U749MGGNL:0000002D [INF] Request finished in 4.7239ms 200 application/json (791a596a)
2021-07-03T22:44:25.6450180+07:00 0HM9U749MGGNL:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:25.6456167+07:00 0HM9U749MGGNL:0000002F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:25.6457067+07:00 0HM9U749MGGNL:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:25.6458035+07:00 0HM9U749MGGNL:0000002F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:25.6463673+07:00 0HM9U749MGGNL:0000002F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:25.6470695+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:25.6477523+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:25.6482524+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:25.6487815+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:25.6495133+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:25.6502202+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:25.6509759+07:00 0HM9U749MGGNL:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:25.6512794+07:00 0HM9U749MGGNL:0000002F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:25.6524502+07:00 0HM9U749MGGNL:0000002F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.1985ms. (6f83ade2)
2021-07-03T22:44:25.6526247+07:00 0HM9U749MGGNL:0000002F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 6.7278ms (afa2e885)
2021-07-03T22:44:25.6526646+07:00 0HM9U749MGGNL:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:25.6529956+07:00 0HM9U749MGGNL:0000002F [INF] Request finished in 7.9508ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:25.6737737+07:00 0HM9U749MGGNP:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=3wTJgCXTE3NHXbrWZ03Tpg   (ca22a1cb)
2021-07-03T22:44:25.6745859+07:00 0HM9U749MGGNP:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:44:25.6857979+07:00 0HM9U749MGGNP:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:25.6867438+07:00 0HM9U749MGGNP:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:44:25.6903375+07:00 0HM9U749MGGNP:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:44:28.5083874+07:00 0HM9U749MGGNI:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:44:28.5095109+07:00 0HM9U749MGGNI:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:28.5097551+07:00 0HM9U749MGGNI:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:28.5100095+07:00 0HM9U749MGGNI:00000025 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:28.5106729+07:00 0HM9U749MGGNI:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:28.5137960+07:00 0HM9U749MGGNI:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:44:28.5156506+07:00 0HM9U749MGGNI:00000025 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:44:28.5179012+07:00 0HM9U749MGGNI:00000025 [INF] Executed ViewResult - view "Index" executed in 2.2898ms. (f66409e9)
2021-07-03T22:44:28.5180345+07:00 0HM9U749MGGNI:00000025 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.9746ms (afa2e885)
2021-07-03T22:44:28.5181090+07:00 0HM9U749MGGNI:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:28.5186224+07:00 0HM9U749MGGNI:00000025 [INF] Request finished in 10.3231ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:28.5282053+07:00 0HM9U749MGGNN:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:44:28.5284601+07:00 0HM9U749MGGNN:00000001 [INF] Request finished in 121935.2201ms 101  (791a596a)
2021-07-03T22:44:28.6913329+07:00 0HM9U749MGGNI:00000027 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:44:28.6921850+07:00 0HM9U749MGGNI:00000027 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:44:28.6929349+07:00 0HM9U749MGGNI:00000027 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:44:28.6931752+07:00 0HM9U749MGGNI:00000027 [INF] Request finished in 1.9256ms 200 application/json (791a596a)
2021-07-03T22:44:28.7097417+07:00 0HM9U749MGGNI:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:28.7140220+07:00 0HM9U749MGGNI:00000029 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:28.7141386+07:00 0HM9U749MGGNI:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:28.7142784+07:00 0HM9U749MGGNI:00000029 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:28.7150446+07:00 0HM9U749MGGNI:00000029 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:28.7160196+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:28.7167613+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:28.7172852+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:28.7180752+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:28.7199168+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:28.7208300+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:28.7215846+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:28.7222737+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:28.7228719+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:28.7234579+07:00 0HM9U749MGGNI:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:28.7236802+07:00 0HM9U749MGGNI:00000029 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:28.7243844+07:00 0HM9U749MGGNI:00000029 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.7278ms. (6f83ade2)
2021-07-03T22:44:28.7244373+07:00 0HM9U749MGGNI:00000029 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.1201ms (afa2e885)
2021-07-03T22:44:28.7244623+07:00 0HM9U749MGGNI:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:28.7246841+07:00 0HM9U749MGGNI:00000029 [INF] Request finished in 14.9207ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:28.7836382+07:00 0HM9U749MGGNI:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:44:28.7882925+07:00 0HM9U749MGGNI:0000002B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:44:28.7885053+07:00 0HM9U749MGGNI:0000002B [INF] Request finished in 4.9245ms 200 image/png (791a596a)
2021-07-03T22:44:28.7917691+07:00 0HM9U749MGGNQ:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=lwsDx-qlEswCO0Amo0ZGuQ   (ca22a1cb)
2021-07-03T22:44:28.7923631+07:00 0HM9U749MGGNQ:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:44:28.8025307+07:00 0HM9U749MGGNQ:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:28.8031579+07:00 0HM9U749MGGNQ:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:44:28.8046279+07:00 0HM9U749MGGNQ:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:44:29.0751562+07:00 0HM9U749MGGNI:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:44:29.0756877+07:00 0HM9U749MGGNI:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:29.0757670+07:00 0HM9U749MGGNI:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:29.0758980+07:00 0HM9U749MGGNI:0000002D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:29.0762988+07:00 0HM9U749MGGNI:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:29.0792548+07:00 0HM9U749MGGNI:0000002D [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:44:29.0804204+07:00 0HM9U749MGGNI:0000002D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:44:29.0820632+07:00 0HM9U749MGGNI:0000002D [INF] Executed ViewResult - view "Index" executed in 1.7007ms. (f66409e9)
2021-07-03T22:44:29.0822389+07:00 0HM9U749MGGNI:0000002D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.2773ms (afa2e885)
2021-07-03T22:44:29.0823014+07:00 0HM9U749MGGNI:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:29.0827252+07:00 0HM9U749MGGNI:0000002D [INF] Request finished in 7.5948ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:29.1280881+07:00 0HM9U749MGGNQ:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:44:29.1282391+07:00 0HM9U749MGGNQ:00000001 [INF] Request finished in 336.5012ms 101  (791a596a)
2021-07-03T22:44:29.2489203+07:00 0HM9U749MGGNI:0000002F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:44:29.2524554+07:00 0HM9U749MGGNI:0000002F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:44:29.2530991+07:00 0HM9U749MGGNI:0000002F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:44:29.2533528+07:00 0HM9U749MGGNI:0000002F [INF] Request finished in 5.0325ms 200 application/json (791a596a)
2021-07-03T22:44:29.2559450+07:00 0HM9U749MGGNI:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:29.2564020+07:00 0HM9U749MGGNI:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:29.2564824+07:00 0HM9U749MGGNI:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:29.2565903+07:00 0HM9U749MGGNI:00000031 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:29.2574657+07:00 0HM9U749MGGNI:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:29.2582447+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:29.2590151+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:29.2596554+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:29.2603075+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:29.2609341+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:29.2615445+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:29.2623546+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:29.2634213+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:29.2642701+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:29.2649185+07:00 0HM9U749MGGNI:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:29.2651542+07:00 0HM9U749MGGNI:00000031 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:29.2658200+07:00 0HM9U749MGGNI:00000031 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.7211ms. (6f83ade2)
2021-07-03T22:44:29.2658588+07:00 0HM9U749MGGNI:00000031 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 8.9893ms (afa2e885)
2021-07-03T22:44:29.2659038+07:00 0HM9U749MGGNI:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:29.2660417+07:00 0HM9U749MGGNI:00000031 [INF] Request finished in 10.1833ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:29.3131515+07:00 0HM9U749MGGNI:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:44:29.3148783+07:00 0HM9U749MGGNI:00000033 [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:44:29.3150603+07:00 0HM9U749MGGNI:00000033 [INF] Request finished in 1.9977ms 200 image/png (791a596a)
2021-07-03T22:44:29.3156267+07:00 0HM9U749MGGNR:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=P98pD7JDY3DjzZ9uWWtmyQ   (ca22a1cb)
2021-07-03T22:44:29.3160418+07:00 0HM9U749MGGNR:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:44:29.3280880+07:00 0HM9U749MGGNR:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:29.3287686+07:00 0HM9U749MGGNR:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:44:29.3306730+07:00 0HM9U749MGGNR:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:44:30.2802936+07:00 0HM9U749MGGNI:00000035 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:30.2807253+07:00 0HM9U749MGGNI:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327069151   (ca22a1cb)
2021-07-03T22:44:30.2810787+07:00 0HM9U749MGGNI:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:30.2811741+07:00 0HM9U749MGGNI:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:30.2812241+07:00 0HM9U749MGGNI:00000037 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:30.2812957+07:00 0HM9U749MGGNI:00000037 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:30.2813595+07:00 0HM9U749MGGNI:00000035 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:30.2814296+07:00 0HM9U749MGGNI:00000037 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:30.2823753+07:00 0HM9U749MGGNI:00000037 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:30.2827770+07:00 0HM9U749MGGNI:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:30.2845557+07:00 0HM9U749MGGNI:00000037 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:30.2859323+07:00 0HM9U749MGGNI:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:30.2874314+07:00 0HM9U749MGGNI:00000035 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:30.2877342+07:00 0HM9U749MGGNI:00000035 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:30.2882513+07:00 0HM9U749MGGNI:00000035 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.8426ms (afa2e885)
2021-07-03T22:44:30.2882894+07:00 0HM9U749MGGNI:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:30.2884094+07:00 0HM9U749MGGNI:00000035 [INF] Request finished in 8.2381ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:30.2911079+07:00 0HM9U749MGGNI:00000037 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:31.6122582+07:00 0HM9U749MGGNI:00000039 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:31.6124283+07:00 0HM9U749MGGNI:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327069152   (ca22a1cb)
2021-07-03T22:44:31.6132199+07:00 0HM9U749MGGNI:0000003B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:31.6132199+07:00 0HM9U749MGGNI:00000039 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:31.6133183+07:00 0HM9U749MGGNI:0000003B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:31.6133264+07:00 0HM9U749MGGNI:00000039 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:31.6134426+07:00 0HM9U749MGGNI:00000039 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:31.6134507+07:00 0HM9U749MGGNI:0000003B [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:31.6146334+07:00 0HM9U749MGGNI:00000039 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:31.6146334+07:00 0HM9U749MGGNI:0000003B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:31.6153346+07:00 0HM9U749MGGNI:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:31.6153764+07:00 0HM9U749MGGNI:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:31.6155603+07:00 0HM9U749MGGNI:00000039 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:31.6159129+07:00 0HM9U749MGGNI:00000039 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 2.4186ms (afa2e885)
2021-07-03T22:44:31.6159592+07:00 0HM9U749MGGNI:00000039 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:31.6160190+07:00 0HM9U749MGGNI:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:31.6160728+07:00 0HM9U749MGGNI:00000039 [INF] Request finished in 3.914ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:31.6174563+07:00 0HM9U749MGGNI:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:33.2413692+07:00 0HM9U749MGGNI:0000003D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:44:33.2427365+07:00 0HM9U749MGGNI:0000003D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:33.2428988+07:00 0HM9U749MGGNI:0000003D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:33.2430073+07:00 0HM9U749MGGNI:0000003D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:33.2435307+07:00 0HM9U749MGGNI:0000003D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:33.2479847+07:00 0HM9U749MGGNI:0000003D [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:44:33.2493210+07:00 0HM9U749MGGNI:0000003D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:44:33.2526379+07:00 0HM9U749MGGNI:0000003D [INF] Executed ViewResult - view "Index" executed in 3.2913ms. (f66409e9)
2021-07-03T22:44:33.2528862+07:00 0HM9U749MGGNI:0000003D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 9.826ms (afa2e885)
2021-07-03T22:44:33.2529686+07:00 0HM9U749MGGNI:0000003D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:33.2535450+07:00 0HM9U749MGGNI:0000003D [INF] Request finished in 12.3313ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:33.2606196+07:00 0HM9U749MGGNR:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:44:33.2608113+07:00 0HM9U749MGGNR:00000001 [INF] Request finished in 3945.1926ms 101  (791a596a)
2021-07-03T22:44:33.3449897+07:00 0HM9U749MGGNI:0000003F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:44:33.3454667+07:00 0HM9U749MGGNI:0000003F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:44:33.3461000+07:00 0HM9U749MGGNI:0000003F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:44:33.3461936+07:00 0HM9U749MGGNI:0000003F [INF] Request finished in 1.3351ms 200 application/json (791a596a)
2021-07-03T22:44:33.3530745+07:00 0HM9U749MGGNI:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:33.3535339+07:00 0HM9U749MGGNI:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:33.3535981+07:00 0HM9U749MGGNI:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:33.3536527+07:00 0HM9U749MGGNI:00000041 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:33.3541122+07:00 0HM9U749MGGNI:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:33.3547975+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:33.3554103+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:33.3558215+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:33.3563476+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:33.3569511+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:33.3575915+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:33.3582023+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:33.3587394+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:33.3591962+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:33.3596534+07:00 0HM9U749MGGNI:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:33.3598652+07:00 0HM9U749MGGNI:00000041 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:33.3604603+07:00 0HM9U749MGGNI:00000041 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5944ms. (6f83ade2)
2021-07-03T22:44:33.3605348+07:00 0HM9U749MGGNI:00000041 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 6.8585ms (afa2e885)
2021-07-03T22:44:33.3605680+07:00 0HM9U749MGGNI:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:33.3606843+07:00 0HM9U749MGGNI:00000041 [INF] Request finished in 7.6688ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:33.3760610+07:00 0HM9U749MGGNI:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:44:33.3787145+07:00 0HM9U749MGGNI:00000043 [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:44:33.3788349+07:00 0HM9U749MGGNI:00000043 [INF] Request finished in 2.9238ms 200 image/png (791a596a)
2021-07-03T22:44:33.3793986+07:00 0HM9U749MGGNS:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=1-3Twb278n09_gOtdU0AXA   (ca22a1cb)
2021-07-03T22:44:33.3796921+07:00 0HM9U749MGGNS:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:44:33.3924089+07:00 0HM9U749MGGNS:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:33.3944050+07:00 0HM9U749MGGNS:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:44:33.4023336+07:00 0HM9U749MGGNS:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:44:33.8879682+07:00 0HM9U749MGGNI:00000045 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:33.8885519+07:00 0HM9U749MGGNI:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073284   (ca22a1cb)
2021-07-03T22:44:33.8889183+07:00 0HM9U749MGGNI:00000047 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:33.8889187+07:00 0HM9U749MGGNI:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:33.8889867+07:00 0HM9U749MGGNI:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:33.8889933+07:00 0HM9U749MGGNI:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:33.8890606+07:00 0HM9U749MGGNI:00000047 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:33.8890712+07:00 0HM9U749MGGNI:00000045 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:33.8897654+07:00 0HM9U749MGGNI:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:33.8897665+07:00 0HM9U749MGGNI:00000047 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:33.8906115+07:00 0HM9U749MGGNI:00000047 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:33.8906264+07:00 0HM9U749MGGNI:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:33.8908158+07:00 0HM9U749MGGNI:00000045 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:33.8910908+07:00 0HM9U749MGGNI:00000045 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.9822ms (afa2e885)
2021-07-03T22:44:33.8911282+07:00 0HM9U749MGGNI:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:33.8912259+07:00 0HM9U749MGGNI:00000045 [INF] Request finished in 3.4525ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:33.8913391+07:00 0HM9U749MGGNI:00000047 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:33.8923422+07:00 0HM9U749MGGNI:00000047 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:35.0180984+07:00 0HM9U749MGGNI:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073285   (ca22a1cb)
2021-07-03T22:44:35.0186822+07:00 0HM9U749MGGNI:0000004B [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:35.0190354+07:00 0HM9U749MGGNI:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:35.0191351+07:00 0HM9U749MGGNI:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:35.0191856+07:00 0HM9U749MGGNI:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:35.0192167+07:00 0HM9U749MGGNI:00000049 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:35.0192649+07:00 0HM9U749MGGNI:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:35.0193322+07:00 0HM9U749MGGNI:0000004B [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:35.0198382+07:00 0HM9U749MGGNI:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:35.0199470+07:00 0HM9U749MGGNI:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:35.0203742+07:00 0HM9U749MGGNI:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:35.0206921+07:00 0HM9U749MGGNI:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:35.0210039+07:00 0HM9U749MGGNI:0000004B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:35.0211395+07:00 0HM9U749MGGNI:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:35.0213620+07:00 0HM9U749MGGNI:0000004B [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.9898ms (afa2e885)
2021-07-03T22:44:35.0213993+07:00 0HM9U749MGGNI:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:35.0215007+07:00 0HM9U749MGGNI:0000004B [INF] Request finished in 2.9091ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:35.0227429+07:00 0HM9U749MGGNI:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:35.7764866+07:00 0HM9U749MGGNI:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073286   (ca22a1cb)
2021-07-03T22:44:35.7772099+07:00 0HM9U749MGGNI:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:35.7774980+07:00 0HM9U749MGGNI:0000004F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:35.7778234+07:00 0HM9U749MGGNI:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:35.7779250+07:00 0HM9U749MGGNI:0000004D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:35.7782103+07:00 0HM9U749MGGNI:0000004F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:35.7783054+07:00 0HM9U749MGGNI:0000004F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:35.7783750+07:00 0HM9U749MGGNI:0000004F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:35.7784896+07:00 0HM9U749MGGNI:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:35.7787633+07:00 0HM9U749MGGNI:0000004F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:35.7791006+07:00 0HM9U749MGGNI:0000004D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:35.7796331+07:00 0HM9U749MGGNI:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:35.7797671+07:00 0HM9U749MGGNI:0000004F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:35.7799590+07:00 0HM9U749MGGNI:0000004D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:35.7799830+07:00 0HM9U749MGGNI:0000004F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.5711ms (afa2e885)
2021-07-03T22:44:35.7800263+07:00 0HM9U749MGGNI:0000004F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:35.7801122+07:00 0HM9U749MGGNI:0000004F [INF] Request finished in 2.8628ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:35.7810760+07:00 0HM9U749MGGNI:0000004D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:36.2569690+07:00 0HM9U749MGGNI:00000051 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:36.2571824+07:00 0HM9U749MGGNI:00000053 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073287   (ca22a1cb)
2021-07-03T22:44:36.2577074+07:00 0HM9U749MGGNI:00000051 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.2577076+07:00 0HM9U749MGGNI:00000053 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.2577691+07:00 0HM9U749MGGNI:00000051 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.2577962+07:00 0HM9U749MGGNI:00000053 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.2578287+07:00 0HM9U749MGGNI:00000051 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.2578486+07:00 0HM9U749MGGNI:00000053 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.2582105+07:00 0HM9U749MGGNI:00000051 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.2582429+07:00 0HM9U749MGGNI:00000053 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.2589567+07:00 0HM9U749MGGNI:00000051 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:36.2589800+07:00 0HM9U749MGGNI:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.2590963+07:00 0HM9U749MGGNI:00000051 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:36.2592994+07:00 0HM9U749MGGNI:00000051 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.4362ms (afa2e885)
2021-07-03T22:44:36.2593496+07:00 0HM9U749MGGNI:00000051 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:36.2594592+07:00 0HM9U749MGGNI:00000051 [INF] Request finished in 2.6999ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:36.2596234+07:00 0HM9U749MGGNI:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.2604357+07:00 0HM9U749MGGNI:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:36.4282872+07:00 0HM9U749MGGNI:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073288   (ca22a1cb)
2021-07-03T22:44:36.4289752+07:00 0HM9U749MGGNI:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.4291049+07:00 0HM9U749MGGNI:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.4291844+07:00 0HM9U749MGGNI:00000055 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.4299367+07:00 0HM9U749MGGNI:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.4309257+07:00 0HM9U749MGGNI:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.4319985+07:00 0HM9U749MGGNI:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.4330378+07:00 0HM9U749MGGNI:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:36.4360666+07:00 0HM9U749MGGNI:00000057 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:36.4403717+07:00 0HM9U749MGGNI:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.4405309+07:00 0HM9U749MGGNI:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.4406329+07:00 0HM9U749MGGNI:00000057 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.4410951+07:00 0HM9U749MGGNI:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.4418999+07:00 0HM9U749MGGNI:00000057 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:36.4419907+07:00 0HM9U749MGGNI:00000057 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:36.4421402+07:00 0HM9U749MGGNI:00000057 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.4645ms (afa2e885)
2021-07-03T22:44:36.4421591+07:00 0HM9U749MGGNI:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:36.4422253+07:00 0HM9U749MGGNI:00000057 [INF] Request finished in 6.1941ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:36.7131210+07:00 0HM9U749MGGNI:00000059 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:36.7144270+07:00 0HM9U749MGGNI:00000059 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.7145606+07:00 0HM9U749MGGNI:00000059 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.7472887+07:00 0HM9U749MGGNI:00000059 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.7507624+07:00 0HM9U749MGGNI:00000059 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.7652443+07:00 0HM9U749MGGNI:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073289   (ca22a1cb)
2021-07-03T22:44:36.7652432+07:00 0HM9U749MGGNI:00000059 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:36.7655578+07:00 0HM9U749MGGNI:00000059 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:36.7659407+07:00 0HM9U749MGGNI:0000005B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.7660429+07:00 0HM9U749MGGNI:00000059 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 18.6526ms (afa2e885)
2021-07-03T22:44:36.7661027+07:00 0HM9U749MGGNI:0000005B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.7661541+07:00 0HM9U749MGGNI:00000059 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:36.8065720+07:00 0HM9U749MGGNI:0000005B [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.8066184+07:00 0HM9U749MGGNI:00000059 [INF] Request finished in 93.6311ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:36.8071610+07:00 0HM9U749MGGNI:0000005B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.8106314+07:00 0HM9U749MGGNI:0000005B [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.8114523+07:00 0HM9U749MGGNI:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.8122218+07:00 0HM9U749MGGNI:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:36.8728941+07:00 0HM9U749MGGNI:0000005D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073290   (ca22a1cb)
2021-07-03T22:44:36.8735248+07:00 0HM9U749MGGNI:0000005F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:36.8738310+07:00 0HM9U749MGGNI:0000005D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.8738304+07:00 0HM9U749MGGNI:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:36.8739009+07:00 0HM9U749MGGNI:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.8739093+07:00 0HM9U749MGGNI:0000005D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:36.8739529+07:00 0HM9U749MGGNI:0000005F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.8739611+07:00 0HM9U749MGGNI:0000005D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:36.8743103+07:00 0HM9U749MGGNI:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.8743674+07:00 0HM9U749MGGNI:0000005D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:36.8748962+07:00 0HM9U749MGGNI:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.8749146+07:00 0HM9U749MGGNI:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:36.8750228+07:00 0HM9U749MGGNI:0000005F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:36.8752218+07:00 0HM9U749MGGNI:0000005F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.2367ms (afa2e885)
2021-07-03T22:44:36.8752579+07:00 0HM9U749MGGNI:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:36.8754331+07:00 0HM9U749MGGNI:0000005F [INF] Request finished in 1.9343ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:36.8756676+07:00 0HM9U749MGGNI:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:36.8767467+07:00 0HM9U749MGGNI:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:37.5117083+07:00 0HM9U749MGGNI:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625327073291   (ca22a1cb)
2021-07-03T22:44:37.5122529+07:00 0HM9U749MGGNI:00000063 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:37.5132564+07:00 0HM9U749MGGNI:00000061 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:37.5134333+07:00 0HM9U749MGGNI:00000063 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:37.5134464+07:00 0HM9U749MGGNI:00000061 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:37.5135122+07:00 0HM9U749MGGNI:00000063 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:37.5135454+07:00 0HM9U749MGGNI:00000061 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:37.5135627+07:00 0HM9U749MGGNI:00000063 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:37.5173323+07:00 0HM9U749MGGNI:00000063 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:37.5173417+07:00 0HM9U749MGGNI:00000061 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:37.5181170+07:00 0HM9U749MGGNI:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:37.5181930+07:00 0HM9U749MGGNI:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:37.5182864+07:00 0HM9U749MGGNI:0000005D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5182917+07:00 0HM9U749MGGNI:00000063 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:37.5182849+07:00 0HM9U749MGGNI:00000055 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5183264+07:00 0HM9U749MGGNI:0000003B [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5183368+07:00 0HM9U749MGGNI:00000047 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5183415+07:00 0HM9U749MGGNI:00000049 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5185045+07:00 0HM9U749MGGNI:00000053 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5184955+07:00 0HM9U749MGGNI:00000063 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.9037ms (afa2e885)
2021-07-03T22:44:37.5185045+07:00 0HM9U749MGGNI:0000005B [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5185336+07:00 0HM9U749MGGNI:00000063 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5185308+07:00 0HM9U749MGGNI:0000004D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5182569+07:00 0HM9U749MGGNI:00000037 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5186371+07:00 0HM9U749MGGNI:00000063 [INF] Request finished in 6.3866ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5208844+07:00 0HM9U749MGGNI:00000061 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:37.5263353+07:00 0HM9U749MGGNI:00000061 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:37.5274821+07:00 0HM9U749MGGNI:0000003B [INF] Executed PartialViewResult - view "_ChatForm" executed in 5909.6833ms. (6f83ade2)
2021-07-03T22:44:37.5275303+07:00 0HM9U749MGGNI:0000003B [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 5914.043ms (afa2e885)
2021-07-03T22:44:37.5275654+07:00 0HM9U749MGGNI:0000003B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5275875+07:00 0HM9U749MGGNI:00000037 [INF] Executed PartialViewResult - view "_ChatForm" executed in 7236.2942ms. (6f83ade2)
2021-07-03T22:44:37.5276225+07:00 0HM9U749MGGNI:00000037 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 7246.1422ms (afa2e885)
2021-07-03T22:44:37.5276286+07:00 0HM9U749MGGNI:0000003B [INF] Request finished in 5915.3567ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5276610+07:00 0HM9U749MGGNI:00000037 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5276896+07:00 0HM9U749MGGNI:00000053 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1267.1615ms. (6f83ade2)
2021-07-03T22:44:37.5277321+07:00 0HM9U749MGGNI:00000037 [INF] Request finished in 7247.0358ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5277372+07:00 0HM9U749MGGNI:00000053 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 1269.863ms (afa2e885)
2021-07-03T22:44:37.5277723+07:00 0HM9U749MGGNI:00000053 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5278131+07:00 0HM9U749MGGNI:0000004D [INF] Executed PartialViewResult - view "_ChatForm" executed in 1746.633ms. (6f83ade2)
2021-07-03T22:44:37.5278479+07:00 0HM9U749MGGNI:0000004D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 1749.9029ms (afa2e885)
2021-07-03T22:44:37.5278478+07:00 0HM9U749MGGNI:00000053 [INF] Request finished in 1270.6899ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5278696+07:00 0HM9U749MGGNI:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5283913+07:00 0HM9U749MGGNI:0000004D [INF] Request finished in 1751.9748ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5283880+07:00 0HM9U749MGGNI:00000047 [INF] Executed PartialViewResult - view "_ChatForm" executed in 3635.7584ms. (6f83ade2)
2021-07-03T22:44:37.5284054+07:00 0HM9U749MGGNI:00000049 [INF] Executed PartialViewResult - view "_ChatForm" executed in 2505.4479ms. (6f83ade2)
2021-07-03T22:44:37.5284292+07:00 0HM9U749MGGNI:00000047 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 3639.3449ms (afa2e885)
2021-07-03T22:44:37.5284607+07:00 0HM9U749MGGNI:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5284566+07:00 0HM9U749MGGNI:00000049 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 2509.1942ms (afa2e885)
2021-07-03T22:44:37.5285405+07:00 0HM9U749MGGNI:00000047 [INF] Request finished in 3640.1277ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5285627+07:00 0HM9U749MGGNI:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5286160+07:00 0HM9U749MGGNI:0000005D [INF] Executed PartialViewResult - view "_ChatForm" executed in 651.7633ms. (6f83ade2)
2021-07-03T22:44:37.5286573+07:00 0HM9U749MGGNI:0000005D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 654.6705ms (afa2e885)
2021-07-03T22:44:37.5286745+07:00 0HM9U749MGGNI:00000049 [INF] Request finished in 2510.6976ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5286784+07:00 0HM9U749MGGNI:0000005D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5286977+07:00 0HM9U749MGGNI:0000005B [INF] Executed PartialViewResult - view "_ChatForm" executed in 716.4095ms. (6f83ade2)
2021-07-03T22:44:37.5287265+07:00 0HM9U749MGGNI:0000005B [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 722.0902ms (afa2e885)
2021-07-03T22:44:37.5287539+07:00 0HM9U749MGGNI:0000005B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5287534+07:00 0HM9U749MGGNI:0000005D [INF] Request finished in 655.9111ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5287851+07:00 0HM9U749MGGNI:00000055 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1095.6368ms. (6f83ade2)
2021-07-03T22:44:37.5288299+07:00 0HM9U749MGGNI:00000055 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 1099.6131ms (afa2e885)
2021-07-03T22:44:37.5288448+07:00 0HM9U749MGGNI:0000005B [INF] Request finished in 763.6272ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5288491+07:00 0HM9U749MGGNI:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5289208+07:00 0HM9U749MGGNI:00000055 [INF] Request finished in 1100.7435ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:37.5297635+07:00 0HM9U749MGGNI:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:37.5359369+07:00 0HM9U749MGGNI:00000061 [INF] Executed DbCommand ("3"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:37.5374706+07:00 0HM9U749MGGNI:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:37.5376077+07:00 0HM9U749MGGNI:00000061 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:37.5384039+07:00 0HM9U749MGGNI:00000061 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.8026ms. (6f83ade2)
2021-07-03T22:44:37.5384709+07:00 0HM9U749MGGNI:00000061 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 24.8804ms (afa2e885)
2021-07-03T22:44:37.5385034+07:00 0HM9U749MGGNI:00000061 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:37.5386354+07:00 0HM9U749MGGNI:00000061 [INF] Request finished in 27.0299ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:38.1221248+07:00 0HM9U749MGGNI:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327073292   (ca22a1cb)
2021-07-03T22:44:38.1230499+07:00 0HM9U749MGGNI:00000065 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:38.1232683+07:00 0HM9U749MGGNI:00000067 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:38.1233087+07:00 0HM9U749MGGNI:00000065 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:38.1240582+07:00 0HM9U749MGGNI:00000065 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:38.1242130+07:00 0HM9U749MGGNI:00000067 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:38.1243175+07:00 0HM9U749MGGNI:00000067 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:38.1244035+07:00 0HM9U749MGGNI:00000067 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:38.1250070+07:00 0HM9U749MGGNI:00000065 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:38.1256596+07:00 0HM9U749MGGNI:00000067 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:38.1258655+07:00 0HM9U749MGGNI:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:38.1266628+07:00 0HM9U749MGGNI:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:38.1266679+07:00 0HM9U749MGGNI:00000067 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:38.1268539+07:00 0HM9U749MGGNI:00000067 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:38.1271192+07:00 0HM9U749MGGNI:00000067 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 2.6775ms (afa2e885)
2021-07-03T22:44:38.1271556+07:00 0HM9U749MGGNI:00000067 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:38.1272849+07:00 0HM9U749MGGNI:00000067 [INF] Request finished in 4.1245ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:38.1276495+07:00 0HM9U749MGGNI:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:38.1277961+07:00 0HM9U749MGGNI:00000065 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:38.1281420+07:00 0HM9U749MGGNI:00000065 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.3604ms. (6f83ade2)
2021-07-03T22:44:38.1282110+07:00 0HM9U749MGGNI:00000065 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 4.115ms (afa2e885)
2021-07-03T22:44:38.1282356+07:00 0HM9U749MGGNI:00000065 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:38.1283540+07:00 0HM9U749MGGNI:00000065 [INF] Request finished in 6.3869ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:40.1177422+07:00 0HM9U749MGGNI:00000069 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:44:40.1181708+07:00 0HM9U749MGGNI:00000069 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:40.1182700+07:00 0HM9U749MGGNI:00000069 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:40.1183390+07:00 0HM9U749MGGNI:00000069 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:40.1192447+07:00 0HM9U749MGGNI:00000069 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:40.1199323+07:00 0HM9U749MGGNI:00000069 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:40.1215419+07:00 0HM9U749MGGNI:00000069 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:40.1273733+07:00 0HM9U749MGGNI:00000069 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:40.1280268+07:00 0HM9U749MGGNI:00000069 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:40.1305168+07:00 0HM9U749MGGNI:00000069 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:44:40.1312111+07:00 0HM9U749MGGNI:00000069 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 12.8223ms (afa2e885)
2021-07-03T22:44:40.1312803+07:00 0HM9U749MGGNI:00000069 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:40.1314577+07:00 0HM9U749MGGNI:00000069 [INF] Request finished in 13.9713ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:41.1988986+07:00 0HM9U749MGGNI:0000006B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:44:41.1991713+07:00 0HM9U749MGGNI:0000006B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:41.1992363+07:00 0HM9U749MGGNI:0000006B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:41.1992864+07:00 0HM9U749MGGNI:0000006B [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:41.1999418+07:00 0HM9U749MGGNI:0000006B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:41.2012603+07:00 0HM9U749MGGNI:0000006B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:44:41.2027739+07:00 0HM9U749MGGNI:0000006B [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:44:41.2037380+07:00 0HM9U749MGGNI:0000006B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:41.2064628+07:00 0HM9U749MGGNI:0000006B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:41.2065824+07:00 0HM9U749MGGNI:0000006B [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:44:41.2070131+07:00 0HM9U749MGGNI:0000006B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 7.6903ms (afa2e885)
2021-07-03T22:44:41.2070336+07:00 0HM9U749MGGNI:0000006B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:41.2071116+07:00 0HM9U749MGGNI:0000006B [INF] Request finished in 8.2253ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:42.2758355+07:00 0HM9U749MGGNI:0000006D [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryaxhurDlpZfnsm6oo 889 (ca22a1cb)
2021-07-03T22:44:42.2762415+07:00 0HM9U749MGGNI:0000006D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:42.2763455+07:00 0HM9U749MGGNI:0000006D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:42.2764066+07:00 0HM9U749MGGNI:0000006D [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:42.2802945+07:00 0HM9U749MGGNI:0000006D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:42.2831094+07:00 0HM9U749MGGNI:0000006D [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:44:42.2861602+07:00 0HM9U749MGGNI:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:44:42.2873665+07:00 0HM9U749MGGNI:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:44:42.2951023+07:00 0HM9U749MGGNI:0000006D [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:44:42.2969496+07:00 0HM9U749MGGNI:0000006D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:44:42.2974371+07:00 0HM9U749MGGNI:0000006D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 20.9826ms (afa2e885)
2021-07-03T22:44:42.2974664+07:00 0HM9U749MGGNI:0000006D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:42.2976765+07:00 0HM9U749MGGNI:0000006D [INF] Request finished in 22.0154ms 302  (791a596a)
2021-07-03T22:44:42.3078842+07:00 0HM9U749MGGNI:0000006F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:44:42.3081734+07:00 0HM9U749MGGNI:0000006F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:42.3082582+07:00 0HM9U749MGGNI:0000006F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:42.3083292+07:00 0HM9U749MGGNI:0000006F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:42.3086595+07:00 0HM9U749MGGNI:0000006F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:42.3108262+07:00 0HM9U749MGGNI:0000006F [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:44:42.3128390+07:00 0HM9U749MGGNI:0000006F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:44:42.3148203+07:00 0HM9U749MGGNI:0000006F [INF] Executed ViewResult - view "Index" executed in 2.01ms. (f66409e9)
2021-07-03T22:44:42.3148976+07:00 0HM9U749MGGNI:0000006F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.5315ms (afa2e885)
2021-07-03T22:44:42.3149333+07:00 0HM9U749MGGNI:0000006F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:42.3150976+07:00 0HM9U749MGGNI:0000006F [INF] Request finished in 7.2217ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:42.3225573+07:00 0HM9U749MGGNS:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:44:42.3227003+07:00 0HM9U749MGGNS:00000001 [INF] Request finished in 8943.3037ms 101  (791a596a)
2021-07-03T22:44:42.4473538+07:00 0HM9U749MGGNI:00000071 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:44:42.4477431+07:00 0HM9U749MGGNI:00000071 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:44:42.4481447+07:00 0HM9U749MGGNI:00000071 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:44:42.4482438+07:00 0HM9U749MGGNI:00000071 [INF] Request finished in 0.9024ms 200 application/json (791a596a)
2021-07-03T22:44:42.4566691+07:00 0HM9U749MGGNI:00000073 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:42.4569857+07:00 0HM9U749MGGNI:00000073 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:42.4570567+07:00 0HM9U749MGGNI:00000073 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:42.4571052+07:00 0HM9U749MGGNI:00000073 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:42.4574602+07:00 0HM9U749MGGNI:00000073 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:42.4581089+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:42.4587397+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:42.4591117+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:42.4595197+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:42.4599006+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:42.4602989+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:42.4609523+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:42.4617699+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:42.4623331+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:42.4628560+07:00 0HM9U749MGGNI:00000073 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:42.4630133+07:00 0HM9U749MGGNI:00000073 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:42.4634985+07:00 0HM9U749MGGNI:00000073 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4909ms. (6f83ade2)
2021-07-03T22:44:42.4635421+07:00 0HM9U749MGGNI:00000073 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 6.4173ms (afa2e885)
2021-07-03T22:44:42.4635844+07:00 0HM9U749MGGNI:00000073 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:42.4636758+07:00 0HM9U749MGGNI:00000073 [INF] Request finished in 7.1488ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:42.4791512+07:00 0HM9U749MGGNT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=5JttQMo6_UMMy26_YrPP2g   (ca22a1cb)
2021-07-03T22:44:42.4796550+07:00 0HM9U749MGGNT:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:44:42.4878694+07:00 0HM9U749MGGNT:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:42.4885355+07:00 0HM9U749MGGNT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:44:42.4903799+07:00 0HM9U749MGGNT:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:44:43.9396997+07:00 0HM9U749MGGNI:00000075 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:43.9397077+07:00 0HM9U749MGGNI:00000077 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327082350   (ca22a1cb)
2021-07-03T22:44:43.9402350+07:00 0HM9U749MGGNI:00000075 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:43.9402350+07:00 0HM9U749MGGNI:00000077 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:43.9403115+07:00 0HM9U749MGGNI:00000075 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:43.9403115+07:00 0HM9U749MGGNI:00000077 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:43.9403745+07:00 0HM9U749MGGNI:00000077 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:43.9403745+07:00 0HM9U749MGGNI:00000075 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:43.9409955+07:00 0HM9U749MGGNI:00000075 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:43.9409916+07:00 0HM9U749MGGNI:00000077 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:43.9417153+07:00 0HM9U749MGGNI:00000077 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:43.9418060+07:00 0HM9U749MGGNI:00000075 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:43.9419498+07:00 0HM9U749MGGNI:00000075 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:43.9421860+07:00 0HM9U749MGGNI:00000075 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.7785ms (afa2e885)
2021-07-03T22:44:43.9422128+07:00 0HM9U749MGGNI:00000075 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:43.9422878+07:00 0HM9U749MGGNI:00000075 [INF] Request finished in 2.9821ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:43.9424028+07:00 0HM9U749MGGNI:00000077 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:43.9439695+07:00 0HM9U749MGGNI:00000077 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:43.9441701+07:00 0HM9U749MGGNI:00000077 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:43.9448071+07:00 0HM9U749MGGNI:00000077 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.6473ms. (6f83ade2)
2021-07-03T22:44:43.9449647+07:00 0HM9U749MGGNI:00000077 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 4.5132ms (afa2e885)
2021-07-03T22:44:43.9450336+07:00 0HM9U749MGGNI:00000077 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:43.9453251+07:00 0HM9U749MGGNI:00000077 [INF] Request finished in 5.7537ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:44.8496978+07:00 0HM9U749MGGNI:00000079 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:44:44.8500301+07:00 0HM9U749MGGNI:00000079 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:44.8500947+07:00 0HM9U749MGGNI:00000079 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:44.8501434+07:00 0HM9U749MGGNI:00000079 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:44.8506668+07:00 0HM9U749MGGNI:00000079 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:44.8520227+07:00 0HM9U749MGGNI:00000079 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:44.8536402+07:00 0HM9U749MGGNI:00000079 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:44.8588886+07:00 0HM9U749MGGNI:00000079 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:44.8603500+07:00 0HM9U749MGGNI:00000079 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:44.8626216+07:00 0HM9U749MGGNI:00000079 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:44:44.8632780+07:00 0HM9U749MGGNI:00000079 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 13.1066ms (afa2e885)
2021-07-03T22:44:44.8633091+07:00 0HM9U749MGGNI:00000079 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:44.8634166+07:00 0HM9U749MGGNI:00000079 [INF] Request finished in 14.0553ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:48.3060161+07:00 0HM9U749MGGNL:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:44:48.3069739+07:00 0HM9U749MGGNL:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:48.3071002+07:00 0HM9U749MGGNL:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:48.3071932+07:00 0HM9U749MGGNL:00000031 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:48.3076505+07:00 0HM9U749MGGNL:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:48.3105341+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:48.3131906+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:48.3140523+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:48.3154276+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:44:48.3167274+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:44:48.3182003+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:44:48.3196726+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:48.3202695+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:48.3207736+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:48.3213057+07:00 0HM9U749MGGNL:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:44:48.3214390+07:00 0HM9U749MGGNL:00000031 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:44:48.3217615+07:00 0HM9U749MGGNL:00000031 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3317ms. (6f83ade2)
2021-07-03T22:44:48.3217965+07:00 0HM9U749MGGNL:00000031 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 14.5667ms (afa2e885)
2021-07-03T22:44:48.3218319+07:00 0HM9U749MGGNL:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:48.3219296+07:00 0HM9U749MGGNL:00000031 [INF] Request finished in 15.9298ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:49.1224244+07:00 0HM9U749MGGNL:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327065540   (ca22a1cb)
2021-07-03T22:44:49.1237304+07:00 0HM9U749MGGNL:00000033 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:49.1239278+07:00 0HM9U749MGGNL:00000033 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:49.1243506+07:00 0HM9U749MGGNL:00000033 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:49.1253558+07:00 0HM9U749MGGNL:00000033 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:49.1273334+07:00 0HM9U749MGGNL:00000035 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:44:49.1278727+07:00 0HM9U749MGGNL:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:49.1280202+07:00 0HM9U749MGGNL:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:49.1281263+07:00 0HM9U749MGGNL:00000035 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:49.1282381+07:00 0HM9U749MGGNL:00000033 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:49.1288666+07:00 0HM9U749MGGNL:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:49.1301535+07:00 0HM9U749MGGNL:00000033 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:49.1320495+07:00 0HM9U749MGGNL:00000035 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:44:49.1322038+07:00 0HM9U749MGGNL:00000035 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:49.1323838+07:00 0HM9U749MGGNL:00000035 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.2056ms (afa2e885)
2021-07-03T22:44:49.1324058+07:00 0HM9U749MGGNL:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:49.1325026+07:00 0HM9U749MGGNL:00000035 [INF] Request finished in 5.7613ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:49.1339074+07:00 0HM9U749MGGNL:00000033 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:49.1340693+07:00 0HM9U749MGGNL:00000033 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:44:49.1345358+07:00 0HM9U749MGGNL:00000033 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.4762ms. (6f83ade2)
2021-07-03T22:44:49.1345792+07:00 0HM9U749MGGNL:00000033 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 10.1842ms (afa2e885)
2021-07-03T22:44:49.1346123+07:00 0HM9U749MGGNL:00000033 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:49.1347267+07:00 0HM9U749MGGNL:00000033 [INF] Request finished in 12.4688ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:44:50.3959262+07:00 0HM9U749MGGNL:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:44:50.3967496+07:00 0HM9U749MGGNL:00000037 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:50.3968625+07:00 0HM9U749MGGNL:00000037 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:50.3969561+07:00 0HM9U749MGGNL:00000037 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:50.3976541+07:00 0HM9U749MGGNL:00000037 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:50.3986217+07:00 0HM9U749MGGNL:00000037 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:50.4022506+07:00 0HM9U749MGGNL:00000037 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:50.4087063+07:00 0HM9U749MGGNL:00000037 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:44:50.4095960+07:00 0HM9U749MGGNL:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:44:50.4108694+07:00 0HM9U749MGGNL:00000037 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:44:50.4113676+07:00 0HM9U749MGGNL:00000037 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 14.363ms (afa2e885)
2021-07-03T22:44:50.4113972+07:00 0HM9U749MGGNL:00000037 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:50.4115394+07:00 0HM9U749MGGNL:00000037 [INF] Request finished in 15.8167ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:44:54.9755443+07:00 0HM9U749MGGNI:0000007B [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:44:54.9769696+07:00 0HM9U749MGGNI:0000007B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:44:54.9771460+07:00 0HM9U749MGGNI:0000007B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:44:54.9772577+07:00 0HM9U749MGGNI:0000007B [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:44:54.9783451+07:00 0HM9U749MGGNI:0000007B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:44:54.9808515+07:00 0HM9U749MGGNI:0000007B [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:44:54.9834567+07:00 0HM9U749MGGNI:0000007B [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:44:54.9868810+07:00 0HM9U749MGGNI:0000007B [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:44:54.9938750+07:00 0HM9U749MGGNI:0000007B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:44:54.9942154+07:00 0HM9U749MGGNI:0000007B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:44:54.9944453+07:00 0HM9U749MGGNI:0000007B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 17.1321ms (afa2e885)
2021-07-03T22:44:54.9944719+07:00 0HM9U749MGGNI:0000007B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:44:54.9945639+07:00 0HM9U749MGGNI:0000007B [INF] Request finished in 19.0733ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:45:24.3839749+07:00 0HM9U749MGGNI:0000007D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:45:24.3847525+07:00 0HM9U749MGGNI:0000007D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:24.3848611+07:00 0HM9U749MGGNI:0000007D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:24.3849342+07:00 0HM9U749MGGNI:0000007D [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:24.3854466+07:00 0HM9U749MGGNI:0000007D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:24.3875694+07:00 0HM9U749MGGNI:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:45:24.3896666+07:00 0HM9U749MGGNI:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:45:24.3912340+07:00 0HM9U749MGGNI:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:24.3960047+07:00 0HM9U749MGGNI:0000007D [INF] Executed DbCommand ("3"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:45:24.3961510+07:00 0HM9U749MGGNI:0000007D [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:45:24.3964983+07:00 0HM9U749MGGNI:0000007D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 11.5207ms (afa2e885)
2021-07-03T22:45:24.3965236+07:00 0HM9U749MGGNI:0000007D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:24.3966137+07:00 0HM9U749MGGNI:0000007D [INF] Request finished in 12.6895ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:45:25.2558472+07:00 0HM9U749MGGNI:0000007F [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryBn7icIlzdRsl8Aq1 889 (ca22a1cb)
2021-07-03T22:45:25.2562379+07:00 0HM9U749MGGNI:0000007F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:25.2562951+07:00 0HM9U749MGGNI:0000007F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:25.2563456+07:00 0HM9U749MGGNI:0000007F [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:25.2590597+07:00 0HM9U749MGGNI:0000007F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:25.2608515+07:00 0HM9U749MGGNI:0000007F [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:45:25.2633726+07:00 0HM9U749MGGNI:0000007F [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:45:25.2645857+07:00 0HM9U749MGGNI:0000007F [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:45:25.2723542+07:00 0HM9U749MGGNI:0000007F [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:45:25.2733169+07:00 0HM9U749MGGNI:0000007F [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:45:25.2738673+07:00 0HM9U749MGGNI:0000007F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 17.4821ms (afa2e885)
2021-07-03T22:45:25.2739416+07:00 0HM9U749MGGNI:0000007F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:25.2741288+07:00 0HM9U749MGGNI:0000007F [INF] Request finished in 18.3473ms 302  (791a596a)
2021-07-03T22:45:25.2843356+07:00 0HM9U749MGGNI:00000081 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:45:25.2847597+07:00 0HM9U749MGGNI:00000081 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:25.2848197+07:00 0HM9U749MGGNI:00000081 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:25.2848665+07:00 0HM9U749MGGNI:00000081 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:25.2850956+07:00 0HM9U749MGGNI:00000081 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:25.2878749+07:00 0HM9U749MGGNI:00000081 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:45:25.2889043+07:00 0HM9U749MGGNI:00000081 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:45:25.2907330+07:00 0HM9U749MGGNI:00000081 [INF] Executed ViewResult - view "Index" executed in 1.8631ms. (f66409e9)
2021-07-03T22:45:25.2908307+07:00 0HM9U749MGGNI:00000081 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 5.9252ms (afa2e885)
2021-07-03T22:45:25.2908850+07:00 0HM9U749MGGNI:00000081 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:25.2910760+07:00 0HM9U749MGGNI:00000081 [INF] Request finished in 6.8186ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:45:25.3065298+07:00 0HM9U749MGGNT:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:45:25.3067379+07:00 0HM9U749MGGNT:00000001 [INF] Request finished in 42827.5889ms 101  (791a596a)
2021-07-03T22:45:25.4052852+07:00 0HM9U749MGGNI:00000083 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:45:25.4056246+07:00 0HM9U749MGGNI:00000083 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:45:25.4059497+07:00 0HM9U749MGGNI:00000083 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:45:25.4060290+07:00 0HM9U749MGGNI:00000083 [INF] Request finished in 0.8637ms 200 application/json (791a596a)
2021-07-03T22:45:25.4169058+07:00 0HM9U749MGGNI:00000085 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:45:25.4173197+07:00 0HM9U749MGGNI:00000085 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:25.4174060+07:00 0HM9U749MGGNI:00000085 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:25.4174762+07:00 0HM9U749MGGNI:00000085 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:25.4179363+07:00 0HM9U749MGGNI:00000085 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:25.4206312+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:45:25.4240447+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:45:25.4262105+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:25.4281864+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:45:25.4296065+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:45:25.4312104+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:45:25.4330986+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:45:25.4338234+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:45:25.4344660+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:25.4351948+07:00 0HM9U749MGGNI:00000085 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:45:25.4354107+07:00 0HM9U749MGGNI:00000085 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:45:25.4360194+07:00 0HM9U749MGGNI:00000085 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.6071ms. (6f83ade2)
2021-07-03T22:45:25.4360682+07:00 0HM9U749MGGNI:00000085 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 18.5653ms (afa2e885)
2021-07-03T22:45:25.4360937+07:00 0HM9U749MGGNI:00000085 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:25.4362242+07:00 0HM9U749MGGNI:00000085 [INF] Request finished in 19.4384ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:45:25.4617041+07:00 0HM9U749MGGNU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=K9mmlCv7iILer-Yd5Q5BAg   (ca22a1cb)
2021-07-03T22:45:25.4621469+07:00 0HM9U749MGGNU:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:45:25.4702577+07:00 0HM9U749MGGNU:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:25.4714983+07:00 0HM9U749MGGNU:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:45:25.4755295+07:00 0HM9U749MGGNU:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:45:27.4778435+07:00 0HM9U749MGGNI:00000087 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327125333   (ca22a1cb)
2021-07-03T22:45:27.4781570+07:00 0HM9U749MGGNI:00000087 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:27.4782350+07:00 0HM9U749MGGNI:00000087 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:27.4782909+07:00 0HM9U749MGGNI:00000087 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:27.4788210+07:00 0HM9U749MGGNI:00000087 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:27.4802824+07:00 0HM9U749MGGNI:00000087 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:27.4811350+07:00 0HM9U749MGGNI:00000087 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:27.4837046+07:00 0HM9U749MGGNI:00000089 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:45:27.4844314+07:00 0HM9U749MGGNI:00000089 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:27.4845009+07:00 0HM9U749MGGNI:00000089 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:27.4845641+07:00 0HM9U749MGGNI:00000089 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:27.4851809+07:00 0HM9U749MGGNI:00000089 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:27.4865124+07:00 0HM9U749MGGNI:00000087 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:45:27.4866838+07:00 0HM9U749MGGNI:00000087 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:45:27.4870952+07:00 0HM9U749MGGNI:00000087 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.4303ms. (6f83ade2)
2021-07-03T22:45:27.4871334+07:00 0HM9U749MGGNI:00000087 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 8.8218ms (afa2e885)
2021-07-03T22:45:27.4872423+07:00 0HM9U749MGGNI:00000087 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:27.4873854+07:00 0HM9U749MGGNI:00000087 [INF] Request finished in 9.7446ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:45:27.4881087+07:00 0HM9U749MGGNI:00000089 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:45:27.4882697+07:00 0HM9U749MGGNI:00000089 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:45:27.4884401+07:00 0HM9U749MGGNI:00000089 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 3.8463ms (afa2e885)
2021-07-03T22:45:27.4884650+07:00 0HM9U749MGGNI:00000089 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:27.4885593+07:00 0HM9U749MGGNI:00000089 [INF] Request finished in 5.1629ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:45:29.3691494+07:00 0HM9U749MGGNI:0000008B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:45:29.3699990+07:00 0HM9U749MGGNI:0000008B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:45:29.3701751+07:00 0HM9U749MGGNI:0000008B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:45:29.3702726+07:00 0HM9U749MGGNI:0000008B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:45:29.3709525+07:00 0HM9U749MGGNI:0000008B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:45:29.3722149+07:00 0HM9U749MGGNI:0000008B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:29.3755947+07:00 0HM9U749MGGNI:0000008B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:45:29.3835087+07:00 0HM9U749MGGNI:0000008B [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:45:29.3843856+07:00 0HM9U749MGGNI:0000008B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:45:29.3854933+07:00 0HM9U749MGGNI:0000008B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:45:29.3859317+07:00 0HM9U749MGGNI:0000008B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 15.6207ms (afa2e885)
2021-07-03T22:45:29.3859810+07:00 0HM9U749MGGNI:0000008B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:45:29.3860783+07:00 0HM9U749MGGNI:0000008B [INF] Request finished in 17.0832ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:49:57.7141293+07:00 0HM9U749MGGNL:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:49:57.7150502+07:00 0HM9U749MGGNL:00000039 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:57.7151799+07:00 0HM9U749MGGNL:00000039 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:57.7152672+07:00 0HM9U749MGGNL:00000039 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:57.7156214+07:00 0HM9U749MGGNL:00000039 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:57.7197512+07:00 0HM9U749MGGNL:00000039 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:49:57.7202612+07:00 0HM9U749MGGNL:00000039 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:49:57.7243485+07:00 0HM9U749MGGNL:00000039 [INF] Executed ViewResult - view "Index" executed in 4.0782ms. (f66409e9)
2021-07-03T22:49:57.7244861+07:00 0HM9U749MGGNL:00000039 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 9.1897ms (afa2e885)
2021-07-03T22:49:57.7245442+07:00 0HM9U749MGGNL:00000039 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:57.7248405+07:00 0HM9U749MGGNL:00000039 [INF] Request finished in 10.738ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:57.7306402+07:00 0HM9U749MGGNP:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:49:57.7307555+07:00 0HM9U749MGGNP:00000001 [INF] Request finished in 332057.0167ms 101  (791a596a)
2021-07-03T22:49:57.8348593+07:00 0HM9U749MGGNL:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:49:57.8448830+07:00 0HM9U749MGGNL:0000003B [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:49:57.8450280+07:00 0HM9U749MGGNL:0000003B [INF] Request finished in 10.3523ms 200 text/plain (791a596a)
2021-07-03T22:49:57.8594214+07:00 0HM9U749MGGNL:0000003D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:49:57.8599764+07:00 0HM9U749MGGNL:0000003D [INF] Request finished in 0.6477ms 404  (791a596a)
2021-07-03T22:49:57.8697319+07:00 0HM9U749MGGNL:0000003F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:49:57.8701395+07:00 0HM9U749MGGNL:0000003F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:49:57.8704912+07:00 0HM9U749MGGNL:0000003F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:49:57.8705948+07:00 0HM9U749MGGNL:0000003F [INF] Request finished in 0.9932ms 200 application/json (791a596a)
2021-07-03T22:49:57.8899362+07:00 0HM9U749MGGNL:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:49:57.8906386+07:00 0HM9U749MGGNL:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:57.8907826+07:00 0HM9U749MGGNL:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:57.8909117+07:00 0HM9U749MGGNL:00000041 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:57.8916785+07:00 0HM9U749MGGNL:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:57.8942801+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:49:57.8972750+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:57.8984042+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:57.8999049+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:49:57.9011808+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:49:57.9029158+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:49:57.9046556+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:57.9057805+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:57.9074793+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:57.9085484+07:00 0HM9U749MGGNL:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:57.9088114+07:00 0HM9U749MGGNL:00000041 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:49:57.9093454+07:00 0HM9U749MGGNL:00000041 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5157ms. (6f83ade2)
2021-07-03T22:49:57.9094510+07:00 0HM9U749MGGNL:00000041 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 18.4669ms (afa2e885)
2021-07-03T22:49:57.9095069+07:00 0HM9U749MGGNL:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:57.9097144+07:00 0HM9U749MGGNL:00000041 [INF] Request finished in 20.0908ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:57.9153483+07:00 0HM9U749MGGNV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=JOBvDJ_8r8tQGm9lJiu77w   (ca22a1cb)
2021-07-03T22:49:57.9158974+07:00 0HM9U749MGGNV:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:49:57.9292896+07:00 0HM9U749MGGNV:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:57.9308866+07:00 0HM9U749MGGNV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:49:57.9336347+07:00 0HM9U749MGGNV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:49:58.0526507+07:00 0HM9U749MGGNL:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:49:58.0531252+07:00 0HM9U749MGGNL:00000043 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:58.0532025+07:00 0HM9U749MGGNL:00000043 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:58.0532584+07:00 0HM9U749MGGNL:00000043 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:58.0535170+07:00 0HM9U749MGGNL:00000043 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.0557339+07:00 0HM9U749MGGNL:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:49:58.0574646+07:00 0HM9U749MGGNL:00000043 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:49:58.0598165+07:00 0HM9U749MGGNL:00000043 [INF] Executed ViewResult - view "Index" executed in 2.4665ms. (f66409e9)
2021-07-03T22:49:58.0598992+07:00 0HM9U749MGGNL:00000043 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.6179ms (afa2e885)
2021-07-03T22:49:58.0599570+07:00 0HM9U749MGGNL:00000043 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:58.0601429+07:00 0HM9U749MGGNL:00000043 [INF] Request finished in 7.6166ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:58.0659586+07:00 0HM9U749MGGNV:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:49:58.0660808+07:00 0HM9U749MGGNV:00000001 [INF] Request finished in 150.7557ms 101  (791a596a)
2021-07-03T22:49:58.1573650+07:00 0HM9U749MGGNL:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:49:58.1579725+07:00 0HM9U749MGGNL:00000045 [INF] Request finished in 0.8519ms 404  (791a596a)
2021-07-03T22:49:58.1945688+07:00 0HM9U749MGGNL:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:49:58.2013855+07:00 0HM9U749MGGNL:00000047 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:49:58.2015894+07:00 0HM9U749MGGNL:00000047 [INF] Request finished in 7.1581ms 200 text/plain (791a596a)
2021-07-03T22:49:58.2114153+07:00 0HM9U749MGGNL:00000049 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:49:58.2370474+07:00 0HM9U749MGGNL:00000049 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:49:58.2374705+07:00 0HM9U749MGGNL:00000049 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:49:58.2375760+07:00 0HM9U749MGGNL:00000049 [INF] Request finished in 26.2149ms 200 application/json (791a596a)
2021-07-03T22:49:58.2425215+07:00 0HM9U749MGGNL:0000004B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:49:58.2430197+07:00 0HM9U749MGGNL:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:58.2431027+07:00 0HM9U749MGGNL:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:58.2431683+07:00 0HM9U749MGGNL:0000004B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:58.2435796+07:00 0HM9U749MGGNL:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.2445123+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:49:58.2451937+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:58.2457260+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:58.2461833+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:49:58.2466231+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:49:58.2470325+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:49:58.2475915+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:58.2481151+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:58.2485337+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:58.2490055+07:00 0HM9U749MGGNL:0000004B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:58.2492004+07:00 0HM9U749MGGNL:0000004B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:49:58.2494340+07:00 0HM9U749MGGNL:0000004B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.243ms. (6f83ade2)
2021-07-03T22:49:58.2494665+07:00 0HM9U749MGGNL:0000004B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 6.268ms (afa2e885)
2021-07-03T22:49:58.2494924+07:00 0HM9U749MGGNL:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:58.2495965+07:00 0HM9U749MGGNL:0000004B [INF] Request finished in 7.1324ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:58.2751114+07:00 0HM9U749MGGO0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=1MA1wYix2VI1AH3LBvjNDw   (ca22a1cb)
2021-07-03T22:49:58.2754793+07:00 0HM9U749MGGO0:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:49:58.2835087+07:00 0HM9U749MGGO0:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.2841632+07:00 0HM9U749MGGO0:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:49:58.2855515+07:00 0HM9U749MGGO0:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:49:58.3491147+07:00 0HM9U749MGGNL:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:49:58.3493464+07:00 0HM9U749MGGNL:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:58.3494013+07:00 0HM9U749MGGNL:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:58.3494450+07:00 0HM9U749MGGNL:0000004D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:58.3496365+07:00 0HM9U749MGGNL:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.3511507+07:00 0HM9U749MGGNL:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:49:58.3521252+07:00 0HM9U749MGGNL:0000004D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:49:58.3528122+07:00 0HM9U749MGGNL:0000004D [INF] Executed ViewResult - view "Index" executed in 0.7309ms. (f66409e9)
2021-07-03T22:49:58.3528652+07:00 0HM9U749MGGNL:0000004D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 3.4026ms (afa2e885)
2021-07-03T22:49:58.3528928+07:00 0HM9U749MGGNL:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:58.3530192+07:00 0HM9U749MGGNL:0000004D [INF] Request finished in 3.9515ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:58.3609633+07:00 0HM9U749MGGO0:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:49:58.3611601+07:00 0HM9U749MGGO0:00000001 [INF] Request finished in 86.065ms 101  (791a596a)
2021-07-03T22:49:58.4206440+07:00 0HM9U749MGGNL:0000004F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:49:58.4272522+07:00 0HM9U749MGGNL:0000004F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:49:58.4273687+07:00 0HM9U749MGGNL:0000004F [INF] Request finished in 6.8076ms 200 text/plain (791a596a)
2021-07-03T22:49:58.4444068+07:00 0HM9U749MGGNL:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:49:58.4449327+07:00 0HM9U749MGGNL:00000051 [INF] Request finished in 0.59ms 404  (791a596a)
2021-07-03T22:49:58.4530205+07:00 0HM9U749MGGNL:00000053 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:49:58.4534470+07:00 0HM9U749MGGNL:00000053 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:49:58.4536598+07:00 0HM9U749MGGNL:00000053 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:49:58.4537508+07:00 0HM9U749MGGNL:00000053 [INF] Request finished in 0.87ms 200 application/json (791a596a)
2021-07-03T22:49:58.4689313+07:00 0HM9U749MGGNL:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:49:58.4692725+07:00 0HM9U749MGGNL:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:58.4693257+07:00 0HM9U749MGGNL:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:58.4693696+07:00 0HM9U749MGGNL:00000055 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:58.4696117+07:00 0HM9U749MGGNL:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.4702290+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:49:58.4707332+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:58.4711322+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:58.4714988+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:49:58.4720138+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:49:58.4726883+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:49:58.4738971+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:58.4746812+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:58.4753969+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:58.4762542+07:00 0HM9U749MGGNL:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:58.4764032+07:00 0HM9U749MGGNL:00000055 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:49:58.4767340+07:00 0HM9U749MGGNL:00000055 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3408ms. (6f83ade2)
2021-07-03T22:49:58.4767704+07:00 0HM9U749MGGNL:00000055 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.377ms (afa2e885)
2021-07-03T22:49:58.4767981+07:00 0HM9U749MGGNL:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:58.4769272+07:00 0HM9U749MGGNL:00000055 [INF] Request finished in 8.0369ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:58.4996434+07:00 0HM9U749MGGO1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=mjf1sTjvWjkXGVA7LBxlGg   (ca22a1cb)
2021-07-03T22:49:58.5000568+07:00 0HM9U749MGGO1:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:49:58.5103179+07:00 0HM9U749MGGNL:00000057 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:49:58.5110113+07:00 0HM9U749MGGNL:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:58.5110741+07:00 0HM9U749MGGNL:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:58.5111221+07:00 0HM9U749MGGNL:00000057 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:58.5112599+07:00 0HM9U749MGGO1:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.5112952+07:00 0HM9U749MGGNL:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.5119442+07:00 0HM9U749MGGO1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:49:58.5131000+07:00 0HM9U749MGGNL:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:49:58.5140743+07:00 0HM9U749MGGO1:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:49:58.5145750+07:00 0HM9U749MGGNL:00000057 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:49:58.5158811+07:00 0HM9U749MGGNL:00000057 [INF] Executed ViewResult - view "Index" executed in 1.3217ms. (f66409e9)
2021-07-03T22:49:58.5159711+07:00 0HM9U749MGGNL:00000057 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 4.8267ms (afa2e885)
2021-07-03T22:49:58.5160231+07:00 0HM9U749MGGNL:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:58.5163162+07:00 0HM9U749MGGNL:00000057 [INF] Request finished in 6.1353ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:58.5251395+07:00 0HM9U749MGGO1:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:49:58.5253233+07:00 0HM9U749MGGO1:00000001 [INF] Request finished in 25.6873ms 101  (791a596a)
2021-07-03T22:49:58.5669605+07:00 0HM9U749MGGNL:00000059 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:49:58.5675070+07:00 0HM9U749MGGNL:00000059 [INF] Request finished in 0.6002ms 404  (791a596a)
2021-07-03T22:49:58.6017544+07:00 0HM9U749MGGNL:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:49:58.6097520+07:00 0HM9U749MGGNL:0000005B [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:49:58.6099861+07:00 0HM9U749MGGNL:0000005B [INF] Request finished in 8.4509ms 200 text/plain (791a596a)
2021-07-03T22:49:58.6179769+07:00 0HM9U749MGGNL:0000005D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:49:58.6183525+07:00 0HM9U749MGGNL:0000005D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:49:58.6187450+07:00 0HM9U749MGGNL:0000005D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:49:58.6188628+07:00 0HM9U749MGGNL:0000005D [INF] Request finished in 1.0186ms 200 application/json (791a596a)
2021-07-03T22:49:58.6359107+07:00 0HM9U749MGGNL:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:49:58.6362231+07:00 0HM9U749MGGNL:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:49:58.6363178+07:00 0HM9U749MGGNL:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:49:58.6363953+07:00 0HM9U749MGGNL:0000005F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:49:58.6367500+07:00 0HM9U749MGGNL:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.6373113+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:49:58.6377984+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:58.6381506+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:58.6387824+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:49:58.6402384+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:49:58.6411340+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:49:58.6422450+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:58.6431458+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:49:58.6440544+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:49:58.6449597+07:00 0HM9U749MGGNL:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:49:58.6451218+07:00 0HM9U749MGGNL:0000005F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:49:58.6454162+07:00 0HM9U749MGGNL:0000005F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3079ms. (6f83ade2)
2021-07-03T22:49:58.6454623+07:00 0HM9U749MGGNL:0000005F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.0335ms (afa2e885)
2021-07-03T22:49:58.6454974+07:00 0HM9U749MGGNL:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:49:58.6456309+07:00 0HM9U749MGGNL:0000005F [INF] Request finished in 9.7704ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:49:58.6649632+07:00 0HM9U749MGGO2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=0-cZ3OrrlizVdoODTqk5NA   (ca22a1cb)
2021-07-03T22:49:58.6653094+07:00 0HM9U749MGGO2:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:49:58.6780235+07:00 0HM9U749MGGO2:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:49:58.6786551+07:00 0HM9U749MGGO2:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:49:58.6799624+07:00 0HM9U749MGGO2:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:01.3264532+07:00 0HM9U749MGGNI:0000008D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:50:01.3269581+07:00 0HM9U749MGGNI:0000008D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:01.3270164+07:00 0HM9U749MGGNI:0000008D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:01.3270633+07:00 0HM9U749MGGNI:0000008D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:01.3272887+07:00 0HM9U749MGGNI:0000008D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:01.3299292+07:00 0HM9U749MGGNI:0000008D [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:50:01.3310153+07:00 0HM9U749MGGNI:0000008D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:50:01.3320021+07:00 0HM9U749MGGNI:0000008D [INF] Executed ViewResult - view "Index" executed in 1.0196ms. (f66409e9)
2021-07-03T22:50:01.3320845+07:00 0HM9U749MGGNI:0000008D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 4.9998ms (afa2e885)
2021-07-03T22:50:01.3321613+07:00 0HM9U749MGGNI:0000008D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:01.3324953+07:00 0HM9U749MGGNI:0000008D [INF] Request finished in 6.0421ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:01.3420859+07:00 0HM9U749MGGNU:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:50:01.3422098+07:00 0HM9U749MGGNU:00000001 [INF] Request finished in 275880.524ms 101  (791a596a)
2021-07-03T22:50:01.4949931+07:00 0HM9U749MGGNI:0000008F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:50:01.4954318+07:00 0HM9U749MGGNI:0000008F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:50:01.4958174+07:00 0HM9U749MGGNI:0000008F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:50:01.4959066+07:00 0HM9U749MGGNI:0000008F [INF] Request finished in 1.0549ms 200 application/json (791a596a)
2021-07-03T22:50:01.5106928+07:00 0HM9U749MGGNI:00000091 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:01.5109909+07:00 0HM9U749MGGNI:00000091 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:01.5110435+07:00 0HM9U749MGGNI:00000091 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:01.5110877+07:00 0HM9U749MGGNI:00000091 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:01.5113377+07:00 0HM9U749MGGNI:00000091 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:01.5121023+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:01.5127562+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:01.5131392+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:01.5135504+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:01.5138997+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:01.5142777+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:01.5146830+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:01.5150905+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:01.5154119+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:01.5157532+07:00 0HM9U749MGGNI:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:01.5158612+07:00 0HM9U749MGGNI:00000091 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:01.5160988+07:00 0HM9U749MGGNI:00000091 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2454ms. (6f83ade2)
2021-07-03T22:50:01.5161211+07:00 0HM9U749MGGNI:00000091 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.017ms (afa2e885)
2021-07-03T22:50:01.5161365+07:00 0HM9U749MGGNI:00000091 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:01.5162008+07:00 0HM9U749MGGNI:00000091 [INF] Request finished in 5.6211ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:01.5721904+07:00 0HM9U749MGGNI:00000093 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:50:01.5747333+07:00 0HM9U749MGGO3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=aggLFPtHnAdPOmxyTlI4sw   (ca22a1cb)
2021-07-03T22:50:01.5747806+07:00 0HM9U749MGGNI:00000093 [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:50:01.5750267+07:00 0HM9U749MGGNI:00000093 [INF] Request finished in 3.0866ms 200 image/png (791a596a)
2021-07-03T22:50:01.5752980+07:00 0HM9U749MGGO3:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:50:01.5971384+07:00 0HM9U749MGGO3:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:01.5976322+07:00 0HM9U749MGGO3:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:50:01.5985151+07:00 0HM9U749MGGO3:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:01.9858626+07:00 0HM9U749MGGNI:00000095 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:50:01.9866494+07:00 0HM9U749MGGNI:00000095 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:01.9870458+07:00 0HM9U749MGGNI:00000095 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:01.9871831+07:00 0HM9U749MGGNI:00000095 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:01.9880179+07:00 0HM9U749MGGNI:00000095 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:01.9924146+07:00 0HM9U749MGGNI:00000095 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:50:01.9948933+07:00 0HM9U749MGGNI:00000095 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:50:01.9959712+07:00 0HM9U749MGGNI:00000095 [INF] Executed ViewResult - view "Index" executed in 1.1149ms. (f66409e9)
2021-07-03T22:50:01.9960551+07:00 0HM9U749MGGNI:00000095 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 8.555ms (afa2e885)
2021-07-03T22:50:01.9961112+07:00 0HM9U749MGGNI:00000095 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:01.9963405+07:00 0HM9U749MGGNI:00000095 [INF] Request finished in 10.9044ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:02.0130821+07:00 0HM9U749MGGO3:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:50:02.0132318+07:00 0HM9U749MGGO3:00000001 [INF] Request finished in 438.5171ms 101  (791a596a)
2021-07-03T22:50:02.1885369+07:00 0HM9U749MGGNI:00000097 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:50:02.1891034+07:00 0HM9U749MGGNI:00000097 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:50:02.1894293+07:00 0HM9U749MGGNI:00000097 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:50:02.1895205+07:00 0HM9U749MGGNI:00000097 [INF] Request finished in 1.24ms 200 application/json (791a596a)
2021-07-03T22:50:02.1959510+07:00 0HM9U749MGGNI:00000099 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:02.1962259+07:00 0HM9U749MGGNI:00000099 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:02.1962873+07:00 0HM9U749MGGNI:00000099 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:02.1963343+07:00 0HM9U749MGGNI:00000099 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:02.1966728+07:00 0HM9U749MGGNI:00000099 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:02.1975653+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:02.1983704+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:02.1990605+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:02.1998289+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:02.2005744+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:02.2011212+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:02.2016525+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:02.2022077+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:02.2026583+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:02.2034584+07:00 0HM9U749MGGNI:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:02.2036530+07:00 0HM9U749MGGNI:00000099 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:02.2041948+07:00 0HM9U749MGGNI:00000099 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5213ms. (6f83ade2)
2021-07-03T22:50:02.2042888+07:00 0HM9U749MGGNI:00000099 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.9282ms (afa2e885)
2021-07-03T22:50:02.2043244+07:00 0HM9U749MGGNI:00000099 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:02.2045625+07:00 0HM9U749MGGNI:00000099 [INF] Request finished in 8.6924ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:02.2756000+07:00 0HM9U749MGGNI:0000009B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:50:02.2814359+07:00 0HM9U749MGGNI:0000009B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:50:02.2818635+07:00 0HM9U749MGGNI:0000009B [INF] Request finished in 6.4474ms 200 image/png (791a596a)
2021-07-03T22:50:02.2820398+07:00 0HM9U749MGGO4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=RaKsrfM1ivErZDgikLJrJQ   (ca22a1cb)
2021-07-03T22:50:02.2829242+07:00 0HM9U749MGGO4:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:50:02.2964566+07:00 0HM9U749MGGO4:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:02.2971794+07:00 0HM9U749MGGO4:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:50:02.2986530+07:00 0HM9U749MGGO4:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:02.8359256+07:00 0HM9U749MGGNI:0000009D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327402050   (ca22a1cb)
2021-07-03T22:50:02.8364879+07:00 0HM9U749MGGNI:0000009F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:50:02.8374934+07:00 0HM9U749MGGNI:0000009D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:02.8376104+07:00 0HM9U749MGGNI:0000009D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:02.8377239+07:00 0HM9U749MGGNI:0000009D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:02.8376130+07:00 0HM9U749MGGNI:0000009F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:02.8378759+07:00 0HM9U749MGGNI:0000009F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:02.8379245+07:00 0HM9U749MGGNI:0000009F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:02.8382500+07:00 0HM9U749MGGNI:0000009D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:02.8385856+07:00 0HM9U749MGGNI:0000009F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:02.8405397+07:00 0HM9U749MGGNI:0000009D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:02.8415152+07:00 0HM9U749MGGNI:0000009D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:02.8423003+07:00 0HM9U749MGGNI:0000009F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:02.8424735+07:00 0HM9U749MGGNI:0000009F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:50:02.8426940+07:00 0HM9U749MGGNI:0000009F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.7344ms (afa2e885)
2021-07-03T22:50:02.8427669+07:00 0HM9U749MGGNI:0000009F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:02.8428947+07:00 0HM9U749MGGNI:0000009F [INF] Request finished in 6.6441ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:02.8464514+07:00 0HM9U749MGGNI:0000009D [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:03.1649847+07:00 0HM9U749MGGNI:0000009D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:50:03.1717758+07:00 0HM9U749MGGNI:0000009D [INF] Executed PartialViewResult - view "_ChatForm" executed in 325.1211ms. (6f83ade2)
2021-07-03T22:50:03.1718637+07:00 0HM9U749MGGNI:0000009D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 334.1133ms (afa2e885)
2021-07-03T22:50:03.1718823+07:00 0HM9U749MGGNI:0000009D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:03.1719905+07:00 0HM9U749MGGNI:0000009D [INF] Request finished in 336.1649ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:03.6901465+07:00 0HM9U749MGGNI:000000A1 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:50:03.6906088+07:00 0HM9U749MGGNI:000000A1 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:03.6907389+07:00 0HM9U749MGGNI:000000A1 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:03.6908528+07:00 0HM9U749MGGNI:000000A1 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:03.6916069+07:00 0HM9U749MGGNI:000000A1 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:03.6923567+07:00 0HM9U749MGGNI:000000A1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:03.6945628+07:00 0HM9U749MGGNI:000000A1 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:03.7010056+07:00 0HM9U749MGGNI:000000A1 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:03.7019201+07:00 0HM9U749MGGNI:000000A1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:03.7036323+07:00 0HM9U749MGGNI:000000A1 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:50:03.7044733+07:00 0HM9U749MGGNI:000000A1 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 13.5337ms (afa2e885)
2021-07-03T22:50:03.7045780+07:00 0HM9U749MGGNI:000000A1 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:03.7048030+07:00 0HM9U749MGGNI:000000A1 [INF] Request finished in 14.7107ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:06.3938136+07:00 0HM9U749MGGNL:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327398564   (ca22a1cb)
2021-07-03T22:50:06.3943479+07:00 0HM9U749MGGNL:00000061 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:06.3944335+07:00 0HM9U749MGGNL:00000061 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:06.3945094+07:00 0HM9U749MGGNL:00000061 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:06.3950192+07:00 0HM9U749MGGNL:00000061 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:06.3956829+07:00 0HM9U749MGGNL:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:06.3961852+07:00 0HM9U749MGGNL:00000063 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:50:06.3967294+07:00 0HM9U749MGGNL:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:06.3968630+07:00 0HM9U749MGGNL:00000063 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:06.3969655+07:00 0HM9U749MGGNL:00000063 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:06.3970311+07:00 0HM9U749MGGNL:00000063 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:06.3976520+07:00 0HM9U749MGGNL:00000063 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:06.3980491+07:00 0HM9U749MGGNL:00000061 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:06.3981885+07:00 0HM9U749MGGNL:00000061 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:50:06.3982965+07:00 0HM9U749MGGNL:00000063 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:06.3984391+07:00 0HM9U749MGGNL:00000063 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:50:06.3986388+07:00 0HM9U749MGGNL:00000061 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.4552ms. (6f83ade2)
2021-07-03T22:50:06.3986906+07:00 0HM9U749MGGNL:00000063 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.6138ms (afa2e885)
2021-07-03T22:50:06.3987226+07:00 0HM9U749MGGNL:00000061 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 4.1636ms (afa2e885)
2021-07-03T22:50:06.3987469+07:00 0HM9U749MGGNL:00000063 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:06.3987624+07:00 0HM9U749MGGNL:00000061 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:06.3988674+07:00 0HM9U749MGGNL:00000061 [INF] Request finished in 5.2502ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:06.3988718+07:00 0HM9U749MGGNL:00000063 [INF] Request finished in 2.689ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:07.6755094+07:00 0HM9U749MGGNL:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:50:07.6763472+07:00 0HM9U749MGGNL:00000065 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:07.6764608+07:00 0HM9U749MGGNL:00000065 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:07.6765629+07:00 0HM9U749MGGNL:00000065 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:07.6771852+07:00 0HM9U749MGGNL:00000065 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:07.6781233+07:00 0HM9U749MGGNL:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:07.6792860+07:00 0HM9U749MGGNL:00000065 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:07.6860459+07:00 0HM9U749MGGNL:00000065 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:07.6872585+07:00 0HM9U749MGGNL:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:07.6889047+07:00 0HM9U749MGGNL:00000065 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:50:07.6895960+07:00 0HM9U749MGGNL:00000065 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 12.9848ms (afa2e885)
2021-07-03T22:50:07.6896480+07:00 0HM9U749MGGNL:00000065 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:07.6897904+07:00 0HM9U749MGGNL:00000065 [INF] Request finished in 14.4284ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:11.6122639+07:00 0HM9U749MGGNI:000000A3 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:50:11.6127890+07:00 0HM9U749MGGNI:000000A3 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:11.6128548+07:00 0HM9U749MGGNI:000000A3 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:11.6129224+07:00 0HM9U749MGGNI:000000A3 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:11.6134952+07:00 0HM9U749MGGNI:000000A3 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:11.6148979+07:00 0HM9U749MGGNI:000000A3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:50:11.6164503+07:00 0HM9U749MGGNI:000000A3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:50:11.6192375+07:00 0HM9U749MGGNI:000000A3 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:50:11.6263287+07:00 0HM9U749MGGNI:000000A3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:11.6266390+07:00 0HM9U749MGGNI:000000A3 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:50:11.6268555+07:00 0HM9U749MGGNI:000000A3 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 13.9061ms (afa2e885)
2021-07-03T22:50:11.6268819+07:00 0HM9U749MGGNI:000000A3 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:11.6269757+07:00 0HM9U749MGGNI:000000A3 [INF] Request finished in 14.916ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:44.2591419+07:00 0HM9U749MGGNI:000000A5 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:50:44.2598227+07:00 0HM9U749MGGNI:000000A5 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:44.2598779+07:00 0HM9U749MGGNI:000000A5 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:44.2599204+07:00 0HM9U749MGGNI:000000A5 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:44.2601094+07:00 0HM9U749MGGNI:000000A5 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:44.2630619+07:00 0HM9U749MGGNI:000000A5 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:50:44.2637129+07:00 0HM9U749MGGNI:000000A5 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:50:44.5438976+07:00 0HM9U749MGGNI:000000A5 [INF] Executed ViewResult - view "Index" executed in 280.2107ms. (f66409e9)
2021-07-03T22:50:44.5439670+07:00 0HM9U749MGGNI:000000A5 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 284.0283ms (afa2e885)
2021-07-03T22:50:44.5440003+07:00 0HM9U749MGGNI:000000A5 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:44.5441589+07:00 0HM9U749MGGNI:000000A5 [INF] Request finished in 285.0351ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:44.5528714+07:00 0HM9U749MGGO4:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:50:44.5529938+07:00 0HM9U749MGGO4:00000001 [INF] Request finished in 42270.9873ms 101  (791a596a)
2021-07-03T22:50:44.7131574+07:00 0HM9U749MGGNI:000000A7 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:50:44.7139150+07:00 0HM9U749MGGNI:000000A7 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:50:44.7142008+07:00 0HM9U749MGGNI:000000A7 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:50:44.7142879+07:00 0HM9U749MGGNI:000000A7 [INF] Request finished in 1.2637ms 200 application/json (791a596a)
2021-07-03T22:50:44.7227626+07:00 0HM9U749MGGNI:000000A9 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:44.7230802+07:00 0HM9U749MGGNI:000000A9 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:44.7231408+07:00 0HM9U749MGGNI:000000A9 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:44.7231938+07:00 0HM9U749MGGNI:000000A9 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:44.7236086+07:00 0HM9U749MGGNI:000000A9 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:44.7264704+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:44.7307426+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:44.7318429+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:44.7349964+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("3"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:44.7372437+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:44.7395846+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:44.7416120+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:44.7423617+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:44.7428583+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:44.7433903+07:00 0HM9U749MGGNI:000000A9 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:44.7435089+07:00 0HM9U749MGGNI:000000A9 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:44.7437800+07:00 0HM9U749MGGNI:000000A9 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2805ms. (6f83ade2)
2021-07-03T22:50:44.7438061+07:00 0HM9U749MGGNI:000000A9 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 20.5881ms (afa2e885)
2021-07-03T22:50:44.7438209+07:00 0HM9U749MGGNI:000000A9 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:44.7438856+07:00 0HM9U749MGGNI:000000A9 [INF] Request finished in 21.2359ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:44.7599975+07:00 0HM9U749MGGNI:000000AB [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:50:44.7616345+07:00 0HM9U749MGGO5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=EkNF5M4Ijjhig6wbHwSjTg   (ca22a1cb)
2021-07-03T22:50:44.7616638+07:00 0HM9U749MGGNI:000000AB [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:50:44.7617658+07:00 0HM9U749MGGNI:000000AB [INF] Request finished in 1.8846ms 200 image/png (791a596a)
2021-07-03T22:50:44.7620420+07:00 0HM9U749MGGO5:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:50:44.7726096+07:00 0HM9U749MGGO5:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:44.7738390+07:00 0HM9U749MGGO5:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:50:44.7758735+07:00 0HM9U749MGGO5:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:47.2208379+07:00 0HM9U749MGGNL:00000067 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:50:47.2219415+07:00 0HM9U749MGGNL:00000067 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:47.2220662+07:00 0HM9U749MGGNL:00000067 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:47.2221593+07:00 0HM9U749MGGNL:00000067 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:47.2225093+07:00 0HM9U749MGGNL:00000067 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:47.2257339+07:00 0HM9U749MGGNL:00000067 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:50:47.2277864+07:00 0HM9U749MGGNL:00000067 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:50:47.2290549+07:00 0HM9U749MGGNL:00000067 [INF] Executed ViewResult - view "Index" executed in 1.3265ms. (f66409e9)
2021-07-03T22:50:47.2291241+07:00 0HM9U749MGGNL:00000067 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.9317ms (afa2e885)
2021-07-03T22:50:47.2291642+07:00 0HM9U749MGGNL:00000067 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:47.2293865+07:00 0HM9U749MGGNL:00000067 [INF] Request finished in 8.5727ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:47.2369949+07:00 0HM9U749MGGO2:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:50:47.2371349+07:00 0HM9U749MGGO2:00000001 [INF] Request finished in 48572.167ms 101  (791a596a)
2021-07-03T22:50:47.3028627+07:00 0HM9U749MGGNL:00000069 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:50:47.3034192+07:00 0HM9U749MGGNL:00000069 [INF] Request finished in 0.697ms 404  (791a596a)
2021-07-03T22:50:47.3250813+07:00 0HM9U749MGGNL:0000006B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:50:47.3338297+07:00 0HM9U749MGGNL:0000006B [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:50:47.3341064+07:00 0HM9U749MGGNL:0000006B [INF] Request finished in 9.1139ms 200 text/plain (791a596a)
2021-07-03T22:50:47.3426570+07:00 0HM9U749MGGNL:0000006D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:50:47.3431685+07:00 0HM9U749MGGNL:0000006D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:50:47.3435215+07:00 0HM9U749MGGNL:0000006D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:50:47.3435922+07:00 0HM9U749MGGNL:0000006D [INF] Request finished in 1.0614ms 200 application/json (791a596a)
2021-07-03T22:50:47.3657260+07:00 0HM9U749MGGNL:0000006F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:47.3666098+07:00 0HM9U749MGGNL:0000006F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:47.3667011+07:00 0HM9U749MGGNL:0000006F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:47.3668077+07:00 0HM9U749MGGNL:0000006F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:47.3673122+07:00 0HM9U749MGGNL:0000006F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:47.3684524+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:47.3692198+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:47.3696808+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:47.3702479+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:47.3707451+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:47.3712026+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:47.3716822+07:00 0HM9U749MGGNL:0000006F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:47.3718229+07:00 0HM9U749MGGNL:0000006F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:47.3720902+07:00 0HM9U749MGGNL:0000006F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2682ms. (6f83ade2)
2021-07-03T22:50:47.3721145+07:00 0HM9U749MGGNL:0000006F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.2885ms (afa2e885)
2021-07-03T22:50:47.3721350+07:00 0HM9U749MGGNL:0000006F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:47.3722111+07:00 0HM9U749MGGNL:0000006F [INF] Request finished in 6.8355ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:47.4005022+07:00 0HM9U749MGGO6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=ac_koPVFc8h-eXBEB8rUug   (ca22a1cb)
2021-07-03T22:50:47.4010303+07:00 0HM9U749MGGO6:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:50:47.4111107+07:00 0HM9U749MGGO6:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:47.4116756+07:00 0HM9U749MGGO6:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:50:47.4131853+07:00 0HM9U749MGGO6:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:47.7461546+07:00 0HM9U749MGGNL:00000071 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:50:47.7467702+07:00 0HM9U749MGGNL:00000071 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:47.7468765+07:00 0HM9U749MGGNL:00000071 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:47.7470041+07:00 0HM9U749MGGNL:00000071 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:47.7475944+07:00 0HM9U749MGGNL:00000071 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:47.7525337+07:00 0HM9U749MGGNL:00000071 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:50:47.7560173+07:00 0HM9U749MGGNL:00000071 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:50:47.7583730+07:00 0HM9U749MGGNL:00000071 [INF] Executed ViewResult - view "Index" executed in 2.3754ms. (f66409e9)
2021-07-03T22:50:47.7587981+07:00 0HM9U749MGGNL:00000071 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 11.7166ms (afa2e885)
2021-07-03T22:50:47.7588960+07:00 0HM9U749MGGNL:00000071 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:47.7596912+07:00 0HM9U749MGGNL:00000071 [INF] Request finished in 13.6418ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:47.7720371+07:00 0HM9U749MGGO6:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:50:47.7723796+07:00 0HM9U749MGGO6:00000001 [INF] Request finished in 371.9062ms 101  (791a596a)
2021-07-03T22:50:47.8369246+07:00 0HM9U749MGGNL:00000073 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:50:47.8374718+07:00 0HM9U749MGGNL:00000073 [INF] Request finished in 0.6394ms 404  (791a596a)
2021-07-03T22:50:47.8568322+07:00 0HM9U749MGGNL:00000075 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:50:47.8659592+07:00 0HM9U749MGGNL:00000075 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:50:47.8662013+07:00 0HM9U749MGGNL:00000075 [INF] Request finished in 9.4297ms 200 text/plain (791a596a)
2021-07-03T22:50:47.8730383+07:00 0HM9U749MGGNL:00000077 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:50:47.8734316+07:00 0HM9U749MGGNL:00000077 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:50:47.8737104+07:00 0HM9U749MGGNL:00000077 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:50:47.8737961+07:00 0HM9U749MGGNL:00000077 [INF] Request finished in 1.0064ms 200 application/json (791a596a)
2021-07-03T22:50:47.8907274+07:00 0HM9U749MGGNL:00000079 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:47.8910622+07:00 0HM9U749MGGNL:00000079 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:47.8911398+07:00 0HM9U749MGGNL:00000079 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:47.8912066+07:00 0HM9U749MGGNL:00000079 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:47.8915847+07:00 0HM9U749MGGNL:00000079 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:47.8923800+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:47.8930305+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:47.8936456+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:47.8944056+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:47.8950705+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:47.8957252+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:47.8963596+07:00 0HM9U749MGGNL:00000079 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:47.8964907+07:00 0HM9U749MGGNL:00000079 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:47.8967479+07:00 0HM9U749MGGNL:00000079 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2616ms. (6f83ade2)
2021-07-03T22:50:47.8967944+07:00 0HM9U749MGGNL:00000079 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.5577ms (afa2e885)
2021-07-03T22:50:47.8968227+07:00 0HM9U749MGGNL:00000079 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:47.8969372+07:00 0HM9U749MGGNL:00000079 [INF] Request finished in 6.3126ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:47.9186054+07:00 0HM9U749MGGO7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=ZFT6ChzGYS3qhG46PJmjWA   (ca22a1cb)
2021-07-03T22:50:47.9189371+07:00 0HM9U749MGGO7:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:50:47.9535720+07:00 0HM9U749MGGO7:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:47.9541839+07:00 0HM9U749MGGO7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:50:47.9553762+07:00 0HM9U749MGGO7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:49.4240262+07:00 0HM9U749MGGNI:000000AD [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:50:49.4245980+07:00 0HM9U749MGGNI:000000AF [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327444578   (ca22a1cb)
2021-07-03T22:50:49.4250138+07:00 0HM9U749MGGNI:000000AD [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:49.4250339+07:00 0HM9U749MGGNI:000000AF [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:49.4251139+07:00 0HM9U749MGGNI:000000AD [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:49.4251408+07:00 0HM9U749MGGNI:000000AF [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:49.4251988+07:00 0HM9U749MGGNI:000000AD [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:49.4252317+07:00 0HM9U749MGGNI:000000AF [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:49.4266199+07:00 0HM9U749MGGNI:000000AF [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:49.4282722+07:00 0HM9U749MGGNI:000000AD [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:49.4315745+07:00 0HM9U749MGGNI:000000AF [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:49.4333544+07:00 0HM9U749MGGNI:000000AF [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:49.4361077+07:00 0HM9U749MGGNI:000000AD [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:49.4363027+07:00 0HM9U749MGGNI:000000AD [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:50:49.4365808+07:00 0HM9U749MGGNI:000000AD [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 11.3383ms (afa2e885)
2021-07-03T22:50:49.4366140+07:00 0HM9U749MGGNI:000000AD [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:49.4367248+07:00 0HM9U749MGGNI:000000AD [INF] Request finished in 12.7202ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:49.4392032+07:00 0HM9U749MGGNI:000000AF [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:49.6478994+07:00 0HM9U749MGGNI:000000AF [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:50:49.6556216+07:00 0HM9U749MGGNI:000000AF [INF] Executed PartialViewResult - view "_ChatForm" executed in 216.2798ms. (6f83ade2)
2021-07-03T22:50:49.6556575+07:00 0HM9U749MGGNI:000000AF [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 230.3879ms (afa2e885)
2021-07-03T22:50:49.6556954+07:00 0HM9U749MGGNI:000000AF [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:49.6557920+07:00 0HM9U749MGGNI:000000AF [INF] Request finished in 231.4778ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:50.1484479+07:00 0HM9U749MGGNI:000000B1 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:50:50.1488697+07:00 0HM9U749MGGNI:000000B1 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:50.1489597+07:00 0HM9U749MGGNI:000000B1 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:50.1490262+07:00 0HM9U749MGGNI:000000B1 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:50.1496950+07:00 0HM9U749MGGNI:000000B1 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:50.1507457+07:00 0HM9U749MGGNI:000000B1 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:50.1523107+07:00 0HM9U749MGGNI:000000B1 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:50.1558218+07:00 0HM9U749MGGNI:000000B1 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:50.1565098+07:00 0HM9U749MGGNI:000000B1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:50.1573273+07:00 0HM9U749MGGNI:000000B1 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:50:50.1577622+07:00 0HM9U749MGGNI:000000B1 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 8.6968ms (afa2e885)
2021-07-03T22:50:50.1577863+07:00 0HM9U749MGGNI:000000B1 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:50.1578617+07:00 0HM9U749MGGNI:000000B1 [INF] Request finished in 9.8735ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:50.9994352+07:00 0HM9U749MGGNI:000000B3 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:50:50.9999016+07:00 0HM9U749MGGNI:000000B3 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:50.9999926+07:00 0HM9U749MGGNI:000000B3 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:51.0000500+07:00 0HM9U749MGGNI:000000B3 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:51.0004781+07:00 0HM9U749MGGNI:000000B3 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:51.0018664+07:00 0HM9U749MGGNI:000000B3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:50:51.0035133+07:00 0HM9U749MGGNI:000000B3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:50:51.0044946+07:00 0HM9U749MGGNI:000000B3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:51.0069818+07:00 0HM9U749MGGNI:000000B3 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:51.0070902+07:00 0HM9U749MGGNI:000000B3 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:50:51.0073609+07:00 0HM9U749MGGNI:000000B3 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 7.2849ms (afa2e885)
2021-07-03T22:50:51.0073833+07:00 0HM9U749MGGNI:000000B3 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:51.0074671+07:00 0HM9U749MGGNI:000000B3 [INF] Request finished in 8.174ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:52.0948854+07:00 0HM9U749MGGNI:000000B5 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundary6BMUHZ9UtlVYHMWQ 889 (ca22a1cb)
2021-07-03T22:50:52.0954041+07:00 0HM9U749MGGNI:000000B5 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:52.0955414+07:00 0HM9U749MGGNI:000000B5 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:52.0956292+07:00 0HM9U749MGGNI:000000B5 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:52.0984408+07:00 0HM9U749MGGNI:000000B5 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:52.1003358+07:00 0HM9U749MGGNI:000000B5 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:50:52.1027726+07:00 0HM9U749MGGNI:000000B5 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:50:52.1041745+07:00 0HM9U749MGGNI:000000B5 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:50:52.1066785+07:00 0HM9U749MGGNI:000000B5 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:50:52.1074518+07:00 0HM9U749MGGNI:000000B5 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:50:52.1076994+07:00 0HM9U749MGGNI:000000B5 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 12.0389ms (afa2e885)
2021-07-03T22:50:52.1077318+07:00 0HM9U749MGGNI:000000B5 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:52.1078560+07:00 0HM9U749MGGNI:000000B5 [INF] Request finished in 13.2801ms 302  (791a596a)
2021-07-03T22:50:52.1180689+07:00 0HM9U749MGGNI:000000B7 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:50:52.1184050+07:00 0HM9U749MGGNI:000000B7 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:52.1184587+07:00 0HM9U749MGGNI:000000B7 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:52.1185023+07:00 0HM9U749MGGNI:000000B7 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:52.1187002+07:00 0HM9U749MGGNI:000000B7 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:52.1207039+07:00 0HM9U749MGGNI:000000B7 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:50:52.1220168+07:00 0HM9U749MGGNI:000000B7 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:50:52.1236886+07:00 0HM9U749MGGNI:000000B7 [INF] Executed ViewResult - view "Index" executed in 1.6826ms. (f66409e9)
2021-07-03T22:50:52.1237879+07:00 0HM9U749MGGNI:000000B7 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 5.2615ms (afa2e885)
2021-07-03T22:50:52.1238720+07:00 0HM9U749MGGNI:000000B7 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:52.1240638+07:00 0HM9U749MGGNI:000000B7 [INF] Request finished in 6.0882ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:52.1321761+07:00 0HM9U749MGGO5:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:50:52.1323618+07:00 0HM9U749MGGO5:00000001 [INF] Request finished in 7370.9989ms 101  (791a596a)
2021-07-03T22:50:52.2991792+07:00 0HM9U749MGGNI:000000B9 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:50:52.2997849+07:00 0HM9U749MGGNI:000000B9 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:50:52.3002348+07:00 0HM9U749MGGNI:000000B9 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:50:52.3003676+07:00 0HM9U749MGGNI:000000B9 [INF] Request finished in 1.4152ms 200 application/json (791a596a)
2021-07-03T22:50:52.3097546+07:00 0HM9U749MGGNI:000000BB [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:52.3101111+07:00 0HM9U749MGGNI:000000BB [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:52.3101809+07:00 0HM9U749MGGNI:000000BB [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:52.3102612+07:00 0HM9U749MGGNI:000000BB [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:52.3107042+07:00 0HM9U749MGGNI:000000BB [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:52.3114547+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:52.3121903+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:52.3126369+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:52.3131722+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:52.3138036+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:52.3142904+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:52.3148348+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:52.3153150+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:52.3157003+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:52.3161829+07:00 0HM9U749MGGNI:000000BB [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:52.3163472+07:00 0HM9U749MGGNI:000000BB [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:52.3166626+07:00 0HM9U749MGGNI:000000BB [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3371ms. (6f83ade2)
2021-07-03T22:50:52.3166973+07:00 0HM9U749MGGNI:000000BB [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 6.4061ms (afa2e885)
2021-07-03T22:50:52.3167270+07:00 0HM9U749MGGNI:000000BB [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:52.3168324+07:00 0HM9U749MGGNI:000000BB [INF] Request finished in 7.1874ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:52.3326648+07:00 0HM9U749MGGO8:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=Xiv-Op6CojAwvaThF0X4bA   (ca22a1cb)
2021-07-03T22:50:52.3329441+07:00 0HM9U749MGGO8:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:50:52.3383358+07:00 0HM9U749MGGO8:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:52.3388472+07:00 0HM9U749MGGO8:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:50:52.3398887+07:00 0HM9U749MGGO8:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:50:52.9965794+07:00 0HM9U749MGGNI:000000BD [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327452151   (ca22a1cb)
2021-07-03T22:50:52.9969829+07:00 0HM9U749MGGNI:000000BF [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:50:52.9977877+07:00 0HM9U749MGGNI:000000BD [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:52.9978064+07:00 0HM9U749MGGNI:000000BF [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:52.9978851+07:00 0HM9U749MGGNI:000000BF [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:52.9979042+07:00 0HM9U749MGGNI:000000BD [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:52.9979476+07:00 0HM9U749MGGNI:000000BF [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:52.9979582+07:00 0HM9U749MGGNI:000000BD [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:52.9984378+07:00 0HM9U749MGGNI:000000BD [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:52.9984440+07:00 0HM9U749MGGNI:000000BF [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:52.9992205+07:00 0HM9U749MGGNI:000000BD [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:52.9995338+07:00 0HM9U749MGGNI:000000BF [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:52.9996695+07:00 0HM9U749MGGNI:000000BF [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:50:52.9999254+07:00 0HM9U749MGGNI:000000BF [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.941ms (afa2e885)
2021-07-03T22:50:52.9999629+07:00 0HM9U749MGGNI:000000BF [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:53.0000867+07:00 0HM9U749MGGNI:000000BF [INF] Request finished in 3.1987ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:53.0001366+07:00 0HM9U749MGGNI:000000BD [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:53.0019914+07:00 0HM9U749MGGNI:000000BD [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:53.0021076+07:00 0HM9U749MGGNI:000000BD [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:50:53.0024494+07:00 0HM9U749MGGNI:000000BD [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.3357ms. (6f83ade2)
2021-07-03T22:50:53.0024962+07:00 0HM9U749MGGNI:000000BD [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 4.5135ms (afa2e885)
2021-07-03T22:50:53.0025258+07:00 0HM9U749MGGNI:000000BD [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:53.0026484+07:00 0HM9U749MGGNI:000000BD [INF] Request finished in 6.0839ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:53.8624040+07:00 0HM9U749MGGNI:000000C1 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:50:53.8637161+07:00 0HM9U749MGGNI:000000C1 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:53.8639449+07:00 0HM9U749MGGNI:000000C1 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:53.8640254+07:00 0HM9U749MGGNI:000000C1 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:53.8645408+07:00 0HM9U749MGGNI:000000C1 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:53.8652486+07:00 0HM9U749MGGNI:000000C1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:53.8660265+07:00 0HM9U749MGGNI:000000C1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:53.8673769+07:00 0HM9U749MGGNI:000000C1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:53.8679878+07:00 0HM9U749MGGNI:000000C1 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:53.8686351+07:00 0HM9U749MGGNI:000000C1 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:50:53.8689695+07:00 0HM9U749MGGNI:000000C1 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 4.9171ms (afa2e885)
2021-07-03T22:50:53.8690043+07:00 0HM9U749MGGNI:000000C1 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:53.8691092+07:00 0HM9U749MGGNI:000000C1 [INF] Request finished in 7.0789ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:55.8553915+07:00 0HM9U749MGGNL:0000007B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:50:55.8559011+07:00 0HM9U749MGGNL:0000007B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:55.8560053+07:00 0HM9U749MGGNL:0000007B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:55.8561068+07:00 0HM9U749MGGNL:0000007B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:55.8566846+07:00 0HM9U749MGGNL:0000007B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:55.8578557+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:55.8590285+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:55.8598434+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:55.8608086+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:50:55.8617324+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:50:55.8627235+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:50:55.8637336+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:55.8647240+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:55.8655370+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:55.8664162+07:00 0HM9U749MGGNL:0000007B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:50:55.8665924+07:00 0HM9U749MGGNL:0000007B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:50:55.8669764+07:00 0HM9U749MGGNL:0000007B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4079ms. (6f83ade2)
2021-07-03T22:50:55.8670377+07:00 0HM9U749MGGNL:0000007B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.8878ms (afa2e885)
2021-07-03T22:50:55.8670669+07:00 0HM9U749MGGNL:0000007B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:55.8671882+07:00 0HM9U749MGGNL:0000007B [INF] Request finished in 12.0045ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:56.5577139+07:00 0HM9U749MGGNL:0000007D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327447821   (ca22a1cb)
2021-07-03T22:50:56.5581662+07:00 0HM9U749MGGNL:0000007D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:56.5583231+07:00 0HM9U749MGGNL:0000007D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:56.5587901+07:00 0HM9U749MGGNL:0000007D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:56.5598157+07:00 0HM9U749MGGNL:0000007D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:56.5614689+07:00 0HM9U749MGGNL:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:56.5630295+07:00 0HM9U749MGGNL:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:56.5631398+07:00 0HM9U749MGGNL:0000007F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:50:56.5644859+07:00 0HM9U749MGGNL:0000007F [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:56.5646410+07:00 0HM9U749MGGNL:0000007F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:56.5647076+07:00 0HM9U749MGGNL:0000007F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:56.5651709+07:00 0HM9U749MGGNL:0000007D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:56.5653171+07:00 0HM9U749MGGNL:0000007D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:50:56.5653533+07:00 0HM9U749MGGNL:0000007F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:56.5656272+07:00 0HM9U749MGGNL:0000007D [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.3326ms. (6f83ade2)
2021-07-03T22:50:56.5656622+07:00 0HM9U749MGGNL:0000007D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 6.8109ms (afa2e885)
2021-07-03T22:50:56.5656800+07:00 0HM9U749MGGNL:0000007D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:56.5657817+07:00 0HM9U749MGGNL:0000007D [INF] Request finished in 8.262ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:50:56.5661663+07:00 0HM9U749MGGNL:0000007F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:50:56.5663164+07:00 0HM9U749MGGNL:0000007F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:50:56.5665545+07:00 0HM9U749MGGNL:0000007F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.8087ms (afa2e885)
2021-07-03T22:50:56.5665921+07:00 0HM9U749MGGNL:0000007F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:56.5667308+07:00 0HM9U749MGGNL:0000007F [INF] Request finished in 3.5735ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:50:57.4332135+07:00 0HM9U749MGGNL:00000081 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:50:57.4335725+07:00 0HM9U749MGGNL:00000081 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:50:57.4336564+07:00 0HM9U749MGGNL:00000081 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:50:57.4337121+07:00 0HM9U749MGGNL:00000081 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:50:57.4340993+07:00 0HM9U749MGGNL:00000081 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:50:57.4347963+07:00 0HM9U749MGGNL:00000081 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:57.4356347+07:00 0HM9U749MGGNL:00000081 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:50:57.4389925+07:00 0HM9U749MGGNL:00000081 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:50:57.4396101+07:00 0HM9U749MGGNL:00000081 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:50:57.4401757+07:00 0HM9U749MGGNL:00000081 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:50:57.4404905+07:00 0HM9U749MGGNL:00000081 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 6.7499ms (afa2e885)
2021-07-03T22:50:57.4405357+07:00 0HM9U749MGGNL:00000081 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:50:57.4406779+07:00 0HM9U749MGGNL:00000081 [INF] Request finished in 7.7657ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:51:01.9968286+07:00 0HM9U749MGGNI:000000C3 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:51:01.9971987+07:00 0HM9U749MGGNI:000000C3 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:51:01.9972860+07:00 0HM9U749MGGNI:000000C3 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:51:01.9973652+07:00 0HM9U749MGGNI:000000C3 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:51:01.9979916+07:00 0HM9U749MGGNI:000000C3 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:51:01.9986554+07:00 0HM9U749MGGNI:000000C3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:51:01.9992889+07:00 0HM9U749MGGNI:000000C3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:51:01.9997953+07:00 0HM9U749MGGNI:000000C3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:51:02.0020117+07:00 0HM9U749MGGNI:000000C3 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:51:02.0021119+07:00 0HM9U749MGGNI:000000C3 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:51:02.0023576+07:00 0HM9U749MGGNI:000000C3 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 4.9601ms (afa2e885)
2021-07-03T22:51:02.0023893+07:00 0HM9U749MGGNI:000000C3 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:51:02.0024826+07:00 0HM9U749MGGNI:000000C3 [INF] Request finished in 5.7645ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:51:05.6149506+07:00 0HM9U749MGGNI:000000C5 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:51:05.6157354+07:00 0HM9U749MGGNI:000000C5 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:51:05.6158710+07:00 0HM9U749MGGNI:000000C5 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:51:05.6159842+07:00 0HM9U749MGGNI:000000C5 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:51:05.6168135+07:00 0HM9U749MGGNI:000000C5 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:51:05.6186548+07:00 0HM9U749MGGNI:000000C5 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:51:05.6204343+07:00 0HM9U749MGGNI:000000C5 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:51:05.6232389+07:00 0HM9U749MGGNI:000000C5 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:51:05.6299577+07:00 0HM9U749MGGNI:000000C5 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:51:05.6302686+07:00 0HM9U749MGGNI:000000C5 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:51:05.6304806+07:00 0HM9U749MGGNI:000000C5 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 14.4651ms (afa2e885)
2021-07-03T22:51:05.6305083+07:00 0HM9U749MGGNI:000000C5 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:51:05.6306204+07:00 0HM9U749MGGNI:000000C5 [INF] Request finished in 15.7504ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:52:36.9947675+07:00 0HM9U749MGGNL:00000083 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625327447822   (ca22a1cb)
2021-07-03T22:52:36.9957885+07:00 0HM9U749MGGNL:00000085 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:52:36.9964784+07:00 0HM9U749MGGNL:00000083 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:52:36.9965582+07:00 0HM9U749MGGNL:00000085 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:52:36.9966063+07:00 0HM9U749MGGNL:00000083 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:52:36.9966434+07:00 0HM9U749MGGNL:00000085 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:52:36.9967063+07:00 0HM9U749MGGNL:00000085 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:52:36.9967091+07:00 0HM9U749MGGNL:00000083 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:52:36.9985885+07:00 0HM9U749MGGNL:00000085 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:52:36.9985860+07:00 0HM9U749MGGNL:00000083 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:52:37.0051150+07:00 0HM9U749MGGNL:00000083 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:52:37.0065438+07:00 0HM9U749MGGNL:00000083 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:52:37.0065546+07:00 0HM9U749MGGNL:00000085 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:52:37.0066511+07:00 0HM9U749MGGNL:00000085 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:52:37.0068312+07:00 0HM9U749MGGNL:00000085 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 10.0755ms (afa2e885)
2021-07-03T22:52:37.0068921+07:00 0HM9U749MGGNL:00000085 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:52:37.0070169+07:00 0HM9U749MGGNL:00000085 [INF] Request finished in 11.3252ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:52:37.0081791+07:00 0HM9U749MGGNL:00000083 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:52:37.0097694+07:00 0HM9U749MGGNL:00000083 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:52:37.0118312+07:00 0HM9U749MGGNL:00000083 [INF] Executed DbCommand ("2"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:52:37.0147330+07:00 0HM9U749MGGNL:00000083 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:52:37.0148551+07:00 0HM9U749MGGNL:00000083 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:52:37.0151043+07:00 0HM9U749MGGNL:00000083 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.2818ms. (6f83ade2)
2021-07-03T22:52:37.0151283+07:00 0HM9U749MGGNL:00000083 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 18.3823ms (afa2e885)
2021-07-03T22:52:37.0151442+07:00 0HM9U749MGGNL:00000083 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:52:37.0152058+07:00 0HM9U749MGGNL:00000083 [INF] Request finished in 20.9584ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:41.4806350+07:00 0HM9U749MGGNL:00000087 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:53:41.4814726+07:00 0HM9U749MGGNL:00000087 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:41.4816998+07:00 0HM9U749MGGNL:00000087 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:41.4818769+07:00 0HM9U749MGGNL:00000087 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:41.4827837+07:00 0HM9U749MGGNL:00000087 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:41.4907167+07:00 0HM9U749MGGNL:00000087 [INF] Executed DbCommand ("5"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:53:41.4913243+07:00 0HM9U749MGGNL:00000087 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:53:41.4928165+07:00 0HM9U749MGGNL:00000087 [INF] Executed ViewResult - view "Index" executed in 1.5782ms. (f66409e9)
2021-07-03T22:53:41.4928979+07:00 0HM9U749MGGNL:00000087 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 10.9512ms (afa2e885)
2021-07-03T22:53:41.4929494+07:00 0HM9U749MGGNL:00000087 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:41.4931648+07:00 0HM9U749MGGNL:00000087 [INF] Request finished in 12.5927ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:41.5007915+07:00 0HM9U749MGGO7:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:53:41.5011099+07:00 0HM9U749MGGO7:00000001 [INF] Request finished in 173582.4888ms 101  (791a596a)
2021-07-03T22:53:41.5725764+07:00 0HM9U749MGGNL:00000089 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:53:41.5729858+07:00 0HM9U749MGGNL:00000089 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:53:41.5732709+07:00 0HM9U749MGGNL:00000089 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:53:41.5733679+07:00 0HM9U749MGGNL:00000089 [INF] Request finished in 0.9964ms 200 application/json (791a596a)
2021-07-03T22:53:41.5831865+07:00 0HM9U749MGGNL:0000008B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:41.5834832+07:00 0HM9U749MGGNL:0000008B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:41.5835398+07:00 0HM9U749MGGNL:0000008B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:41.5835894+07:00 0HM9U749MGGNL:0000008B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:41.5838842+07:00 0HM9U749MGGNL:0000008B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:41.5858912+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:41.5887605+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:41.5898687+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:41.5911343+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:41.5924293+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:41.5943907+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:41.5963973+07:00 0HM9U749MGGNL:0000008B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:41.5965773+07:00 0HM9U749MGGNL:0000008B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:41.5968631+07:00 0HM9U749MGGNL:0000008B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2978ms. (6f83ade2)
2021-07-03T22:53:41.5969085+07:00 0HM9U749MGGNL:0000008B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 13.2954ms (afa2e885)
2021-07-03T22:53:41.5969397+07:00 0HM9U749MGGNL:0000008B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:41.5970372+07:00 0HM9U749MGGNL:0000008B [INF] Request finished in 13.8749ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:41.6342049+07:00 0HM9U749MGGNL:0000008D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:53:41.6344631+07:00 0HM9U749MGGNL:0000008D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:41.6345147+07:00 0HM9U749MGGNL:0000008D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:41.6345614+07:00 0HM9U749MGGNL:0000008D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:41.6347822+07:00 0HM9U749MGGNL:0000008D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:41.6368919+07:00 0HM9U749MGGNL:0000008D [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:53:41.6377734+07:00 0HM9U749MGGNL:0000008D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:53:41.6384506+07:00 0HM9U749MGGNL:0000008D [INF] Executed ViewResult - view "Index" executed in 0.6937ms. (f66409e9)
2021-07-03T22:53:41.6385078+07:00 0HM9U749MGGNL:0000008D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 3.9172ms (afa2e885)
2021-07-03T22:53:41.6385348+07:00 0HM9U749MGGNL:0000008D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:41.6387011+07:00 0HM9U749MGGNL:0000008D [INF] Request finished in 4.5411ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:41.7211336+07:00 0HM9U749MGGNL:0000008F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:53:41.7216530+07:00 0HM9U749MGGNL:0000008F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:53:41.7219927+07:00 0HM9U749MGGNL:0000008F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:53:41.7221246+07:00 0HM9U749MGGNL:0000008F [INF] Request finished in 1.1117ms 200 application/json (791a596a)
2021-07-03T22:53:41.7276105+07:00 0HM9U749MGGNL:00000091 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:41.7279139+07:00 0HM9U749MGGNL:00000091 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:41.7279753+07:00 0HM9U749MGGNL:00000091 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:41.7280248+07:00 0HM9U749MGGNL:00000091 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:41.7283133+07:00 0HM9U749MGGNL:00000091 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:41.7291670+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:41.7297968+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:41.7304032+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:41.7309982+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:41.7315282+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:41.7320608+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:41.7325130+07:00 0HM9U749MGGNL:00000091 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:41.7326884+07:00 0HM9U749MGGNL:00000091 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:41.7329729+07:00 0HM9U749MGGNL:00000091 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3061ms. (6f83ade2)
2021-07-03T22:53:41.7330103+07:00 0HM9U749MGGNL:00000091 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 4.9628ms (afa2e885)
2021-07-03T22:53:41.7330405+07:00 0HM9U749MGGNL:00000091 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:41.7331524+07:00 0HM9U749MGGNL:00000091 [INF] Request finished in 5.7857ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:41.7483736+07:00 0HM9U749MGGOA:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=PvWaxKEZxWQU32G73FmV2w   (ca22a1cb)
2021-07-03T22:53:41.7487098+07:00 0HM9U749MGGOA:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:53:41.7564101+07:00 0HM9U749MGGOA:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:41.7574672+07:00 0HM9U749MGGOA:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:53:41.7591383+07:00 0HM9U749MGGOA:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:53:44.8846946+07:00 0HM9U749MGGNI:000000C7 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:53:44.8857246+07:00 0HM9U749MGGNI:000000C7 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:44.8858517+07:00 0HM9U749MGGNI:000000C7 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:44.8859393+07:00 0HM9U749MGGNI:000000C7 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:44.8863089+07:00 0HM9U749MGGNI:000000C7 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:44.8893258+07:00 0HM9U749MGGNI:000000C7 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:53:44.8903227+07:00 0HM9U749MGGNI:000000C7 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:53:44.8910872+07:00 0HM9U749MGGNI:000000C7 [INF] Executed ViewResult - view "Index" executed in 0.7883ms. (f66409e9)
2021-07-03T22:53:44.8911568+07:00 0HM9U749MGGNI:000000C7 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 5.1807ms (afa2e885)
2021-07-03T22:53:44.8911964+07:00 0HM9U749MGGNI:000000C7 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:44.8913600+07:00 0HM9U749MGGNI:000000C7 [INF] Request finished in 6.6946ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:44.9008932+07:00 0HM9U749MGGO8:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:53:44.9010907+07:00 0HM9U749MGGO8:00000001 [INF] Request finished in 172568.4229ms 101  (791a596a)
2021-07-03T22:53:44.9905185+07:00 0HM9U749MGGNI:000000C9 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:53:44.9908628+07:00 0HM9U749MGGNI:000000C9 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:53:44.9910487+07:00 0HM9U749MGGNI:000000C9 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:53:44.9911090+07:00 0HM9U749MGGNI:000000C9 [INF] Request finished in 0.6916ms 200 application/json (791a596a)
2021-07-03T22:53:44.9983139+07:00 0HM9U749MGGNI:000000CB [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:44.9986316+07:00 0HM9U749MGGNI:000000CB [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:44.9986902+07:00 0HM9U749MGGNI:000000CB [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:44.9987443+07:00 0HM9U749MGGNI:000000CB [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:44.9990740+07:00 0HM9U749MGGNI:000000CB [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:44.9997535+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:45.0003627+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:45.0007863+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:45.0011903+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:45.0015724+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:45.0019898+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:45.0024399+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:45.0028891+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:45.0032668+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:45.0036633+07:00 0HM9U749MGGNI:000000CB [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:45.0037656+07:00 0HM9U749MGGNI:000000CB [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:45.0040040+07:00 0HM9U749MGGNI:000000CB [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2378ms. (6f83ade2)
2021-07-03T22:53:45.0040274+07:00 0HM9U749MGGNI:000000CB [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.2605ms (afa2e885)
2021-07-03T22:53:45.0040532+07:00 0HM9U749MGGNI:000000CB [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:45.0041243+07:00 0HM9U749MGGNI:000000CB [INF] Request finished in 5.9175ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:45.0272518+07:00 0HM9U749MGGNI:000000CD [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T22:53:45.0321114+07:00 0HM9U749MGGNI:000000CD [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T22:53:45.0322691+07:00 0HM9U749MGGNI:000000CD [INF] Request finished in 5.1644ms 200 image/png (791a596a)
2021-07-03T22:53:45.0327130+07:00 0HM9U749MGGOB:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=y5Toz5J_OdG3D67hC4fSHg   (ca22a1cb)
2021-07-03T22:53:45.0334092+07:00 0HM9U749MGGOB:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:53:45.0370344+07:00 0HM9U749MGGNI:000000CF [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:53:45.0376518+07:00 0HM9U749MGGNI:000000CF [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:45.0377541+07:00 0HM9U749MGGNI:000000CF [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:45.0378423+07:00 0HM9U749MGGNI:000000CF [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:45.0382364+07:00 0HM9U749MGGNI:000000CF [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:45.0412265+07:00 0HM9U749MGGNI:000000CF [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:53:45.0426490+07:00 0HM9U749MGGNI:000000CF [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:53:45.0437788+07:00 0HM9U749MGGOB:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:45.0441293+07:00 0HM9U749MGGNI:000000CF [INF] Executed ViewResult - view "Index" executed in 1.5647ms. (f66409e9)
2021-07-03T22:53:45.0442869+07:00 0HM9U749MGGNI:000000CF [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.3918ms (afa2e885)
2021-07-03T22:53:45.0443505+07:00 0HM9U749MGGNI:000000CF [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:45.0446708+07:00 0HM9U749MGGNI:000000CF [INF] Request finished in 7.85ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:45.0454248+07:00 0HM9U749MGGOB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:53:45.0474413+07:00 0HM9U749MGGOB:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:53:45.0531307+07:00 0HM9U749MGGOB:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:53:45.0532734+07:00 0HM9U749MGGOB:00000001 [INF] Request finished in 20.566ms 101  (791a596a)
2021-07-03T22:53:45.1694755+07:00 0HM9U749MGGNI:000000D1 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:53:45.1701529+07:00 0HM9U749MGGNI:000000D1 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:53:45.1704976+07:00 0HM9U749MGGNI:000000D1 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:53:45.1706201+07:00 0HM9U749MGGNI:000000D1 [INF] Request finished in 1.3663ms 200 application/json (791a596a)
2021-07-03T22:53:45.1840957+07:00 0HM9U749MGGNI:000000D3 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:45.1845821+07:00 0HM9U749MGGNI:000000D3 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:45.1846866+07:00 0HM9U749MGGNI:000000D3 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:45.1847764+07:00 0HM9U749MGGNI:000000D3 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:45.1853125+07:00 0HM9U749MGGNI:000000D3 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:45.1864839+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:45.1876227+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:45.1884264+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:45.1891998+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:45.1899102+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:45.1906128+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:45.1913720+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:45.1921926+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:45.1930736+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:45.1939598+07:00 0HM9U749MGGNI:000000D3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:45.1943095+07:00 0HM9U749MGGNI:000000D3 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:45.1947248+07:00 0HM9U749MGGNI:000000D3 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4511ms. (6f83ade2)
2021-07-03T22:53:45.1947979+07:00 0HM9U749MGGNI:000000D3 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.9684ms (afa2e885)
2021-07-03T22:53:45.1948579+07:00 0HM9U749MGGNI:000000D3 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:45.1950284+07:00 0HM9U749MGGNI:000000D3 [INF] Request finished in 11.2824ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:45.2104475+07:00 0HM9U749MGGOC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=oc5o94h5MAJ-kAFgTaSo-A   (ca22a1cb)
2021-07-03T22:53:45.2107378+07:00 0HM9U749MGGOC:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:53:45.2175687+07:00 0HM9U749MGGOC:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:45.2180450+07:00 0HM9U749MGGOC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:53:45.2186616+07:00 0HM9U749MGGOC:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:53:45.8442260+07:00 0HM9U749MGGNI:000000D5 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327625073   (ca22a1cb)
2021-07-03T22:53:45.8457366+07:00 0HM9U749MGGNI:000000D7 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:53:45.8465167+07:00 0HM9U749MGGNI:000000D5 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:45.8469228+07:00 0HM9U749MGGNI:000000D7 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:45.8470813+07:00 0HM9U749MGGNI:000000D7 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:45.8470814+07:00 0HM9U749MGGNI:000000D5 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:45.8472157+07:00 0HM9U749MGGNI:000000D7 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:45.8472356+07:00 0HM9U749MGGNI:000000D5 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:45.8479717+07:00 0HM9U749MGGNI:000000D5 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:45.8481517+07:00 0HM9U749MGGNI:000000D7 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:45.8502629+07:00 0HM9U749MGGNI:000000D5 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:45.8515738+07:00 0HM9U749MGGNI:000000D5 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:45.8547488+07:00 0HM9U749MGGNI:000000D7 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:45.8549092+07:00 0HM9U749MGGNI:000000D7 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:53:45.8551782+07:00 0HM9U749MGGNI:000000D7 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 7.8834ms (afa2e885)
2021-07-03T22:53:45.8552325+07:00 0HM9U749MGGNI:000000D7 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:45.8554314+07:00 0HM9U749MGGNI:000000D7 [INF] Request finished in 9.8765ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:45.8590652+07:00 0HM9U749MGGNI:000000D5 [INF] Executed DbCommand ("6"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:45.8592232+07:00 0HM9U749MGGNI:000000D5 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:53:45.8598107+07:00 0HM9U749MGGNI:000000D5 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.5351ms. (6f83ade2)
2021-07-03T22:53:45.8599477+07:00 0HM9U749MGGNI:000000D5 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 12.6324ms (afa2e885)
2021-07-03T22:53:45.8600467+07:00 0HM9U749MGGNI:000000D5 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:45.8602473+07:00 0HM9U749MGGNI:000000D5 [INF] Request finished in 16.2709ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:46.5924986+07:00 0HM9U749MGGNI:000000D9 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:53:46.5931132+07:00 0HM9U749MGGNI:000000D9 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:46.5932344+07:00 0HM9U749MGGNI:000000D9 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:46.5933186+07:00 0HM9U749MGGNI:000000D9 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:46.5940233+07:00 0HM9U749MGGNI:000000D9 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:46.5949363+07:00 0HM9U749MGGNI:000000D9 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:46.5970118+07:00 0HM9U749MGGNI:000000D9 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:46.6017415+07:00 0HM9U749MGGNI:000000D9 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:46.6024752+07:00 0HM9U749MGGNI:000000D9 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:46.6031017+07:00 0HM9U749MGGNI:000000D9 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:53:46.6034936+07:00 0HM9U749MGGNI:000000D9 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 10.1392ms (afa2e885)
2021-07-03T22:53:46.6035225+07:00 0HM9U749MGGNI:000000D9 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:46.6036196+07:00 0HM9U749MGGNI:000000D9 [INF] Request finished in 11.4042ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:47.5712509+07:00 0HM9U749MGGNI:000000DB [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:53:47.5716190+07:00 0HM9U749MGGNI:000000DB [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:47.5718050+07:00 0HM9U749MGGNI:000000DB [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:47.5718953+07:00 0HM9U749MGGNI:000000DB [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:47.5723389+07:00 0HM9U749MGGNI:000000DB [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:47.5736883+07:00 0HM9U749MGGNI:000000DB [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T22:53:47.5753206+07:00 0HM9U749MGGNI:000000DB [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T22:53:47.5763394+07:00 0HM9U749MGGNI:000000DB [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:47.5786597+07:00 0HM9U749MGGNI:000000DB [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:47.5787465+07:00 0HM9U749MGGNI:000000DB [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T22:53:47.5789660+07:00 0HM9U749MGGNI:000000DB [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 7.0361ms (afa2e885)
2021-07-03T22:53:47.5789866+07:00 0HM9U749MGGNI:000000DB [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:47.5790507+07:00 0HM9U749MGGNI:000000DB [INF] Request finished in 8.0914ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:48.4843525+07:00 0HM9U749MGGNI:000000DD [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryD9U5qFMAp22HKbok 889 (ca22a1cb)
2021-07-03T22:53:48.4847738+07:00 0HM9U749MGGNI:000000DD [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:48.4848617+07:00 0HM9U749MGGNI:000000DD [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:48.4849153+07:00 0HM9U749MGGNI:000000DD [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:48.4858059+07:00 0HM9U749MGGNI:000000DD [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:48.4868185+07:00 0HM9U749MGGNI:000000DD [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T22:53:48.4888110+07:00 0HM9U749MGGNI:000000DD [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:53:48.4899413+07:00 0HM9U749MGGNI:000000DD [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T22:53:48.4971535+07:00 0HM9U749MGGNI:000000DD [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:53:48.4978606+07:00 0HM9U749MGGNI:000000DD [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T22:53:48.4980505+07:00 0HM9U749MGGNI:000000DD [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 13.113ms (afa2e885)
2021-07-03T22:53:48.4980749+07:00 0HM9U749MGGNI:000000DD [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:48.4981912+07:00 0HM9U749MGGNI:000000DD [INF] Request finished in 14.0691ms 302  (791a596a)
2021-07-03T22:53:48.5076533+07:00 0HM9U749MGGNI:000000DF [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:53:48.5079096+07:00 0HM9U749MGGNI:000000DF [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:48.5079611+07:00 0HM9U749MGGNI:000000DF [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:48.5080087+07:00 0HM9U749MGGNI:000000DF [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:48.5082320+07:00 0HM9U749MGGNI:000000DF [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:48.5116872+07:00 0HM9U749MGGNI:000000DF [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:53:48.5132673+07:00 0HM9U749MGGNI:000000DF [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:53:48.5142923+07:00 0HM9U749MGGNI:000000DF [INF] Executed ViewResult - view "Index" executed in 1.0407ms. (f66409e9)
2021-07-03T22:53:48.5143548+07:00 0HM9U749MGGNI:000000DF [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.3267ms (afa2e885)
2021-07-03T22:53:48.5143993+07:00 0HM9U749MGGNI:000000DF [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:48.5145466+07:00 0HM9U749MGGNI:000000DF [INF] Request finished in 6.9061ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:48.5214050+07:00 0HM9U749MGGOC:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T22:53:48.5215524+07:00 0HM9U749MGGOC:00000001 [INF] Request finished in 3311.122ms 101  (791a596a)
2021-07-03T22:53:48.6082531+07:00 0HM9U749MGGNI:000000E1 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T22:53:48.6087776+07:00 0HM9U749MGGNI:000000E1 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T22:53:48.6090860+07:00 0HM9U749MGGNI:000000E1 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T22:53:48.6092093+07:00 0HM9U749MGGNI:000000E1 [INF] Request finished in 1.0492ms 200 application/json (791a596a)
2021-07-03T22:53:48.6157319+07:00 0HM9U749MGGNI:000000E3 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:48.6160085+07:00 0HM9U749MGGNI:000000E3 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:48.6160671+07:00 0HM9U749MGGNI:000000E3 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:48.6161270+07:00 0HM9U749MGGNI:000000E3 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:48.6164034+07:00 0HM9U749MGGNI:000000E3 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:48.6170239+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:48.6176157+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:48.6179465+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:48.6183197+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:48.6186734+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:48.6190452+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:48.6194728+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:48.6199082+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:48.6203747+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:48.6208744+07:00 0HM9U749MGGNI:000000E3 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:48.6209899+07:00 0HM9U749MGGNI:000000E3 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:48.6212689+07:00 0HM9U749MGGNI:000000E3 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2836ms. (6f83ade2)
2021-07-03T22:53:48.6212920+07:00 0HM9U749MGGNI:000000E3 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.1489ms (afa2e885)
2021-07-03T22:53:48.6213118+07:00 0HM9U749MGGNI:000000E3 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:48.6213797+07:00 0HM9U749MGGNI:000000E3 [INF] Request finished in 5.6952ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:48.6433806+07:00 0HM9U749MGGOD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=iwvnq-CY3JUtMQm1gD1Vnw   (ca22a1cb)
2021-07-03T22:53:48.6437579+07:00 0HM9U749MGGOD:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T22:53:48.6514151+07:00 0HM9U749MGGOD:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:48.6518397+07:00 0HM9U749MGGOD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T22:53:48.6524723+07:00 0HM9U749MGGOD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T22:53:49.7163846+07:00 0HM9U749MGGNI:000000E5 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327628547   (ca22a1cb)
2021-07-03T22:53:49.7173774+07:00 0HM9U749MGGNI:000000E5 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:49.7174908+07:00 0HM9U749MGGNI:000000E5 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:49.7175650+07:00 0HM9U749MGGNI:000000E5 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:49.7181849+07:00 0HM9U749MGGNI:000000E5 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:49.7201285+07:00 0HM9U749MGGNI:000000E5 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:49.7231120+07:00 0HM9U749MGGNI:000000E5 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:49.7239011+07:00 0HM9U749MGGNI:000000E7 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:53:49.7245405+07:00 0HM9U749MGGNI:000000E7 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:49.7247276+07:00 0HM9U749MGGNI:000000E7 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:49.7248102+07:00 0HM9U749MGGNI:000000E7 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:49.7255631+07:00 0HM9U749MGGNI:000000E7 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:49.7299378+07:00 0HM9U749MGGNI:000000E5 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:49.7300741+07:00 0HM9U749MGGNI:000000E5 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:53:49.7301810+07:00 0HM9U749MGGNI:000000E7 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:49.7302904+07:00 0HM9U749MGGNI:000000E7 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:53:49.7304037+07:00 0HM9U749MGGNI:000000E5 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.3488ms. (6f83ade2)
2021-07-03T22:53:49.7304371+07:00 0HM9U749MGGNI:000000E5 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 12.8463ms (afa2e885)
2021-07-03T22:53:49.7304433+07:00 0HM9U749MGGNI:000000E7 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 5.5861ms (afa2e885)
2021-07-03T22:53:49.7304594+07:00 0HM9U749MGGNI:000000E5 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:49.7304867+07:00 0HM9U749MGGNI:000000E7 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:49.7305484+07:00 0HM9U749MGGNI:000000E5 [INF] Request finished in 14.2106ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:49.7305634+07:00 0HM9U749MGGNI:000000E7 [INF] Request finished in 6.7409ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:50.9179695+07:00 0HM9U749MGGNI:000000E9 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:53:50.9183683+07:00 0HM9U749MGGNI:000000E9 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:50.9184595+07:00 0HM9U749MGGNI:000000E9 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:50.9186001+07:00 0HM9U749MGGNI:000000E9 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:50.9191867+07:00 0HM9U749MGGNI:000000E9 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:50.9207142+07:00 0HM9U749MGGNI:000000E9 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:50.9226674+07:00 0HM9U749MGGNI:000000E9 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:50.9291799+07:00 0HM9U749MGGNI:000000E9 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:50.9306405+07:00 0HM9U749MGGNI:000000E9 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:50.9318603+07:00 0HM9U749MGGNI:000000E9 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:53:50.9324697+07:00 0HM9U749MGGNI:000000E9 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 13.8275ms (afa2e885)
2021-07-03T22:53:50.9325154+07:00 0HM9U749MGGNI:000000E9 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:50.9326522+07:00 0HM9U749MGGNI:000000E9 [INF] Request finished in 14.703ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:55.5177069+07:00 0HM9U749MGGNL:00000093 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:55.5188860+07:00 0HM9U749MGGNL:00000093 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:55.5190066+07:00 0HM9U749MGGNL:00000093 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:55.5191079+07:00 0HM9U749MGGNL:00000093 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:55.5196685+07:00 0HM9U749MGGNL:00000093 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:55.5236869+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:55.5288857+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:55.5305734+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:55.5328161+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:55.5352890+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("2"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:55.5382760+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:55.5409221+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:55.5418436+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:55.5425378+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:55.5432375+07:00 0HM9U749MGGNL:00000093 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:55.5433542+07:00 0HM9U749MGGNL:00000093 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:55.5436981+07:00 0HM9U749MGGNL:00000093 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3378ms. (6f83ade2)
2021-07-03T22:53:55.5437408+07:00 0HM9U749MGGNL:00000093 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 24.5948ms (afa2e885)
2021-07-03T22:53:55.5437937+07:00 0HM9U749MGGNL:00000093 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:55.5439223+07:00 0HM9U749MGGNL:00000093 [INF] Request finished in 26.2308ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:55.8906922+07:00 0HM9U749MGGNL:00000095 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:55.8911917+07:00 0HM9U749MGGNL:00000095 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:55.8913035+07:00 0HM9U749MGGNL:00000095 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:55.8913974+07:00 0HM9U749MGGNL:00000095 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:55.8919233+07:00 0HM9U749MGGNL:00000095 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:55.8930484+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:55.8941709+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:55.8950692+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:55.8960384+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:55.8969578+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:55.8979380+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:55.8990115+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:55.9001355+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:55.9010678+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:55.9020157+07:00 0HM9U749MGGNL:00000095 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:55.9022280+07:00 0HM9U749MGGNL:00000095 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:55.9026364+07:00 0HM9U749MGGNL:00000095 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4266ms. (6f83ade2)
2021-07-03T22:53:55.9026908+07:00 0HM9U749MGGNL:00000095 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 11.2508ms (afa2e885)
2021-07-03T22:53:55.9027212+07:00 0HM9U749MGGNL:00000095 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:55.9028545+07:00 0HM9U749MGGNL:00000095 [INF] Request finished in 12.1874ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:56.0483843+07:00 0HM9U749MGGNL:00000097 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T22:53:56.0486879+07:00 0HM9U749MGGNL:00000097 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:56.0487407+07:00 0HM9U749MGGNL:00000097 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:56.0487938+07:00 0HM9U749MGGNL:00000097 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:56.0490656+07:00 0HM9U749MGGNL:00000097 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:56.0496408+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:56.0501499+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:56.0505394+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:56.0509790+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T22:53:56.0514450+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T22:53:56.0519070+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T22:53:56.0523556+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:56.0528129+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:56.0532188+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:56.0536263+07:00 0HM9U749MGGNL:00000097 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T22:53:56.0537273+07:00 0HM9U749MGGNL:00000097 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T22:53:56.0539706+07:00 0HM9U749MGGNL:00000097 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.2444ms. (6f83ade2)
2021-07-03T22:53:56.0539920+07:00 0HM9U749MGGNL:00000097 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 5.1789ms (afa2e885)
2021-07-03T22:53:56.0540100+07:00 0HM9U749MGGNL:00000097 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:56.0540720+07:00 0HM9U749MGGNL:00000097 [INF] Request finished in 5.7106ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:56.6413084+07:00 0HM9U749MGGNL:00000099 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625327621653   (ca22a1cb)
2021-07-03T22:53:56.6417832+07:00 0HM9U749MGGNL:00000099 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:56.6418548+07:00 0HM9U749MGGNL:00000099 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:56.6419212+07:00 0HM9U749MGGNL:00000099 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:56.6423239+07:00 0HM9U749MGGNL:00000099 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:56.6438690+07:00 0HM9U749MGGNL:00000099 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:56.6442729+07:00 0HM9U749MGGNL:0000009B [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T22:53:56.6452883+07:00 0HM9U749MGGNL:0000009B [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:56.6454789+07:00 0HM9U749MGGNL:0000009B [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:56.6455685+07:00 0HM9U749MGGNL:0000009B [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:56.6455778+07:00 0HM9U749MGGNL:00000099 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:56.6463621+07:00 0HM9U749MGGNL:0000009B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:56.6499352+07:00 0HM9U749MGGNL:00000099 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:56.6500435+07:00 0HM9U749MGGNL:0000009B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T22:53:56.6500851+07:00 0HM9U749MGGNL:00000099 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T22:53:56.6501547+07:00 0HM9U749MGGNL:0000009B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:53:56.6503667+07:00 0HM9U749MGGNL:0000009B [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.7581ms (afa2e885)
2021-07-03T22:53:56.6504053+07:00 0HM9U749MGGNL:0000009B [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:56.6505115+07:00 0HM9U749MGGNL:0000009B [INF] Request finished in 6.2521ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:56.6505229+07:00 0HM9U749MGGNL:00000099 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.4425ms. (6f83ade2)
2021-07-03T22:53:56.6505927+07:00 0HM9U749MGGNL:00000099 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 8.6234ms (afa2e885)
2021-07-03T22:53:56.6506327+07:00 0HM9U749MGGNL:00000099 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:56.6507779+07:00 0HM9U749MGGNL:00000099 [INF] Request finished in 9.6433ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:53:57.4250893+07:00 0HM9U749MGGNL:0000009D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T22:53:57.4255540+07:00 0HM9U749MGGNL:0000009D [INF] Authorization was successful. (0d575a54)
2021-07-03T22:53:57.4256649+07:00 0HM9U749MGGNL:0000009D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T22:53:57.4257600+07:00 0HM9U749MGGNL:0000009D [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:53:57.4262844+07:00 0HM9U749MGGNL:0000009D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:53:57.4270678+07:00 0HM9U749MGGNL:0000009D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:57.4293177+07:00 0HM9U749MGGNL:0000009D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:53:57.4331673+07:00 0HM9U749MGGNL:0000009D [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T22:53:57.4337975+07:00 0HM9U749MGGNL:0000009D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T22:53:57.4343802+07:00 0HM9U749MGGNL:0000009D [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T22:53:57.4347216+07:00 0HM9U749MGGNL:0000009D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 8.9199ms (afa2e885)
2021-07-03T22:53:57.4347473+07:00 0HM9U749MGGNL:0000009D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:53:57.4348383+07:00 0HM9U749MGGNL:0000009D [INF] Request finished in 9.8681ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:53:59.3771600+07:00 0HM9U749MGGNL:0000009F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T22:53:59.3824526+07:00 0HM9U749MGGNL:0000009F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T22:53:59.3825924+07:00 0HM9U749MGGNL:0000009F [INF] Request finished in 5.5877ms 200 text/plain (791a596a)
2021-07-03T22:53:59.3847477+07:00 0HM9U749MGGNL:000000A1 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T22:53:59.3853252+07:00 0HM9U749MGGNL:000000A1 [INF] Request finished in 0.7315ms 404  (791a596a)
2021-07-03T22:54:09.4669539+07:00 0HM9U749MGGNI:000000EB [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T22:54:09.4680636+07:00 0HM9U749MGGNI:000000EB [INF] Authorization was successful. (0d575a54)
2021-07-03T22:54:09.4682462+07:00 0HM9U749MGGNI:000000EB [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T22:54:09.4683487+07:00 0HM9U749MGGNI:000000EB [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:54:09.4694694+07:00 0HM9U749MGGNI:000000EB [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:54:09.4724998+07:00 0HM9U749MGGNI:000000EB [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T22:54:09.4739839+07:00 0HM9U749MGGNI:000000EB [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T22:54:09.4759323+07:00 0HM9U749MGGNI:000000EB [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T22:54:09.4840101+07:00 0HM9U749MGGNI:000000EB [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T22:54:09.4844113+07:00 0HM9U749MGGNI:000000EB [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T22:54:09.4846502+07:00 0HM9U749MGGNI:000000EB [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 16.2642ms (afa2e885)
2021-07-03T22:54:09.4846960+07:00 0HM9U749MGGNI:000000EB [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:54:09.4848162+07:00 0HM9U749MGGNI:000000EB [INF] Request finished in 17.9036ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T22:54:41.9912250+07:00 0HM9U749MGGNL:000000A3 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T22:54:41.9918680+07:00 0HM9U749MGGNL:000000A3 [INF] Authorization was successful. (0d575a54)
2021-07-03T22:54:41.9919466+07:00 0HM9U749MGGNL:000000A3 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T22:54:41.9920092+07:00 0HM9U749MGGNL:000000A3 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T22:54:41.9925783+07:00 0HM9U749MGGNL:000000A3 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T22:54:41.9973386+07:00 0HM9U749MGGNL:000000A3 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T22:54:41.9978240+07:00 0HM9U749MGGNL:000000A3 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T22:54:41.9992301+07:00 0HM9U749MGGNL:000000A3 [INF] Executed ViewResult - view "Index" executed in 1.4398ms. (f66409e9)
2021-07-03T22:54:41.9994166+07:00 0HM9U749MGGNL:000000A3 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.3581ms (afa2e885)
2021-07-03T22:54:41.9994884+07:00 0HM9U749MGGNL:000000A3 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T22:54:42.0003191+07:00 0HM9U749MGGNL:000000A3 [INF] Request finished in 9.1625ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T22:54:42.2189643+07:00 0HM9U749MGGNL:000000A5 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico   (ca22a1cb)
2021-07-03T22:54:42.5194060+07:00 0HM9U749MGGNL:000000A5 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\favicon.ico"' (27b0a520)
2021-07-03T22:54:42.5195847+07:00 0HM9U749MGGNL:000000A5 [INF] Request finished in 300.6605ms 200 image/x-icon (791a596a)
2021-07-03T23:00:59.0838930+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T23:00:59.7313148+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T23:00:59.7357484+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T23:00:59.7375600+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T23:00:59.7388978+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T23:01:00.9577054+07:00 0HM9U7F06I2MR:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:01:01.1751756+07:00 0HM9U7F06I2MR:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:01.1903587+07:00 0HM9U7F06I2MR:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:01.2330171+07:00 0HM9U7F06I2MR:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:01.2454678+07:00 0HM9U7F06I2MR:00000001 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:01:01.2722861+07:00 0HM9U7F06I2MR:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:01:01.2778648+07:00 0HM9U7F06I2MR:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 39.7759ms (afa2e885)
2021-07-03T23:01:01.2779348+07:00 0HM9U7F06I2MR:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:01.2881226+07:00 0HM9U7F06I2MR:00000001 [INF] Request finished in 333.5641ms 302  (791a596a)
2021-07-03T23:01:01.2992545+07:00 0HM9U7F06I2MR:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:01:01.3047465+07:00 0HM9U7F06I2MR:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:01.3062631+07:00 0HM9U7F06I2MR:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:01.3516914+07:00 0HM9U7F06I2MR:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:01:01.6185611+07:00 0HM9U7F06I2MR:00000003 [INF] Executed ViewResult - view "Login" executed in 308.7758ms. (f66409e9)
2021-07-03T23:01:01.6187132+07:00 0HM9U7F06I2MR:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 312.3921ms (afa2e885)
2021-07-03T23:01:01.6187766+07:00 0HM9U7F06I2MR:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:01.6219856+07:00 0HM9U7F06I2MR:00000003 [INF] Request finished in 322.7071ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:02.1359029+07:00 0HM9U7F06I2MR:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:01:02.1538577+07:00 0HM9U7F06I2MS:00000001 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:01:02.1661088+07:00 0HM9U7F06I2MS:00000001 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:01:02.1661088+07:00 0HM9U7F06I2MR:00000005 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:01:02.1872856+07:00 0HM9U7F06I2MR:00000005 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:01:02.1872918+07:00 0HM9U7F06I2MS:00000001 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:01:02.1876563+07:00 0HM9U7F06I2MR:00000005 [INF] Request finished in 52.0899ms 200 application/json (791a596a)
2021-07-03T23:01:02.1876563+07:00 0HM9U7F06I2MS:00000001 [INF] Request finished in 34.1617ms 200 application/json (791a596a)
2021-07-03T23:01:02.2065139+07:00 0HM9U7F06I2MT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=pkpKEOg5UM0riOFrS6r4FA   (ca22a1cb)
2021-07-03T23:01:02.2073815+07:00 0HM9U7F06I2MT:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:01:02.2117116+07:00 0HM9U7F06I2MU:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=JECARPwqdcijFc2tlTQ5NQ   (ca22a1cb)
2021-07-03T23:01:02.2124145+07:00 0HM9U7F06I2MU:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:01:02.7352496+07:00 0HM9U7F06I2MU:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:01:02.7389547+07:00 0HM9U7F06I2MU:00000001 [INF] Request finished in 527.0786ms 101  (791a596a)
2021-07-03T23:01:09.1201112+07:00 0HM9U7F06I2MR:00000007 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:01:09.1230742+07:00 0HM9U7F06I2MR:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:09.1385032+07:00 0HM9U7F06I2MR:00000007 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:09.1786076+07:00 0HM9U7F06I2MR:00000007 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:01:10.0191482+07:00 0HM9U7F06I2MR:00000007 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:01:10.0220134+07:00 0HM9U7F06I2MR:00000007 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:01:10.1360243+07:00 0HM9U7F06I2MR:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:10.8717429+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("48"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:01:10.9346649+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:01:11.1349087+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:01:11.1692325+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:01:11.1757961+07:00 0HM9U7F06I2MR:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:01:11.1823122+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:01:11.1896706+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:01:11.2951148+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:01:11.3138794+07:00 0HM9U7F06I2MR:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:11.3450065+07:00 0HM9U7F06I2MR:00000007 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:01:11.3460028+07:00 0HM9U7F06I2MR:00000007 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2207.4162ms (afa2e885)
2021-07-03T23:01:11.3460591+07:00 0HM9U7F06I2MR:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:11.3466109+07:00 0HM9U7F06I2MR:00000007 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"94df110e-5514-a21d-961d-b2653344217c" (1d7cf8c0)
2021-07-03T23:01:11.3509288+07:00 0HM9U7F06I2MR:00000007 [INF] Request finished in 2231.3801ms 302  (791a596a)
2021-07-03T23:01:11.3597089+07:00 0HM9U7F06I2MR:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:01:11.3603555+07:00 0HM9U7F06I2MR:00000009 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:11.3604426+07:00 0HM9U7F06I2MR:00000009 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:11.3606276+07:00 0HM9U7F06I2MR:00000009 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:11.3899931+07:00 0HM9U7F06I2MR:00000009 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:11.4033364+07:00 0HM9U7F06I2MR:00000009 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:01:11.4078997+07:00 0HM9U7F06I2MR:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:01:11.4531692+07:00 0HM9U7F06I2MR:00000009 [INF] Executed ViewResult - view "Index" executed in 47.4783ms. (f66409e9)
2021-07-03T23:01:11.4533344+07:00 0HM9U7F06I2MR:00000009 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 92.6549ms (afa2e885)
2021-07-03T23:01:11.4534354+07:00 0HM9U7F06I2MR:00000009 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:11.4537603+07:00 0HM9U7F06I2MR:00000009 [INF] Request finished in 94.0548ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:11.6861339+07:00 0HM9U7F06I2MR:0000000B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:01:11.6908191+07:00 0HM9U7F06I2MR:0000000B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:01:11.6933858+07:00 0HM9U7F06I2MR:0000000B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:01:11.6943826+07:00 0HM9U7F06I2MR:0000000B [INF] Request finished in 8.578ms 200 application/json (791a596a)
2021-07-03T23:01:11.7000819+07:00 0HM9U7F06I2MR:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:01:11.7028170+07:00 0HM9U7F06I2MR:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:11.7032765+07:00 0HM9U7F06I2MR:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:11.7085178+07:00 0HM9U7F06I2MR:0000000D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:11.7258653+07:00 0HM9U7F06I2MV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=sriS-NAHC5qErTS_tVRaWQ   (ca22a1cb)
2021-07-03T23:01:11.7277638+07:00 0HM9U7F06I2MR:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:11.7281126+07:00 0HM9U7F06I2MV:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:01:11.7433722+07:00 0HM9U7F06I2MV:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:11.7514348+07:00 0HM9U7F06I2MV:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:01:11.7518582+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:11.7849699+07:00 0HM9U7F06I2MV:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:01:11.7875974+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:11.7918803+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:11.8001176+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:01:11.8199273+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:01:11.8296235+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:01:11.8381079+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:11.8398029+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:11.8406203+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:11.8419577+07:00 0HM9U7F06I2MR:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:11.8506233+07:00 0HM9U7F06I2MR:0000000D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:01:11.8587792+07:00 0HM9U7F06I2MR:0000000D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 11.5761ms. (6f83ade2)
2021-07-03T23:01:11.8588604+07:00 0HM9U7F06I2MR:0000000D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 150.2247ms (afa2e885)
2021-07-03T23:01:11.8588915+07:00 0HM9U7F06I2MR:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:11.8590806+07:00 0HM9U7F06I2MR:0000000D [INF] Request finished in 159.1401ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:17.8331332+07:00 0HM9U7F06I2MS:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:01:17.8352833+07:00 0HM9U7F06I2MS:00000003 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:17.8354395+07:00 0HM9U7F06I2MS:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:17.8356669+07:00 0HM9U7F06I2MS:00000003 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:17.8358454+07:00 0HM9U7F06I2MS:00000003 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T23:01:17.8362301+07:00 0HM9U7F06I2MS:00000003 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:01:17.8363768+07:00 0HM9U7F06I2MS:00000003 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 0.6413ms (afa2e885)
2021-07-03T23:01:17.8364053+07:00 0HM9U7F06I2MS:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:17.8367360+07:00 0HM9U7F06I2MS:00000003 [INF] Request finished in 3.8336ms 302  (791a596a)
2021-07-03T23:01:17.8427719+07:00 0HM9U7F06I2MS:00000005 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:01:17.8431551+07:00 0HM9U7F06I2MS:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:17.8432244+07:00 0HM9U7F06I2MS:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:17.8455580+07:00 0HM9U7F06I2MS:00000005 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:01:17.8532429+07:00 0HM9U7F06I2MS:00000005 [INF] Executed ViewResult - view "Login" executed in 8.0721ms. (f66409e9)
2021-07-03T23:01:17.8533272+07:00 0HM9U7F06I2MS:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 10.0765ms (afa2e885)
2021-07-03T23:01:17.8533911+07:00 0HM9U7F06I2MS:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:17.8535292+07:00 0HM9U7F06I2MS:00000005 [INF] Request finished in 10.763ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:17.8619708+07:00 0HM9U7F06I2MT:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:01:17.8621484+07:00 0HM9U7F06I2MT:00000001 [INF] Request finished in 15655.7182ms 101  (791a596a)
2021-07-03T23:01:20.7994776+07:00 0HM9U7F06I2MS:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-ky   (ca22a1cb)
2021-07-03T23:01:20.8014477+07:00 0HM9U7F06I2MS:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Register (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:20.8063825+07:00 0HM9U7F06I2MS:00000007 [INF] Route matched with "{action = \"Register\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Register()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:20.8100812+07:00 0HM9U7F06I2MS:00000007 [INF] Executing ViewResult, running view "Register". (c83d0e25)
2021-07-03T23:01:20.8411464+07:00 0HM9U7F06I2MS:00000007 [INF] Executed ViewResult - view "Register" executed in 34.045ms. (f66409e9)
2021-07-03T23:01:20.8412062+07:00 0HM9U7F06I2MS:00000007 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Register (WebChat.WebApp)" in 34.682ms (afa2e885)
2021-07-03T23:01:20.8412266+07:00 0HM9U7F06I2MS:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Register (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:20.8414453+07:00 0HM9U7F06I2MS:00000007 [INF] Request finished in 42.2366ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:25.2451856+07:00 0HM9U7F06I2MS:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:01:25.2468262+07:00 0HM9U7F06I2MS:00000009 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:25.2471429+07:00 0HM9U7F06I2MS:00000009 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:25.2476255+07:00 0HM9U7F06I2MS:00000009 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:01:25.2552163+07:00 0HM9U7F06I2MS:00000009 [INF] Executed ViewResult - view "Login" executed in 7.6752ms. (f66409e9)
2021-07-03T23:01:25.2553457+07:00 0HM9U7F06I2MS:00000009 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 8.1055ms (afa2e885)
2021-07-03T23:01:25.2554715+07:00 0HM9U7F06I2MS:00000009 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:25.2559614+07:00 0HM9U7F06I2MS:00000009 [INF] Request finished in 10.8516ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:34.8793903+07:00 0HM9U7F06I2MS:0000000B [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:01:34.8817969+07:00 0HM9U7F06I2MS:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:34.8823538+07:00 0HM9U7F06I2MS:0000000B [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:34.8843077+07:00 0HM9U7F06I2MS:0000000B [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T23:01:34.8848969+07:00 0HM9U7F06I2MS:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:34.8877279+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:01:34.8910049+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:01:34.9034037+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:01:34.9067784+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:01:34.9074306+07:00 0HM9U7F06I2MS:0000000B [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:01:34.9092516+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:01:34.9104718+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:01:34.9149812+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:01:34.9217266+07:00 0HM9U7F06I2MS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:34.9226220+07:00 0HM9U7F06I2MS:0000000B [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:01:34.9227690+07:00 0HM9U7F06I2MS:0000000B [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 40.3325ms (afa2e885)
2021-07-03T23:01:34.9228081+07:00 0HM9U7F06I2MS:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:34.9229192+07:00 0HM9U7F06I2MS:0000000B [INF] Session started; Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88", Id:"62695b2c-fc8c-5e53-0f7a-654fa6f8b0af" (1d7cf8c0)
2021-07-03T23:01:34.9234363+07:00 0HM9U7F06I2MS:0000000B [INF] Request finished in 44.8926ms 302  (791a596a)
2021-07-03T23:01:34.9274209+07:00 0HM9U7F06I2MS:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:01:34.9279281+07:00 0HM9U7F06I2MS:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:34.9279946+07:00 0HM9U7F06I2MS:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:34.9280518+07:00 0HM9U7F06I2MS:0000000D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:34.9283395+07:00 0HM9U7F06I2MS:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:34.9322126+07:00 0HM9U7F06I2MS:0000000D [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:01:34.9330861+07:00 0HM9U7F06I2MS:0000000D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:01:34.9353398+07:00 0HM9U7F06I2MS:0000000D [INF] Executed ViewResult - view "Index" executed in 2.3172ms. (f66409e9)
2021-07-03T23:01:34.9354416+07:00 0HM9U7F06I2MS:0000000D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.3651ms (afa2e885)
2021-07-03T23:01:34.9355066+07:00 0HM9U7F06I2MS:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:34.9358684+07:00 0HM9U7F06I2MS:0000000D [INF] Request finished in 8.4372ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:35.0106206+07:00 0HM9U7F06I2MS:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:01:35.0162346+07:00 0HM9U7F06I2MS:0000000F [INF] Request finished in 6.0831ms 404  (791a596a)
2021-07-03T23:01:35.0784176+07:00 0HM9U7F06I2MS:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:01:35.1071993+07:00 0HM9U7F06I2MS:00000011 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:01:35.1074563+07:00 0HM9U7F06I2MS:00000011 [INF] Request finished in 29.0891ms 200 text/plain (791a596a)
2021-07-03T23:01:35.2598742+07:00 0HM9U7F06I2MS:00000013 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:01:35.2603533+07:00 0HM9U7F06I2MS:00000013 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:01:35.2610490+07:00 0HM9U7F06I2MS:00000013 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:01:35.2611863+07:00 0HM9U7F06I2MS:00000013 [INF] Request finished in 1.4811ms 200 application/json (791a596a)
2021-07-03T23:01:35.2770784+07:00 0HM9U7F06I2MS:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:01:35.2818169+07:00 0HM9U7F06I2MS:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:35.2819909+07:00 0HM9U7F06I2MS:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:35.2821036+07:00 0HM9U7F06I2MS:00000015 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:35.2833294+07:00 0HM9U7F06I2MS:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:35.2876173+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:35.2917159+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:35.2929349+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:35.2944192+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:01:35.2976532+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("3"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:01:35.3011678+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:01:35.3038775+07:00 0HM9U7F06I2MS:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:35.3053377+07:00 0HM9U7F06I2MS:00000015 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:01:35.3065461+07:00 0HM9U7F06I2MS:00000015 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.2688ms. (6f83ade2)
2021-07-03T23:01:35.3065555+07:00 0HM9U7F06I2N0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=_nr4LeOTbd2nPNvaGrlIbw   (ca22a1cb)
2021-07-03T23:01:35.3066150+07:00 0HM9U7F06I2MS:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 24.4693ms (afa2e885)
2021-07-03T23:01:35.3066511+07:00 0HM9U7F06I2MS:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:35.3068370+07:00 0HM9U7F06I2MS:00000015 [INF] Request finished in 29.8756ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:35.3070954+07:00 0HM9U7F06I2N0:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:01:35.3251198+07:00 0HM9U7F06I2N0:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:35.3273679+07:00 0HM9U7F06I2N0:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:01:35.3335195+07:00 0HM9U7F06I2N0:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:01:37.2405148+07:00 0HM9U7F06I2MR:0000000F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:01:37.2420841+07:00 0HM9U7F06I2MR:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328071498   (ca22a1cb)
2021-07-03T23:01:37.2450493+07:00 0HM9U7F06I2MR:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:37.2452346+07:00 0HM9U7F06I2MR:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:37.2460120+07:00 0HM9U7F06I2MR:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:37.2460107+07:00 0HM9U7F06I2MR:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:37.2492956+07:00 0HM9U7F06I2MR:0000000F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:37.2492950+07:00 0HM9U7F06I2MR:00000011 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:37.2548882+07:00 0HM9U7F06I2MR:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:37.2548878+07:00 0HM9U7F06I2MR:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:37.2621441+07:00 0HM9U7F06I2MR:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:37.2680189+07:00 0HM9U7F06I2MR:0000000F [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:37.2700302+07:00 0HM9U7F06I2MR:0000000F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:01:37.2781528+07:00 0HM9U7F06I2MR:0000000F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 28.7403ms (afa2e885)
2021-07-03T23:01:37.2782127+07:00 0HM9U7F06I2MR:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:37.2785806+07:00 0HM9U7F06I2MR:0000000F [INF] Request finished in 38.1981ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:37.2892726+07:00 0HM9U7F06I2MR:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:37.3189447+07:00 0HM9U7F06I2MR:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:37.3225053+07:00 0HM9U7F06I2MR:00000011 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:01:37.3289183+07:00 0HM9U7F06I2MR:00000011 [INF] Executed PartialViewResult - view "_ChatForm" executed in 9.2895ms. (6f83ade2)
2021-07-03T23:01:37.3289791+07:00 0HM9U7F06I2MR:00000011 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 79.6237ms (afa2e885)
2021-07-03T23:01:37.3289991+07:00 0HM9U7F06I2MR:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:37.3291146+07:00 0HM9U7F06I2MR:00000011 [INF] Request finished in 87.2437ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:38.0749132+07:00 0HM9U7F06I2MR:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:01:38.0772404+07:00 0HM9U7F06I2MR:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:38.0779299+07:00 0HM9U7F06I2MR:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:38.0855391+07:00 0HM9U7F06I2MR:00000013 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:38.0979036+07:00 0HM9U7F06I2MR:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:38.1001660+07:00 0HM9U7F06I2MR:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:38.1081022+07:00 0HM9U7F06I2MR:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:38.1347969+07:00 0HM9U7F06I2MR:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:38.1368072+07:00 0HM9U7F06I2MR:00000013 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:38.1647229+07:00 0HM9U7F06I2MR:00000013 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:01:38.2102289+07:00 0HM9U7F06I2MR:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 124.5586ms (afa2e885)
2021-07-03T23:01:38.2106862+07:00 0HM9U7F06I2MR:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:38.2111511+07:00 0HM9U7F06I2MR:00000013 [INF] Request finished in 136.8438ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:39.2476929+07:00 0HM9U7F06I2MR:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:01:39.2495331+07:00 0HM9U7F06I2MR:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:39.2498506+07:00 0HM9U7F06I2MR:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:39.2526415+07:00 0HM9U7F06I2MR:00000015 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:39.2573383+07:00 0HM9U7F06I2MR:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:39.2605114+07:00 0HM9U7F06I2MR:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:01:39.2649939+07:00 0HM9U7F06I2MR:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:01:39.2673387+07:00 0HM9U7F06I2MR:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:39.2769779+07:00 0HM9U7F06I2MR:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:39.2776858+07:00 0HM9U7F06I2MR:00000015 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:01:39.2930140+07:00 0HM9U7F06I2MR:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 40.2936ms (afa2e885)
2021-07-03T23:01:39.2930895+07:00 0HM9U7F06I2MR:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:39.2934383+07:00 0HM9U7F06I2MR:00000015 [INF] Request finished in 46.1265ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:40.3416097+07:00 0HM9U7F06I2MR:00000017 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryZRPFAaL7mctBBZ45 889 (ca22a1cb)
2021-07-03T23:01:40.3423661+07:00 0HM9U7F06I2MR:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:40.3425148+07:00 0HM9U7F06I2MR:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:40.3591564+07:00 0HM9U7F06I2MR:00000017 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:40.3926481+07:00 0HM9U7F06I2MR:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:40.4004160+07:00 0HM9U7F06I2MR:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:01:40.4367803+07:00 0HM9U7F06I2MR:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:01:40.4430419+07:00 0HM9U7F06I2MR:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:01:40.4464109+07:00 0HM9U7F06I2MR:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:01:40.4541915+07:00 0HM9U7F06I2MR:00000017 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:01:40.4569707+07:00 0HM9U7F06I2MR:00000017 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 97.7237ms (afa2e885)
2021-07-03T23:01:40.4570131+07:00 0HM9U7F06I2MR:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:40.4573969+07:00 0HM9U7F06I2MR:00000017 [INF] Request finished in 115.9688ms 302  (791a596a)
2021-07-03T23:01:40.4727259+07:00 0HM9U7F06I2MR:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:01:40.4742180+07:00 0HM9U7F06I2MR:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:40.4743954+07:00 0HM9U7F06I2MR:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:40.4745561+07:00 0HM9U7F06I2MR:00000019 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:40.4749549+07:00 0HM9U7F06I2MR:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:40.4804731+07:00 0HM9U7F06I2MR:00000019 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:01:40.4813525+07:00 0HM9U7F06I2MR:00000019 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:01:40.5307608+07:00 0HM9U7F06I2MR:00000019 [INF] Executed ViewResult - view "Index" executed in 49.4803ms. (f66409e9)
2021-07-03T23:01:40.5308289+07:00 0HM9U7F06I2MR:00000019 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 56.2379ms (afa2e885)
2021-07-03T23:01:40.5308597+07:00 0HM9U7F06I2MR:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:40.5310692+07:00 0HM9U7F06I2MR:00000019 [INF] Request finished in 58.4237ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:40.5380963+07:00 0HM9U7F06I2MV:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:01:40.5383333+07:00 0HM9U7F06I2MV:00000001 [INF] Request finished in 28812.6231ms 101  (791a596a)
2021-07-03T23:01:40.6289498+07:00 0HM9U7F06I2MR:0000001B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:01:40.6293974+07:00 0HM9U7F06I2MR:0000001B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:01:40.6298603+07:00 0HM9U7F06I2MR:0000001B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:01:40.6299594+07:00 0HM9U7F06I2MR:0000001B [INF] Request finished in 1.0767ms 200 application/json (791a596a)
2021-07-03T23:01:40.6406016+07:00 0HM9U7F06I2MR:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:01:40.6409356+07:00 0HM9U7F06I2MR:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:40.6410021+07:00 0HM9U7F06I2MR:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:40.6410686+07:00 0HM9U7F06I2MR:0000001D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:40.6414756+07:00 0HM9U7F06I2MR:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:40.6441242+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:40.6474519+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:40.6482037+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:40.6496743+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:01:40.6509221+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:01:40.6533804+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:01:40.6555258+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:40.6563937+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:40.6569708+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:40.6579877+07:00 0HM9U7F06I2MR:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:40.6584160+07:00 0HM9U7F06I2MR:0000001D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:01:40.6600515+07:00 0HM9U7F06I2MR:0000001D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.6394ms. (6f83ade2)
2021-07-03T23:01:40.6601200+07:00 0HM9U7F06I2MR:0000001D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 19.0233ms (afa2e885)
2021-07-03T23:01:40.6601607+07:00 0HM9U7F06I2MR:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:40.6604308+07:00 0HM9U7F06I2MR:0000001D [INF] Request finished in 19.7869ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:40.6682735+07:00 0HM9U7F06I2N1:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=2ZlbDQJWElFC2VdLjqHKUQ   (ca22a1cb)
2021-07-03T23:01:40.6686132+07:00 0HM9U7F06I2N1:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:01:40.6744788+07:00 0HM9U7F06I2N1:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:40.6756064+07:00 0HM9U7F06I2N1:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:01:40.6787040+07:00 0HM9U7F06I2N1:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:01:43.2861176+07:00 0HM9U7F06I2MR:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328100581   (ca22a1cb)
2021-07-03T23:01:43.2874646+07:00 0HM9U7F06I2MR:00000021 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:01:43.2920923+07:00 0HM9U7F06I2MR:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:43.2925782+07:00 0HM9U7F06I2MR:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:43.2929297+07:00 0HM9U7F06I2MR:0000001F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:43.2937468+07:00 0HM9U7F06I2MR:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:43.2940256+07:00 0HM9U7F06I2MR:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:43.2944416+07:00 0HM9U7F06I2MR:00000021 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:43.2955163+07:00 0HM9U7F06I2MR:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:43.2961601+07:00 0HM9U7F06I2MR:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:43.2979501+07:00 0HM9U7F06I2MR:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:43.2979502+07:00 0HM9U7F06I2MR:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:43.2985078+07:00 0HM9U7F06I2MR:00000021 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:01:43.2992174+07:00 0HM9U7F06I2MR:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:43.2992109+07:00 0HM9U7F06I2MR:00000021 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 4.6595ms (afa2e885)
2021-07-03T23:01:43.2992929+07:00 0HM9U7F06I2MR:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:43.2997936+07:00 0HM9U7F06I2MR:00000021 [INF] Request finished in 12.6305ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:43.3023638+07:00 0HM9U7F06I2MR:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:43.3026251+07:00 0HM9U7F06I2MR:0000001F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:01:43.3034364+07:00 0HM9U7F06I2MR:0000001F [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.8773ms. (6f83ade2)
2021-07-03T23:01:43.3034701+07:00 0HM9U7F06I2MR:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 10.4513ms (afa2e885)
2021-07-03T23:01:43.3034882+07:00 0HM9U7F06I2MR:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:43.3035897+07:00 0HM9U7F06I2MR:0000001F [INF] Request finished in 17.6555ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:44.1426843+07:00 0HM9U7F06I2MR:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:01:44.1445905+07:00 0HM9U7F06I2MR:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:44.1449229+07:00 0HM9U7F06I2MR:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:44.1452982+07:00 0HM9U7F06I2MR:00000023 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:44.1482124+07:00 0HM9U7F06I2MR:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:44.1518894+07:00 0HM9U7F06I2MR:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:44.1584742+07:00 0HM9U7F06I2MR:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:44.1628330+07:00 0HM9U7F06I2MR:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:44.1638317+07:00 0HM9U7F06I2MR:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:44.1663128+07:00 0HM9U7F06I2MR:00000023 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:01:44.1674541+07:00 0HM9U7F06I2MR:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 22.0561ms (afa2e885)
2021-07-03T23:01:44.1674990+07:00 0HM9U7F06I2MR:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:44.1677636+07:00 0HM9U7F06I2MR:00000023 [INF] Request finished in 25.3883ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:47.1487294+07:00 0HM9U7F06I2MS:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:01:47.1504765+07:00 0HM9U7F06I2MS:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:47.1506605+07:00 0HM9U7F06I2MS:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:47.1508787+07:00 0HM9U7F06I2MS:00000017 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:47.1523906+07:00 0HM9U7F06I2MS:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:47.1556195+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:47.1591674+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:47.1607776+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:47.1628466+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:01:47.1651838+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:01:47.1668954+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:01:47.1685558+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:47.1701158+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:47.1711425+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:47.1720893+07:00 0HM9U7F06I2MS:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:01:47.1724186+07:00 0HM9U7F06I2MS:00000017 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:01:47.1735804+07:00 0HM9U7F06I2MS:00000017 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.2191ms. (6f83ade2)
2021-07-03T23:01:47.1736426+07:00 0HM9U7F06I2MS:00000017 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 22.7157ms (afa2e885)
2021-07-03T23:01:47.1736697+07:00 0HM9U7F06I2MS:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:47.1739358+07:00 0HM9U7F06I2MS:00000017 [INF] Request finished in 25.4423ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:48.0125412+07:00 0HM9U7F06I2MS:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328094976   (ca22a1cb)
2021-07-03T23:01:48.0149791+07:00 0HM9U7F06I2MS:0000001B [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:01:48.0158975+07:00 0HM9U7F06I2MS:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:48.0161123+07:00 0HM9U7F06I2MS:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:48.0163584+07:00 0HM9U7F06I2MS:00000019 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:48.0167957+07:00 0HM9U7F06I2MS:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:48.0171757+07:00 0HM9U7F06I2MS:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:48.0176047+07:00 0HM9U7F06I2MS:0000001B [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:48.0216505+07:00 0HM9U7F06I2MS:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:48.0271477+07:00 0HM9U7F06I2MS:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:48.0302869+07:00 0HM9U7F06I2MS:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:48.0306511+07:00 0HM9U7F06I2MS:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:48.0324810+07:00 0HM9U7F06I2MS:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:01:48.0328331+07:00 0HM9U7F06I2MS:0000001B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:01:48.0330926+07:00 0HM9U7F06I2MS:00000019 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:48.0334054+07:00 0HM9U7F06I2MS:0000001B [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 15.706ms (afa2e885)
2021-07-03T23:01:48.0334392+07:00 0HM9U7F06I2MS:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:48.0335382+07:00 0HM9U7F06I2MS:00000019 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:01:48.0338187+07:00 0HM9U7F06I2MS:0000001B [INF] Request finished in 18.9786ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:48.0355974+07:00 0HM9U7F06I2MS:00000019 [INF] Executed PartialViewResult - view "_ChatForm" executed in 2.0938ms. (6f83ade2)
2021-07-03T23:01:48.0360354+07:00 0HM9U7F06I2MS:00000019 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 19.5465ms (afa2e885)
2021-07-03T23:01:48.0363676+07:00 0HM9U7F06I2MS:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:48.0368838+07:00 0HM9U7F06I2MS:00000019 [INF] Request finished in 24.6732ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:01:49.0735930+07:00 0HM9U7F06I2MS:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:01:49.0744430+07:00 0HM9U7F06I2MS:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:49.0745905+07:00 0HM9U7F06I2MS:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:49.0747869+07:00 0HM9U7F06I2MS:0000001D [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:49.0759758+07:00 0HM9U7F06I2MS:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:49.0774286+07:00 0HM9U7F06I2MS:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:49.0790818+07:00 0HM9U7F06I2MS:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:49.0825789+07:00 0HM9U7F06I2MS:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:01:49.0831909+07:00 0HM9U7F06I2MS:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:01:49.0853637+07:00 0HM9U7F06I2MS:0000001D [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:01:49.0861597+07:00 0HM9U7F06I2MS:0000001D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 11.3147ms (afa2e885)
2021-07-03T23:01:49.0862149+07:00 0HM9U7F06I2MS:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:49.0865399+07:00 0HM9U7F06I2MS:0000001D [INF] Request finished in 12.993ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:01:52.5386651+07:00 0HM9U7F06I2MR:00000025 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:01:52.5403625+07:00 0HM9U7F06I2MR:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:01:52.5406535+07:00 0HM9U7F06I2MR:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:01:52.5440600+07:00 0HM9U7F06I2MR:00000025 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:01:52.5481628+07:00 0HM9U7F06I2MR:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:01:52.5569298+07:00 0HM9U7F06I2MR:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:01:52.5619153+07:00 0HM9U7F06I2MR:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:01:52.5722638+07:00 0HM9U7F06I2MR:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:01:52.5876428+07:00 0HM9U7F06I2MR:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:01:52.5909300+07:00 0HM9U7F06I2MR:00000025 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:01:52.5919365+07:00 0HM9U7F06I2MR:00000025 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 47.7804ms (afa2e885)
2021-07-03T23:01:52.5919841+07:00 0HM9U7F06I2MR:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:01:52.5922323+07:00 0HM9U7F06I2MR:00000025 [INF] Request finished in 53.7725ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:07:31.9471871+07:00 0HM9U7F06I2N1:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:07:31.9479225+07:00 0HM9U7F06I2N1:00000001 [INF] Request finished in 351279.5753ms 101  (791a596a)
2021-07-03T23:11:04.5918271+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T23:11:05.2109823+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T23:11:05.2149511+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T23:11:05.2166341+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T23:11:05.2180099+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T23:11:06.0206840+07:00 0HM9U7KKIGLCS:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:11:06.2473371+07:00 0HM9U7KKIGLCS:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:06.2626576+07:00 0HM9U7KKIGLCS:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:06.3058557+07:00 0HM9U7KKIGLCS:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:06.3185940+07:00 0HM9U7KKIGLCS:00000001 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:11:06.3428003+07:00 0HM9U7KKIGLCS:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:11:06.3491968+07:00 0HM9U7KKIGLCS:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 37.4349ms (afa2e885)
2021-07-03T23:11:06.3494335+07:00 0HM9U7KKIGLCS:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:06.3581329+07:00 0HM9U7KKIGLCS:00000001 [INF] Request finished in 340.9583ms 302  (791a596a)
2021-07-03T23:11:06.3712907+07:00 0HM9U7KKIGLCS:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:11:06.3741054+07:00 0HM9U7KKIGLCS:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:06.3756126+07:00 0HM9U7KKIGLCS:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:06.4170040+07:00 0HM9U7KKIGLCS:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:11:06.6795955+07:00 0HM9U7KKIGLCS:00000003 [INF] Executed ViewResult - view "Login" executed in 300.7791ms. (f66409e9)
2021-07-03T23:11:06.6796860+07:00 0HM9U7KKIGLCS:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 304.0339ms (afa2e885)
2021-07-03T23:11:06.6797316+07:00 0HM9U7KKIGLCS:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:06.6819258+07:00 0HM9U7KKIGLCS:00000003 [INF] Request finished in 310.6037ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:15.2816543+07:00 0HM9U7KKIGLCS:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:11:15.2965250+07:00 0HM9U7KKIGLCS:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:15.3092519+07:00 0HM9U7KKIGLCS:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:15.3531241+07:00 0HM9U7KKIGLCS:00000005 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:11:16.2134413+07:00 0HM9U7KKIGLCS:00000005 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:11:16.2159529+07:00 0HM9U7KKIGLCS:00000005 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:11:16.4052993+07:00 0HM9U7KKIGLCS:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:17.0945224+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("64"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:11:17.1570375+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:11:17.3957439+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:11:17.4588222+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:11:17.4683193+07:00 0HM9U7KKIGLCS:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:11:17.4792400+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:11:17.4899652+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:11:17.6130226+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:11:17.6303570+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:17.6831455+07:00 0HM9U7KKIGLCS:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:11:17.6845518+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2375.1854ms (afa2e885)
2021-07-03T23:11:17.6852240+07:00 0HM9U7KKIGLCS:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:17.6877113+07:00 0HM9U7KKIGLCS:00000005 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"b535aacb-5f45-fb6c-20ff-67c746a4c5a3" (1d7cf8c0)
2021-07-03T23:11:17.6959332+07:00 0HM9U7KKIGLCS:00000005 [INF] Request finished in 2415.7221ms 302  (791a596a)
2021-07-03T23:11:17.7036846+07:00 0HM9U7KKIGLCS:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:11:17.7043634+07:00 0HM9U7KKIGLCS:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:17.7044599+07:00 0HM9U7KKIGLCS:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:17.7046449+07:00 0HM9U7KKIGLCS:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:17.7411625+07:00 0HM9U7KKIGLCS:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:17.7557870+07:00 0HM9U7KKIGLCS:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:11:17.7605744+07:00 0HM9U7KKIGLCS:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:11:17.8104019+07:00 0HM9U7KKIGLCS:00000007 [INF] Executed ViewResult - view "Index" executed in 52.9711ms. (f66409e9)
2021-07-03T23:11:17.8105676+07:00 0HM9U7KKIGLCS:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 105.8874ms (afa2e885)
2021-07-03T23:11:17.8106202+07:00 0HM9U7KKIGLCS:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:17.8109178+07:00 0HM9U7KKIGLCS:00000007 [INF] Request finished in 107.3558ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:18.0267763+07:00 0HM9U7KKIGLCS:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:11:18.0316987+07:00 0HM9U7KKIGLCS:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:11:18.0378479+07:00 0HM9U7KKIGLCS:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:11:18.0396882+07:00 0HM9U7KKIGLCS:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:18.0398866+07:00 0HM9U7KKIGLCS:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:18.0437360+07:00 0HM9U7KKIGLCS:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:18.0568635+07:00 0HM9U7KKIGLCS:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:11:18.0572877+07:00 0HM9U7KKIGLCS:00000009 [INF] Request finished in 30.614ms 200 application/json (791a596a)
2021-07-03T23:11:18.0691106+07:00 0HM9U7KKIGLCS:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:18.0908545+07:00 0HM9U7KKIGLCT:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=vUR0KFlOoOzKV6CycCHQSQ   (ca22a1cb)
2021-07-03T23:11:18.0944920+07:00 0HM9U7KKIGLCT:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:11:18.1062207+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:18.1523162+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:18.1560691+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:18.1571581+07:00 0HM9U7KKIGLCT:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:18.1634919+07:00 0HM9U7KKIGLCT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:11:18.1658250+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:11:18.1699751+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:11:18.1789618+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:11:18.1870673+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:18.1886485+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:18.1891973+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:18.1899850+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:18.1975225+07:00 0HM9U7KKIGLCS:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:11:18.2002323+07:00 0HM9U7KKIGLCT:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:11:18.2055565+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 10.329ms. (6f83ade2)
2021-07-03T23:11:18.2056505+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 161.8056ms (afa2e885)
2021-07-03T23:11:18.2056824+07:00 0HM9U7KKIGLCS:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:18.2058470+07:00 0HM9U7KKIGLCS:0000000B [INF] Request finished in 168.1788ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:20.0128315+07:00 0HM9U7KKIGLCU:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:11:20.0158372+07:00 0HM9U7KKIGLCU:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:20.0163391+07:00 0HM9U7KKIGLCU:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:20.0167468+07:00 0HM9U7KKIGLCU:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:20.0172833+07:00 0HM9U7KKIGLCU:00000001 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T23:11:20.0176785+07:00 0HM9U7KKIGLCU:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:11:20.0179572+07:00 0HM9U7KKIGLCU:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 1.0419ms (afa2e885)
2021-07-03T23:11:20.0180799+07:00 0HM9U7KKIGLCU:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:20.0186642+07:00 0HM9U7KKIGLCU:00000001 [INF] Request finished in 6.8068ms 302  (791a596a)
2021-07-03T23:11:20.0232608+07:00 0HM9U7KKIGLCU:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:11:20.0268211+07:00 0HM9U7KKIGLCU:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:20.0272638+07:00 0HM9U7KKIGLCU:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:20.0308671+07:00 0HM9U7KKIGLCU:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:11:20.0358787+07:00 0HM9U7KKIGLCU:00000003 [INF] Executed ViewResult - view "Login" executed in 5.4177ms. (f66409e9)
2021-07-03T23:11:20.0360151+07:00 0HM9U7KKIGLCU:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 8.6388ms (afa2e885)
2021-07-03T23:11:20.0360525+07:00 0HM9U7KKIGLCU:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:20.0364207+07:00 0HM9U7KKIGLCU:00000003 [INF] Request finished in 13.2716ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:25.8475679+07:00 0HM9U7KKIGLCU:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:11:25.8493401+07:00 0HM9U7KKIGLCU:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:25.8497093+07:00 0HM9U7KKIGLCU:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:25.8522407+07:00 0HM9U7KKIGLCU:00000005 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T23:11:25.8527931+07:00 0HM9U7KKIGLCU:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:25.8557290+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:11:25.8585213+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:11:25.8692843+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:11:25.8725491+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:11:25.8732395+07:00 0HM9U7KKIGLCU:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:11:25.8744217+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:11:25.8757269+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:11:25.8794010+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:11:25.8864152+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:25.8873820+07:00 0HM9U7KKIGLCU:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:11:25.8875259+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 37.7522ms (afa2e885)
2021-07-03T23:11:25.8875676+07:00 0HM9U7KKIGLCU:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:25.8876696+07:00 0HM9U7KKIGLCU:00000005 [INF] Session started; Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88", Id:"a1a77ca4-b70e-b852-1c80-06dc9bb32a8a" (1d7cf8c0)
2021-07-03T23:11:25.8881444+07:00 0HM9U7KKIGLCU:00000005 [INF] Request finished in 41.2735ms 302  (791a596a)
2021-07-03T23:11:25.8928833+07:00 0HM9U7KKIGLCU:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:11:25.8934561+07:00 0HM9U7KKIGLCU:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:25.8935409+07:00 0HM9U7KKIGLCU:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:25.8936088+07:00 0HM9U7KKIGLCU:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:25.8938944+07:00 0HM9U7KKIGLCU:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:25.8966241+07:00 0HM9U7KKIGLCU:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:11:25.8975119+07:00 0HM9U7KKIGLCU:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:11:25.8998517+07:00 0HM9U7KKIGLCU:00000007 [INF] Executed ViewResult - view "Index" executed in 2.4162ms. (f66409e9)
2021-07-03T23:11:25.8999079+07:00 0HM9U7KKIGLCU:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.2794ms (afa2e885)
2021-07-03T23:11:25.8999385+07:00 0HM9U7KKIGLCU:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:25.9001068+07:00 0HM9U7KKIGLCU:00000007 [INF] Request finished in 7.2823ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:26.0131122+07:00 0HM9U7KKIGLCU:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:11:26.0343346+07:00 0HM9U7KKIGLCU:00000009 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:11:26.0346023+07:00 0HM9U7KKIGLCU:00000009 [INF] Request finished in 21.6558ms 200 text/plain (791a596a)
2021-07-03T23:11:26.0383288+07:00 0HM9U7KKIGLCU:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:11:26.0406018+07:00 0HM9U7KKIGLCU:0000000B [INF] Request finished in 2.4563ms 404  (791a596a)
2021-07-03T23:11:26.1051920+07:00 0HM9U7KKIGLCU:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:11:26.1058053+07:00 0HM9U7KKIGLCU:0000000D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:11:26.1064364+07:00 0HM9U7KKIGLCU:0000000D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:11:26.1065634+07:00 0HM9U7KKIGLCU:0000000D [INF] Request finished in 1.4826ms 200 application/json (791a596a)
2021-07-03T23:11:26.1255107+07:00 0HM9U7KKIGLCU:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:11:26.1294366+07:00 0HM9U7KKIGLCU:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:26.1295530+07:00 0HM9U7KKIGLCU:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:26.1296219+07:00 0HM9U7KKIGLCU:0000000F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:26.1303163+07:00 0HM9U7KKIGLCU:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:26.1311965+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:26.1322508+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:26.1332512+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:26.1341283+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:11:26.1348708+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:11:26.1356725+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:11:26.1366426+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:26.1377192+07:00 0HM9U7KKIGLCU:0000000F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:11:26.1398756+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 2.2009ms. (6f83ade2)
2021-07-03T23:11:26.1399817+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.3256ms (afa2e885)
2021-07-03T23:11:26.1400467+07:00 0HM9U7KKIGLCU:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:26.1402899+07:00 0HM9U7KKIGLCU:0000000F [INF] Request finished in 14.9348ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:26.1601891+07:00 0HM9U7KKIGLCV:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=SQfIxlzJiefLkaPfFcduFQ   (ca22a1cb)
2021-07-03T23:11:26.1606339+07:00 0HM9U7KKIGLCV:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:11:26.1735188+07:00 0HM9U7KKIGLCV:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:26.1745267+07:00 0HM9U7KKIGLCV:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:11:26.1779438+07:00 0HM9U7KKIGLCV:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:11:27.7406720+07:00 0HM9U7KKIGLCS:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:11:27.7414122+07:00 0HM9U7KKIGLCS:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328677887   (ca22a1cb)
2021-07-03T23:11:27.7438939+07:00 0HM9U7KKIGLCS:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:27.7438940+07:00 0HM9U7KKIGLCS:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:27.7445811+07:00 0HM9U7KKIGLCS:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:27.7446027+07:00 0HM9U7KKIGLCS:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:27.7479128+07:00 0HM9U7KKIGLCS:0000000F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:27.7479181+07:00 0HM9U7KKIGLCS:0000000D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:27.7561116+07:00 0HM9U7KKIGLCS:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:27.7561110+07:00 0HM9U7KKIGLCS:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:27.7644934+07:00 0HM9U7KKIGLCS:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:27.7646920+07:00 0HM9U7KKIGLCS:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:27.7664356+07:00 0HM9U7KKIGLCS:0000000D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:11:27.7749543+07:00 0HM9U7KKIGLCS:0000000D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 26.9543ms (afa2e885)
2021-07-03T23:11:27.7749996+07:00 0HM9U7KKIGLCS:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:27.7753266+07:00 0HM9U7KKIGLCS:0000000D [INF] Request finished in 34.7878ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:27.7886459+07:00 0HM9U7KKIGLCS:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:27.8177140+07:00 0HM9U7KKIGLCS:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:27.8226054+07:00 0HM9U7KKIGLCS:0000000F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:11:27.8290849+07:00 0HM9U7KKIGLCS:0000000F [INF] Executed PartialViewResult - view "_ChatForm" executed in 10.7322ms. (6f83ade2)
2021-07-03T23:11:27.8291527+07:00 0HM9U7KKIGLCS:0000000F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 81.1776ms (afa2e885)
2021-07-03T23:11:27.8291748+07:00 0HM9U7KKIGLCS:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:27.8293085+07:00 0HM9U7KKIGLCS:0000000F [INF] Request finished in 88.0159ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:28.6183743+07:00 0HM9U7KKIGLCS:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:11:28.6207856+07:00 0HM9U7KKIGLCS:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:28.6213186+07:00 0HM9U7KKIGLCS:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:28.6277622+07:00 0HM9U7KKIGLCS:00000011 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:28.6362504+07:00 0HM9U7KKIGLCS:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:28.6392671+07:00 0HM9U7KKIGLCS:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:28.6475036+07:00 0HM9U7KKIGLCS:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:28.6760584+07:00 0HM9U7KKIGLCS:00000011 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:28.6789129+07:00 0HM9U7KKIGLCS:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:28.7125014+07:00 0HM9U7KKIGLCS:00000011 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:11:28.7638921+07:00 0HM9U7KKIGLCS:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 136.0006ms (afa2e885)
2021-07-03T23:11:28.7640047+07:00 0HM9U7KKIGLCS:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:28.7644350+07:00 0HM9U7KKIGLCS:00000011 [INF] Request finished in 146.2248ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:29.6918811+07:00 0HM9U7KKIGLCS:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:11:29.6940303+07:00 0HM9U7KKIGLCS:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:29.6942728+07:00 0HM9U7KKIGLCS:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:29.7003882+07:00 0HM9U7KKIGLCS:00000013 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:29.7055450+07:00 0HM9U7KKIGLCS:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:29.7095593+07:00 0HM9U7KKIGLCS:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:11:29.7144454+07:00 0HM9U7KKIGLCS:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:11:29.7171158+07:00 0HM9U7KKIGLCS:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:29.7276792+07:00 0HM9U7KKIGLCS:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:29.7287177+07:00 0HM9U7KKIGLCS:00000013 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:11:29.7474866+07:00 0HM9U7KKIGLCS:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 47.0112ms (afa2e885)
2021-07-03T23:11:29.7475512+07:00 0HM9U7KKIGLCS:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:29.7479180+07:00 0HM9U7KKIGLCS:00000013 [INF] Request finished in 56.3216ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:31.1033589+07:00 0HM9U7KKIGLCS:00000015 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundary7swRH2YjAUItYrSU 889 (ca22a1cb)
2021-07-03T23:11:31.1049550+07:00 0HM9U7KKIGLCS:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:31.1055150+07:00 0HM9U7KKIGLCS:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:31.1180285+07:00 0HM9U7KKIGLCS:00000015 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:31.1506573+07:00 0HM9U7KKIGLCS:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:31.1588959+07:00 0HM9U7KKIGLCS:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:11:31.1980171+07:00 0HM9U7KKIGLCS:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:11:31.2044232+07:00 0HM9U7KKIGLCS:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:11:31.2075472+07:00 0HM9U7KKIGLCS:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:11:31.2156740+07:00 0HM9U7KKIGLCS:00000015 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:11:31.2183331+07:00 0HM9U7KKIGLCS:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 100.2114ms (afa2e885)
2021-07-03T23:11:31.2183768+07:00 0HM9U7KKIGLCS:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:31.2190945+07:00 0HM9U7KKIGLCS:00000015 [INF] Request finished in 116.1711ms 302  (791a596a)
2021-07-03T23:11:31.2291674+07:00 0HM9U7KKIGLCS:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:11:31.2299559+07:00 0HM9U7KKIGLCS:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:31.2300645+07:00 0HM9U7KKIGLCS:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:31.2301593+07:00 0HM9U7KKIGLCS:00000017 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:31.2304162+07:00 0HM9U7KKIGLCS:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:31.2338335+07:00 0HM9U7KKIGLCS:00000017 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:11:31.2343875+07:00 0HM9U7KKIGLCS:00000017 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:11:31.2805666+07:00 0HM9U7KKIGLCS:00000017 [INF] Executed ViewResult - view "Index" executed in 46.2388ms. (f66409e9)
2021-07-03T23:11:31.2806367+07:00 0HM9U7KKIGLCS:00000017 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 50.4561ms (afa2e885)
2021-07-03T23:11:31.2806684+07:00 0HM9U7KKIGLCS:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:31.2808788+07:00 0HM9U7KKIGLCS:00000017 [INF] Request finished in 51.8336ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:31.3062574+07:00 0HM9U7KKIGLCT:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:11:31.3064856+07:00 0HM9U7KKIGLCT:00000001 [INF] Request finished in 13215.8619ms 101  (791a596a)
2021-07-03T23:11:31.3997399+07:00 0HM9U7KKIGLCS:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:11:31.4001333+07:00 0HM9U7KKIGLCS:00000019 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:11:31.4005002+07:00 0HM9U7KKIGLCS:00000019 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:11:31.4006110+07:00 0HM9U7KKIGLCS:00000019 [INF] Request finished in 1.0371ms 200 application/json (791a596a)
2021-07-03T23:11:31.4070805+07:00 0HM9U7KKIGLCS:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:11:31.4074745+07:00 0HM9U7KKIGLCS:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:31.4075436+07:00 0HM9U7KKIGLCS:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:31.4076152+07:00 0HM9U7KKIGLCS:0000001B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:31.4080426+07:00 0HM9U7KKIGLCS:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:31.4099285+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:31.4132625+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:31.4145198+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:31.4168579+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:11:31.4188680+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:11:31.4215163+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:11:31.4236484+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:31.4251248+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:31.4263255+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:31.4292004+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:31.4296645+07:00 0HM9U7KKIGLCS:0000001B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:11:31.4306066+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.9464ms. (6f83ade2)
2021-07-03T23:11:31.4306658+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 23.0279ms (afa2e885)
2021-07-03T23:11:31.4307164+07:00 0HM9U7KKIGLCS:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:31.4309172+07:00 0HM9U7KKIGLCS:0000001B [INF] Request finished in 23.8441ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:31.4323673+07:00 0HM9U7KKIGLD0:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=KuCV6ugFYTpsCNGnvYk12w   (ca22a1cb)
2021-07-03T23:11:31.4328663+07:00 0HM9U7KKIGLD0:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:11:31.4441053+07:00 0HM9U7KKIGLD0:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:31.4454694+07:00 0HM9U7KKIGLD0:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:11:31.4477872+07:00 0HM9U7KKIGLD0:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:11:33.8701563+07:00 0HM9U7KKIGLCS:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:11:33.8714495+07:00 0HM9U7KKIGLCS:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328691324   (ca22a1cb)
2021-07-03T23:11:33.8754634+07:00 0HM9U7KKIGLCS:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:33.8758687+07:00 0HM9U7KKIGLCS:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:33.8762521+07:00 0HM9U7KKIGLCS:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:33.8765137+07:00 0HM9U7KKIGLCS:0000001F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:33.8768004+07:00 0HM9U7KKIGLCS:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:33.8771741+07:00 0HM9U7KKIGLCS:0000001D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:33.8789858+07:00 0HM9U7KKIGLCS:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:33.8792719+07:00 0HM9U7KKIGLCS:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:33.8825101+07:00 0HM9U7KKIGLCS:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:33.8866151+07:00 0HM9U7KKIGLCS:0000001D [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:33.8871756+07:00 0HM9U7KKIGLCS:0000001D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:11:33.8876001+07:00 0HM9U7KKIGLCS:0000001F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:33.8893047+07:00 0HM9U7KKIGLCS:0000001D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 12.0235ms (afa2e885)
2021-07-03T23:11:33.8894883+07:00 0HM9U7KKIGLCS:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:33.8901769+07:00 0HM9U7KKIGLCS:0000001D [INF] Request finished in 20.1631ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:33.8954104+07:00 0HM9U7KKIGLCS:0000001F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:33.8958369+07:00 0HM9U7KKIGLCS:0000001F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:11:33.8969262+07:00 0HM9U7KKIGLCS:0000001F [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.1564ms. (6f83ade2)
2021-07-03T23:11:33.8969798+07:00 0HM9U7KKIGLCS:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 20.3681ms (afa2e885)
2021-07-03T23:11:33.8970082+07:00 0HM9U7KKIGLCS:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:33.8972173+07:00 0HM9U7KKIGLCS:0000001F [INF] Request finished in 26.134ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:34.8917250+07:00 0HM9U7KKIGLCS:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:11:34.8934608+07:00 0HM9U7KKIGLCS:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:34.8938285+07:00 0HM9U7KKIGLCS:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:34.8941333+07:00 0HM9U7KKIGLCS:00000021 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:34.8965384+07:00 0HM9U7KKIGLCS:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:34.8986725+07:00 0HM9U7KKIGLCS:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:34.9026021+07:00 0HM9U7KKIGLCS:00000021 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:34.9072102+07:00 0HM9U7KKIGLCS:00000021 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:34.9080757+07:00 0HM9U7KKIGLCS:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:34.9101086+07:00 0HM9U7KKIGLCS:00000021 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:11:34.9110817+07:00 0HM9U7KKIGLCS:00000021 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 16.8797ms (afa2e885)
2021-07-03T23:11:34.9111208+07:00 0HM9U7KKIGLCS:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:34.9113778+07:00 0HM9U7KKIGLCS:00000021 [INF] Request finished in 19.8424ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:36.7182302+07:00 0HM9U7KKIGLCU:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:11:36.7207405+07:00 0HM9U7KKIGLCU:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:36.7209990+07:00 0HM9U7KKIGLCU:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:36.7213060+07:00 0HM9U7KKIGLCU:00000011 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:36.7223491+07:00 0HM9U7KKIGLCU:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:36.7250441+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:36.7277777+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:36.7283704+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:36.7295612+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:11:36.7305358+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:11:36.7318356+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:11:36.7332238+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:36.7339397+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:36.7344512+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:36.7349636+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:11:36.7352479+07:00 0HM9U7KKIGLCU:00000011 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:11:36.7362774+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.0778ms. (6f83ade2)
2021-07-03T23:11:36.7363320+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 14.9803ms (afa2e885)
2021-07-03T23:11:36.7363613+07:00 0HM9U7KKIGLCU:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:36.7366095+07:00 0HM9U7KKIGLCU:00000011 [INF] Request finished in 18.4977ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:37.4096366+07:00 0HM9U7KKIGLCU:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328685941   (ca22a1cb)
2021-07-03T23:11:37.4101846+07:00 0HM9U7KKIGLCU:00000015 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:11:37.4110649+07:00 0HM9U7KKIGLCU:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:37.4110792+07:00 0HM9U7KKIGLCU:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:37.4112808+07:00 0HM9U7KKIGLCU:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:37.4112997+07:00 0HM9U7KKIGLCU:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:37.4115104+07:00 0HM9U7KKIGLCU:00000013 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:37.4115109+07:00 0HM9U7KKIGLCU:00000015 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:37.4136658+07:00 0HM9U7KKIGLCU:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:37.4140912+07:00 0HM9U7KKIGLCU:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:37.4170914+07:00 0HM9U7KKIGLCU:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:37.4175872+07:00 0HM9U7KKIGLCU:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:11:37.4182517+07:00 0HM9U7KKIGLCU:00000015 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:11:37.4200221+07:00 0HM9U7KKIGLCU:00000015 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 8.4326ms (afa2e885)
2021-07-03T23:11:37.4201385+07:00 0HM9U7KKIGLCU:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:37.4206113+07:00 0HM9U7KKIGLCU:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:37.4206214+07:00 0HM9U7KKIGLCU:00000015 [INF] Request finished in 10.8555ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:37.4234460+07:00 0HM9U7KKIGLCU:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:37.4237677+07:00 0HM9U7KKIGLCU:00000013 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:11:37.4249621+07:00 0HM9U7KKIGLCU:00000013 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.2403ms. (6f83ade2)
2021-07-03T23:11:37.4250419+07:00 0HM9U7KKIGLCU:00000013 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 13.4918ms (afa2e885)
2021-07-03T23:11:37.4250669+07:00 0HM9U7KKIGLCU:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:37.4254242+07:00 0HM9U7KKIGLCU:00000013 [INF] Request finished in 15.8145ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:11:38.1054740+07:00 0HM9U7KKIGLCU:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:11:38.1062667+07:00 0HM9U7KKIGLCU:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:38.1063727+07:00 0HM9U7KKIGLCU:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:38.1065135+07:00 0HM9U7KKIGLCU:00000017 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:38.1075475+07:00 0HM9U7KKIGLCU:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:38.1088840+07:00 0HM9U7KKIGLCU:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:38.1104440+07:00 0HM9U7KKIGLCU:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:38.1152579+07:00 0HM9U7KKIGLCU:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:38.1173694+07:00 0HM9U7KKIGLCU:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:38.1213623+07:00 0HM9U7KKIGLCU:00000017 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:11:38.1229472+07:00 0HM9U7KKIGLCU:00000017 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 16.3303ms (afa2e885)
2021-07-03T23:11:38.1230058+07:00 0HM9U7KKIGLCU:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:38.1233745+07:00 0HM9U7KKIGLCU:00000017 [INF] Request finished in 17.8679ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:39.7410316+07:00 0HM9U7KKIGLCU:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:11:39.7419894+07:00 0HM9U7KKIGLCU:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:39.7421802+07:00 0HM9U7KKIGLCU:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:39.7423967+07:00 0HM9U7KKIGLCU:00000019 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:39.7439631+07:00 0HM9U7KKIGLCU:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:39.7459169+07:00 0HM9U7KKIGLCU:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:11:39.7478898+07:00 0HM9U7KKIGLCU:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:11:39.7491224+07:00 0HM9U7KKIGLCU:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:11:39.7507849+07:00 0HM9U7KKIGLCU:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE 0 = 1
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:11:39.7509484+07:00 0HM9U7KKIGLCU:00000019 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:11:39.7514624+07:00 0HM9U7KKIGLCU:00000019 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 9.0118ms (afa2e885)
2021-07-03T23:11:39.7514985+07:00 0HM9U7KKIGLCU:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:39.7517012+07:00 0HM9U7KKIGLCU:00000019 [INF] Request finished in 10.6694ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:11:46.7468683+07:00 0HM9U7KKIGLCS:00000023 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:11:46.7476072+07:00 0HM9U7KKIGLCS:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:11:46.7477607+07:00 0HM9U7KKIGLCS:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:11:46.7508928+07:00 0HM9U7KKIGLCS:00000023 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:11:46.7543965+07:00 0HM9U7KKIGLCS:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:11:46.7623246+07:00 0HM9U7KKIGLCS:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:11:46.7679202+07:00 0HM9U7KKIGLCS:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:11:46.7789872+07:00 0HM9U7KKIGLCS:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:11:46.7978816+07:00 0HM9U7KKIGLCS:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:11:46.8001786+07:00 0HM9U7KKIGLCS:00000023 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:11:46.8011250+07:00 0HM9U7KKIGLCS:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 50.1614ms (afa2e885)
2021-07-03T23:11:46.8011636+07:00 0HM9U7KKIGLCS:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:11:46.8013842+07:00 0HM9U7KKIGLCS:00000023 [INF] Request finished in 54.5254ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:01.7387053+07:00 0HM9U7KKIGLCU:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:13:01.7394656+07:00 0HM9U7KKIGLCU:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:01.7396175+07:00 0HM9U7KKIGLCU:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:01.7397742+07:00 0HM9U7KKIGLCU:0000001B [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:01.7421585+07:00 0HM9U7KKIGLCU:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:01.7489373+07:00 0HM9U7KKIGLCU:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:13:01.7498580+07:00 0HM9U7KKIGLCU:0000001B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:13:01.7519678+07:00 0HM9U7KKIGLCU:0000001B [INF] Executed ViewResult - view "Index" executed in 2.1835ms. (f66409e9)
2021-07-03T23:13:01.7521089+07:00 0HM9U7KKIGLCU:0000001B [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 12.2909ms (afa2e885)
2021-07-03T23:13:01.7521805+07:00 0HM9U7KKIGLCU:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:01.7538175+07:00 0HM9U7KKIGLCU:0000001B [INF] Request finished in 14.237ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:01.7615984+07:00 0HM9U7KKIGLCV:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:13:01.7618514+07:00 0HM9U7KKIGLCV:00000001 [INF] Request finished in 95601.6512ms 101  (791a596a)
2021-07-03T23:13:01.8771768+07:00 0HM9U7KKIGLCU:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:13:01.8816593+07:00 0HM9U7KKIGLCU:0000001D [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:13:01.8818165+07:00 0HM9U7KKIGLCU:0000001D [INF] Request finished in 4.6395ms 200 text/plain (791a596a)
2021-07-03T23:13:01.9051304+07:00 0HM9U7KKIGLCU:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:13:01.9066653+07:00 0HM9U7KKIGLCU:0000001F [INF] Request finished in 1.5615ms 404  (791a596a)
2021-07-03T23:13:01.9225744+07:00 0HM9U7KKIGLCU:00000021 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:13:01.9230733+07:00 0HM9U7KKIGLCU:00000021 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:13:01.9237464+07:00 0HM9U7KKIGLCU:00000021 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:13:01.9239184+07:00 0HM9U7KKIGLCU:00000021 [INF] Request finished in 1.4718ms 200 application/json (791a596a)
2021-07-03T23:13:01.9456380+07:00 0HM9U7KKIGLCU:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:13:01.9461579+07:00 0HM9U7KKIGLCU:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:01.9462402+07:00 0HM9U7KKIGLCU:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:01.9464094+07:00 0HM9U7KKIGLCU:00000023 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:01.9470035+07:00 0HM9U7KKIGLCU:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:01.9491794+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:01.9520293+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:01.9530810+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:01.9543329+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:13:01.9553506+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:13:01.9570747+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:13:01.9597236+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:01.9599908+07:00 0HM9U7KKIGLCU:00000023 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:13:01.9603851+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4136ms. (6f83ade2)
2021-07-03T23:13:01.9604237+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 13.9831ms (afa2e885)
2021-07-03T23:13:01.9604412+07:00 0HM9U7KKIGLCU:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:01.9606049+07:00 0HM9U7KKIGLCU:00000023 [INF] Request finished in 15.0603ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:02.4290720+07:00 0HM9U7KKIGLD2:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=wKGyiV_vGXCvNEENiicCeQ   (ca22a1cb)
2021-07-03T23:13:02.4298540+07:00 0HM9U7KKIGLD2:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:13:02.4381992+07:00 0HM9U7KKIGLD2:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:02.4398192+07:00 0HM9U7KKIGLD2:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:13:02.4433425+07:00 0HM9U7KKIGLD2:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:13:02.7267461+07:00 0HM9U7KKIGLCU:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:13:02.7278336+07:00 0HM9U7KKIGLCU:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:02.7280017+07:00 0HM9U7KKIGLCU:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:02.7282619+07:00 0HM9U7KKIGLCU:00000025 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:02.7291947+07:00 0HM9U7KKIGLCU:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:02.7351549+07:00 0HM9U7KKIGLCU:00000025 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:13:02.7363430+07:00 0HM9U7KKIGLCU:00000025 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:13:02.7384910+07:00 0HM9U7KKIGLCU:00000025 [INF] Executed ViewResult - view "Index" executed in 2.2046ms. (f66409e9)
2021-07-03T23:13:02.7385888+07:00 0HM9U7KKIGLCU:00000025 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 10.267ms (afa2e885)
2021-07-03T23:13:02.7386323+07:00 0HM9U7KKIGLCU:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:02.7389725+07:00 0HM9U7KKIGLCU:00000025 [INF] Request finished in 12.2831ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:02.7461928+07:00 0HM9U7KKIGLD2:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:13:02.7463545+07:00 0HM9U7KKIGLD2:00000001 [INF] Request finished in 317.321ms 101  (791a596a)
2021-07-03T23:13:02.7931096+07:00 0HM9U7KKIGLCU:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:13:02.7941073+07:00 0HM9U7KKIGLCU:00000027 [INF] Request finished in 1.0224ms 404  (791a596a)
2021-07-03T23:13:02.8505368+07:00 0HM9U7KKIGLCU:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:13:02.8593553+07:00 0HM9U7KKIGLCU:00000029 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:13:02.8594812+07:00 0HM9U7KKIGLCU:00000029 [INF] Request finished in 9.0198ms 200 text/plain (791a596a)
2021-07-03T23:13:02.8703142+07:00 0HM9U7KKIGLCU:0000002B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:13:02.8707964+07:00 0HM9U7KKIGLCU:0000002B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:13:02.8713559+07:00 0HM9U7KKIGLCU:0000002B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:13:02.8714584+07:00 0HM9U7KKIGLCU:0000002B [INF] Request finished in 1.3086ms 200 application/json (791a596a)
2021-07-03T23:13:02.8874364+07:00 0HM9U7KKIGLCU:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:13:02.8879911+07:00 0HM9U7KKIGLCU:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:02.8880681+07:00 0HM9U7KKIGLCU:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:02.8882026+07:00 0HM9U7KKIGLCU:0000002D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:02.8889472+07:00 0HM9U7KKIGLCU:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:02.8903106+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:02.8925053+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:02.8935776+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:02.8946157+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:13:02.8953601+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:13:02.8961048+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:13:02.8968097+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:02.8971565+07:00 0HM9U7KKIGLCU:0000002D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:13:02.8976179+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5048ms. (6f83ade2)
2021-07-03T23:13:02.8976537+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.4203ms (afa2e885)
2021-07-03T23:13:02.8976998+07:00 0HM9U7KKIGLCU:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:02.8977938+07:00 0HM9U7KKIGLCU:0000002D [INF] Request finished in 10.4575ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:02.9158323+07:00 0HM9U7KKIGLD3:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=PMo9PkEQCDWJlVFKaQ6Wqw   (ca22a1cb)
2021-07-03T23:13:02.9163373+07:00 0HM9U7KKIGLD3:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:13:02.9616097+07:00 0HM9U7KKIGLD3:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:02.9633592+07:00 0HM9U7KKIGLD3:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:13:02.9663339+07:00 0HM9U7KKIGLD3:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:13:05.4457731+07:00 0HM9U7KKIGLCS:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:13:05.4469111+07:00 0HM9U7KKIGLCS:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:05.4473835+07:00 0HM9U7KKIGLCS:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:05.4477837+07:00 0HM9U7KKIGLCS:00000025 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:05.4498774+07:00 0HM9U7KKIGLCS:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:05.4544772+07:00 0HM9U7KKIGLCS:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:13:05.4566757+07:00 0HM9U7KKIGLCS:00000025 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:13:05.4599983+07:00 0HM9U7KKIGLCS:00000025 [INF] Executed ViewResult - view "Index" executed in 3.6356ms. (f66409e9)
2021-07-03T23:13:05.4601191+07:00 0HM9U7KKIGLCS:00000025 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 12.2632ms (afa2e885)
2021-07-03T23:13:05.4601712+07:00 0HM9U7KKIGLCS:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:05.4606105+07:00 0HM9U7KKIGLCS:00000025 [INF] Request finished in 14.8303ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:05.4680791+07:00 0HM9U7KKIGLD0:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:13:05.4682809+07:00 0HM9U7KKIGLD0:00000001 [INF] Request finished in 94035.9117ms 101  (791a596a)
2021-07-03T23:13:05.6104094+07:00 0HM9U7KKIGLCS:00000027 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:13:05.6117752+07:00 0HM9U7KKIGLCS:00000027 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:13:05.6131313+07:00 0HM9U7KKIGLCS:00000027 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:13:05.6133996+07:00 0HM9U7KKIGLCS:00000027 [INF] Request finished in 2.9765ms 200 application/json (791a596a)
2021-07-03T23:13:05.6260966+07:00 0HM9U7KKIGLCS:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:13:05.6270665+07:00 0HM9U7KKIGLCS:00000029 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:05.6272222+07:00 0HM9U7KKIGLCS:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:05.6273903+07:00 0HM9U7KKIGLCS:00000029 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:05.6283193+07:00 0HM9U7KKIGLCS:00000029 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:05.6303300+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:05.6313768+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:05.6319418+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:05.6324845+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:13:05.6330049+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:13:05.6334919+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:13:05.6339708+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:05.6345912+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:05.6350176+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:05.6356392+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:05.6360509+07:00 0HM9U7KKIGLCS:00000029 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:13:05.6377471+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.7386ms. (6f83ade2)
2021-07-03T23:13:05.6378745+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.411ms (afa2e885)
2021-07-03T23:13:05.6379395+07:00 0HM9U7KKIGLCS:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:05.6383694+07:00 0HM9U7KKIGLCS:00000029 [INF] Request finished in 12.1626ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:05.6817288+07:00 0HM9U7KKIGLCS:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T23:13:05.6839499+07:00 0HM9U7KKIGLCS:0000002B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T23:13:05.6839814+07:00 0HM9U7KKIGLD4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=HJZsIJ1cfjfAcHUlzTFW0A   (ca22a1cb)
2021-07-03T23:13:05.6841279+07:00 0HM9U7KKIGLCS:0000002B [INF] Request finished in 2.4383ms 200 image/png (791a596a)
2021-07-03T23:13:05.6849162+07:00 0HM9U7KKIGLD4:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:13:05.6943371+07:00 0HM9U7KKIGLD4:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:05.6950158+07:00 0HM9U7KKIGLD4:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:13:05.6972582+07:00 0HM9U7KKIGLD4:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:13:06.1343761+07:00 0HM9U7KKIGLCS:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:13:06.1350014+07:00 0HM9U7KKIGLCS:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:06.1350906+07:00 0HM9U7KKIGLCS:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:06.1351878+07:00 0HM9U7KKIGLCS:0000002D [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:06.1356026+07:00 0HM9U7KKIGLCS:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:06.1389112+07:00 0HM9U7KKIGLCS:0000002D [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:13:06.1404682+07:00 0HM9U7KKIGLCS:0000002D [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:13:06.1434871+07:00 0HM9U7KKIGLCS:0000002D [INF] Executed ViewResult - view "Index" executed in 3.1024ms. (f66409e9)
2021-07-03T23:13:06.1437379+07:00 0HM9U7KKIGLCS:0000002D [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 8.4783ms (afa2e885)
2021-07-03T23:13:06.1438147+07:00 0HM9U7KKIGLCS:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:06.1441966+07:00 0HM9U7KKIGLCS:0000002D [INF] Request finished in 9.9068ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:06.1500947+07:00 0HM9U7KKIGLD4:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:13:06.1502761+07:00 0HM9U7KKIGLD4:00000001 [INF] Request finished in 466.2943ms 101  (791a596a)
2021-07-03T23:13:06.2499640+07:00 0HM9U7KKIGLCS:0000002F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:13:06.2503698+07:00 0HM9U7KKIGLCS:0000002F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:13:06.2508346+07:00 0HM9U7KKIGLCS:0000002F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:13:06.2509102+07:00 0HM9U7KKIGLCS:0000002F [INF] Request finished in 1.0671ms 200 application/json (791a596a)
2021-07-03T23:13:06.2560106+07:00 0HM9U7KKIGLCS:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:13:06.2565750+07:00 0HM9U7KKIGLCS:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:06.2566642+07:00 0HM9U7KKIGLCS:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:06.2568304+07:00 0HM9U7KKIGLCS:00000031 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:06.2577442+07:00 0HM9U7KKIGLCS:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:06.2587632+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:06.2595817+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:06.2601609+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:06.2607987+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:13:06.2613930+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:13:06.2619107+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:13:06.2624134+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:06.2630999+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:06.2637853+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:06.2646479+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:06.2649295+07:00 0HM9U7KKIGLCS:00000031 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:13:06.2654710+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5546ms. (6f83ade2)
2021-07-03T23:13:06.2655143+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 8.6446ms (afa2e885)
2021-07-03T23:13:06.2655417+07:00 0HM9U7KKIGLCS:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:06.2656745+07:00 0HM9U7KKIGLCS:00000031 [INF] Request finished in 9.7028ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:06.2784245+07:00 0HM9U7KKIGLCS:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T23:13:06.2807618+07:00 0HM9U7KKIGLCS:00000033 [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T23:13:06.2809329+07:00 0HM9U7KKIGLCS:00000033 [INF] Request finished in 2.4496ms 200 image/png (791a596a)
2021-07-03T23:13:06.2812854+07:00 0HM9U7KKIGLD5:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=rEdxuuhKPu0Tya-Xt0KNkg   (ca22a1cb)
2021-07-03T23:13:06.2815676+07:00 0HM9U7KKIGLD5:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:13:06.2887030+07:00 0HM9U7KKIGLD5:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:06.2893344+07:00 0HM9U7KKIGLD5:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:13:06.2907790+07:00 0HM9U7KKIGLD5:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:13:06.7656987+07:00 0HM9U7KKIGLCS:00000035 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:13:06.7663663+07:00 0HM9U7KKIGLCS:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328786173   (ca22a1cb)
2021-07-03T23:13:06.7666689+07:00 0HM9U7KKIGLCS:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:06.7667461+07:00 0HM9U7KKIGLCS:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:06.7669284+07:00 0HM9U7KKIGLCS:00000037 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:06.7669449+07:00 0HM9U7KKIGLCS:00000035 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:06.7670408+07:00 0HM9U7KKIGLCS:00000037 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:06.7672400+07:00 0HM9U7KKIGLCS:00000037 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:06.7681490+07:00 0HM9U7KKIGLCS:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:06.7681519+07:00 0HM9U7KKIGLCS:00000037 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:06.7693214+07:00 0HM9U7KKIGLCS:00000037 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:06.7733618+07:00 0HM9U7KKIGLCS:00000035 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:06.7734509+07:00 0HM9U7KKIGLCS:00000037 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:06.7736201+07:00 0HM9U7KKIGLCS:00000035 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:13:06.7741818+07:00 0HM9U7KKIGLCS:00000035 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 7.1927ms (afa2e885)
2021-07-03T23:13:06.7742248+07:00 0HM9U7KKIGLCS:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:06.7744271+07:00 0HM9U7KKIGLCS:00000035 [INF] Request finished in 8.7352ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:06.7783945+07:00 0HM9U7KKIGLCS:00000037 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:06.7786026+07:00 0HM9U7KKIGLCS:00000037 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:13:06.7794425+07:00 0HM9U7KKIGLCS:00000037 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.8161ms. (6f83ade2)
2021-07-03T23:13:06.7795612+07:00 0HM9U7KKIGLCS:00000037 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 12.2517ms (afa2e885)
2021-07-03T23:13:06.7796032+07:00 0HM9U7KKIGLCS:00000037 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:06.7798258+07:00 0HM9U7KKIGLCS:00000037 [INF] Request finished in 13.5642ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:07.4213203+07:00 0HM9U7KKIGLCS:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:13:07.4229280+07:00 0HM9U7KKIGLCS:00000039 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:07.4232188+07:00 0HM9U7KKIGLCS:00000039 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:07.4234286+07:00 0HM9U7KKIGLCS:00000039 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:07.4289922+07:00 0HM9U7KKIGLCS:00000039 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:07.4359903+07:00 0HM9U7KKIGLCS:00000039 [INF] Executed DbCommand ("6"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:07.4437151+07:00 0HM9U7KKIGLCS:00000039 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:07.4497799+07:00 0HM9U7KKIGLCS:00000039 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:07.4504893+07:00 0HM9U7KKIGLCS:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:07.4524668+07:00 0HM9U7KKIGLCS:00000039 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:13:07.4533990+07:00 0HM9U7KKIGLCS:00000039 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 29.3196ms (afa2e885)
2021-07-03T23:13:07.4534931+07:00 0HM9U7KKIGLCS:00000039 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:07.4537423+07:00 0HM9U7KKIGLCS:00000039 [INF] Request finished in 32.5914ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:08.1412456+07:00 0HM9U7KKIGLCS:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:13:08.1419685+07:00 0HM9U7KKIGLCS:0000003B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:08.1421262+07:00 0HM9U7KKIGLCS:0000003B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:08.1422390+07:00 0HM9U7KKIGLCS:0000003B [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:08.1449337+07:00 0HM9U7KKIGLCS:0000003B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:08.1471159+07:00 0HM9U7KKIGLCS:0000003B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:13:08.1496219+07:00 0HM9U7KKIGLCS:0000003B [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:13:08.1509070+07:00 0HM9U7KKIGLCS:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:08.1536810+07:00 0HM9U7KKIGLCS:0000003B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:08.1539697+07:00 0HM9U7KKIGLCS:0000003B [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:13:08.1548022+07:00 0HM9U7KKIGLCS:0000003B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 12.51ms (afa2e885)
2021-07-03T23:13:08.1548381+07:00 0HM9U7KKIGLCS:0000003B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:08.1550284+07:00 0HM9U7KKIGLCS:0000003B [INF] Request finished in 14.0196ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:09.3311485+07:00 0HM9U7KKIGLCS:0000003D [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryZXq2knMRaq3NzwVB 889 (ca22a1cb)
2021-07-03T23:13:09.3316486+07:00 0HM9U7KKIGLCS:0000003D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:09.3317271+07:00 0HM9U7KKIGLCS:0000003D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:09.3318011+07:00 0HM9U7KKIGLCS:0000003D [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:09.3351368+07:00 0HM9U7KKIGLCS:0000003D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:09.3368354+07:00 0HM9U7KKIGLCS:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:13:09.3425670+07:00 0HM9U7KKIGLCS:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:13:09.3438892+07:00 0HM9U7KKIGLCS:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:13:09.3517974+07:00 0HM9U7KKIGLCS:0000003D [INF] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:13:09.3529437+07:00 0HM9U7KKIGLCS:0000003D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:13:09.3536972+07:00 0HM9U7KKIGLCS:0000003D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 21.8404ms (afa2e885)
2021-07-03T23:13:09.3537388+07:00 0HM9U7KKIGLCS:0000003D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:09.3539963+07:00 0HM9U7KKIGLCS:0000003D [INF] Request finished in 23.523ms 302  (791a596a)
2021-07-03T23:13:09.3648627+07:00 0HM9U7KKIGLCS:0000003F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:13:09.3651400+07:00 0HM9U7KKIGLCS:0000003F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:09.3651910+07:00 0HM9U7KKIGLCS:0000003F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:09.3652434+07:00 0HM9U7KKIGLCS:0000003F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:09.3654831+07:00 0HM9U7KKIGLCS:0000003F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:09.3685947+07:00 0HM9U7KKIGLCS:0000003F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:13:09.3695076+07:00 0HM9U7KKIGLCS:0000003F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:13:09.3726353+07:00 0HM9U7KKIGLCS:0000003F [INF] Executed ViewResult - view "Index" executed in 3.1789ms. (f66409e9)
2021-07-03T23:13:09.3727428+07:00 0HM9U7KKIGLCS:0000003F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.4652ms (afa2e885)
2021-07-03T23:13:09.3727884+07:00 0HM9U7KKIGLCS:0000003F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:09.3730457+07:00 0HM9U7KKIGLCS:0000003F [INF] Request finished in 8.1824ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:09.3795629+07:00 0HM9U7KKIGLD5:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:13:09.3796866+07:00 0HM9U7KKIGLD5:00000001 [INF] Request finished in 3098.4031ms 101  (791a596a)
2021-07-03T23:13:09.5063378+07:00 0HM9U7KKIGLCS:00000041 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:13:09.5067157+07:00 0HM9U7KKIGLCS:00000041 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:13:09.5071540+07:00 0HM9U7KKIGLCS:00000041 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:13:09.5072153+07:00 0HM9U7KKIGLCS:00000041 [INF] Request finished in 0.9267ms 200 application/json (791a596a)
2021-07-03T23:13:09.5161675+07:00 0HM9U7KKIGLCS:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:13:09.5164456+07:00 0HM9U7KKIGLCS:00000043 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:09.5165156+07:00 0HM9U7KKIGLCS:00000043 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:09.5165681+07:00 0HM9U7KKIGLCS:00000043 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:09.5170413+07:00 0HM9U7KKIGLCS:00000043 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:09.5177660+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:09.5184247+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:09.5189485+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:09.5195737+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:13:09.5203729+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:13:09.5218506+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:13:09.5228466+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:09.5235705+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:09.5241466+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:09.5246894+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:09.5249737+07:00 0HM9U7KKIGLCS:00000043 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:13:09.5256049+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.6395ms. (6f83ade2)
2021-07-03T23:13:09.5256693+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.0802ms (afa2e885)
2021-07-03T23:13:09.5256902+07:00 0HM9U7KKIGLCS:00000043 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:09.5258176+07:00 0HM9U7KKIGLCS:00000043 [INF] Request finished in 9.6467ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:09.5416048+07:00 0HM9U7KKIGLD6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=kJwW58g4z4vmNFL7ajZ-Ig   (ca22a1cb)
2021-07-03T23:13:09.5419654+07:00 0HM9U7KKIGLD6:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:13:09.5486622+07:00 0HM9U7KKIGLD6:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:09.5492421+07:00 0HM9U7KKIGLD6:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:13:09.5510886+07:00 0HM9U7KKIGLD6:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:13:10.4608862+07:00 0HM9U7KKIGLCS:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328789408   (ca22a1cb)
2021-07-03T23:13:10.4618144+07:00 0HM9U7KKIGLCS:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:10.4618922+07:00 0HM9U7KKIGLCS:00000047 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:13:10.4619464+07:00 0HM9U7KKIGLCS:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:10.4620273+07:00 0HM9U7KKIGLCS:00000045 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:10.4622597+07:00 0HM9U7KKIGLCS:00000047 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:10.4623140+07:00 0HM9U7KKIGLCS:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:10.4623630+07:00 0HM9U7KKIGLCS:00000047 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:10.4628205+07:00 0HM9U7KKIGLCS:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:10.4629612+07:00 0HM9U7KKIGLCS:00000047 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:10.4634196+07:00 0HM9U7KKIGLCS:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:10.4635976+07:00 0HM9U7KKIGLCS:00000047 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:10.4637933+07:00 0HM9U7KKIGLCS:00000047 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:13:10.4641633+07:00 0HM9U7KKIGLCS:00000047 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 1.7329ms (afa2e885)
2021-07-03T23:13:10.4641967+07:00 0HM9U7KKIGLCS:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:10.4643856+07:00 0HM9U7KKIGLCS:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:10.4643875+07:00 0HM9U7KKIGLCS:00000047 [INF] Request finished in 2.8642ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:10.4655881+07:00 0HM9U7KKIGLCS:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:10.4657706+07:00 0HM9U7KKIGLCS:00000045 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:13:10.4663507+07:00 0HM9U7KKIGLCS:00000045 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.6091ms. (6f83ade2)
2021-07-03T23:13:10.4664163+07:00 0HM9U7KKIGLCS:00000045 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 4.3438ms (afa2e885)
2021-07-03T23:13:10.4664438+07:00 0HM9U7KKIGLCS:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:10.4665541+07:00 0HM9U7KKIGLCS:00000045 [INF] Request finished in 5.693ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:11.1047360+07:00 0HM9U7KKIGLCS:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:13:11.1055981+07:00 0HM9U7KKIGLCS:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:11.1057625+07:00 0HM9U7KKIGLCS:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:11.1058640+07:00 0HM9U7KKIGLCS:00000049 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:11.1069939+07:00 0HM9U7KKIGLCS:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:11.1080803+07:00 0HM9U7KKIGLCS:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:11.1093974+07:00 0HM9U7KKIGLCS:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:11.1125028+07:00 0HM9U7KKIGLCS:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:11.1134283+07:00 0HM9U7KKIGLCS:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:11.1151596+07:00 0HM9U7KKIGLCS:00000049 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:13:11.1158586+07:00 0HM9U7KKIGLCS:00000049 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 9.9502ms (afa2e885)
2021-07-03T23:13:11.1159087+07:00 0HM9U7KKIGLCS:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:11.1160426+07:00 0HM9U7KKIGLCS:00000049 [INF] Request finished in 11.6325ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:14.8581391+07:00 0HM9U7KKIGLCU:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:13:14.8587516+07:00 0HM9U7KKIGLCU:0000002F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:14.8588535+07:00 0HM9U7KKIGLCU:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:14.8589366+07:00 0HM9U7KKIGLCU:0000002F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:14.8593377+07:00 0HM9U7KKIGLCU:0000002F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:14.8600602+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:14.8607616+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:14.8611965+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:14.8616588+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:13:14.8621117+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:13:14.8625755+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:13:14.8630167+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:14.8635732+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:14.8639909+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:14.8644072+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:13:14.8645842+07:00 0HM9U7KKIGLCU:0000002F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:13:14.8651339+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5826ms. (6f83ade2)
2021-07-03T23:13:14.8651577+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 6.2017ms (afa2e885)
2021-07-03T23:13:14.8651756+07:00 0HM9U7KKIGLCU:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:14.8652545+07:00 0HM9U7KKIGLCU:0000002F [INF] Request finished in 7.1299ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:15.4737947+07:00 0HM9U7KKIGLCU:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625328782790   (ca22a1cb)
2021-07-03T23:13:15.4749123+07:00 0HM9U7KKIGLCU:00000033 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:13:15.4750664+07:00 0HM9U7KKIGLCU:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:15.4753775+07:00 0HM9U7KKIGLCU:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:15.4755254+07:00 0HM9U7KKIGLCU:00000031 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:15.4755868+07:00 0HM9U7KKIGLCU:00000033 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:15.4756849+07:00 0HM9U7KKIGLCU:00000033 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:15.4757696+07:00 0HM9U7KKIGLCU:00000033 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:15.4762386+07:00 0HM9U7KKIGLCU:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:15.4769557+07:00 0HM9U7KKIGLCU:00000033 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:15.4771158+07:00 0HM9U7KKIGLCU:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:15.4783610+07:00 0HM9U7KKIGLCU:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:15.4784625+07:00 0HM9U7KKIGLCU:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:13:15.4787044+07:00 0HM9U7KKIGLCU:00000033 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:13:15.4791291+07:00 0HM9U7KKIGLCU:00000033 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 3.3007ms (afa2e885)
2021-07-03T23:13:15.4793488+07:00 0HM9U7KKIGLCU:00000033 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:15.4796663+07:00 0HM9U7KKIGLCU:00000033 [INF] Request finished in 4.8802ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:15.4807733+07:00 0HM9U7KKIGLCU:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:15.4811497+07:00 0HM9U7KKIGLCU:00000031 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:13:15.4819819+07:00 0HM9U7KKIGLCU:00000031 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.9641ms. (6f83ade2)
2021-07-03T23:13:15.4820201+07:00 0HM9U7KKIGLCU:00000031 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 6.4531ms (afa2e885)
2021-07-03T23:13:15.4820467+07:00 0HM9U7KKIGLCU:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:15.4821615+07:00 0HM9U7KKIGLCU:00000031 [INF] Request finished in 8.5673ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:13:16.4726633+07:00 0HM9U7KKIGLCU:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:13:16.4730410+07:00 0HM9U7KKIGLCU:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:16.4731211+07:00 0HM9U7KKIGLCU:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:16.4731875+07:00 0HM9U7KKIGLCU:00000035 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:16.4738473+07:00 0HM9U7KKIGLCU:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:16.4745410+07:00 0HM9U7KKIGLCU:00000035 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:16.4753269+07:00 0HM9U7KKIGLCU:00000035 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:16.4786846+07:00 0HM9U7KKIGLCU:00000035 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:13:16.4792872+07:00 0HM9U7KKIGLCU:00000035 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:13:16.4804035+07:00 0HM9U7KKIGLCU:00000035 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:13:16.4808065+07:00 0HM9U7KKIGLCU:00000035 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 7.5902ms (afa2e885)
2021-07-03T23:13:16.4808378+07:00 0HM9U7KKIGLCU:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:16.4809267+07:00 0HM9U7KKIGLCU:00000035 [INF] Request finished in 8.4455ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:13:21.5498135+07:00 0HM9U7KKIGLCS:0000004B [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:13:21.5511023+07:00 0HM9U7KKIGLCS:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:13:21.5513108+07:00 0HM9U7KKIGLCS:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:13:21.5514772+07:00 0HM9U7KKIGLCS:0000004B [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:13:21.5539314+07:00 0HM9U7KKIGLCS:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:13:21.5567916+07:00 0HM9U7KKIGLCS:0000004B [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:13:21.5593722+07:00 0HM9U7KKIGLCS:0000004B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:13:21.5641023+07:00 0HM9U7KKIGLCS:0000004B [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:13:21.5711173+07:00 0HM9U7KKIGLCS:0000004B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:13:21.5714852+07:00 0HM9U7KKIGLCS:0000004B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:13:21.5717083+07:00 0HM9U7KKIGLCS:0000004B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 20.1912ms (afa2e885)
2021-07-03T23:13:21.5717481+07:00 0HM9U7KKIGLCS:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:13:21.5718691+07:00 0HM9U7KKIGLCS:0000004B [INF] Request finished in 22.0845ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:08.0805255+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T23:37:09.4329024+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T23:37:09.4378857+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T23:37:09.4397772+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T23:37:09.4413296+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T23:37:10.2805449+07:00 0HM9U836NTR8T:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:37:10.8027451+07:00 0HM9U836NTR8T:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:11.0569008+07:00 0HM9U836NTR8T:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:11.1012337+07:00 0HM9U836NTR8T:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:11.1147729+07:00 0HM9U836NTR8T:00000001 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:37:11.1413700+07:00 0HM9U836NTR8T:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:37:11.1474731+07:00 0HM9U836NTR8T:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 40.7201ms (afa2e885)
2021-07-03T23:37:11.1475780+07:00 0HM9U836NTR8T:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:11.1624629+07:00 0HM9U836NTR8T:00000001 [INF] Request finished in 885.3922ms 302  (791a596a)
2021-07-03T23:37:11.1737882+07:00 0HM9U836NTR8T:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:37:11.1780962+07:00 0HM9U836NTR8T:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:11.1810115+07:00 0HM9U836NTR8T:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:11.2185933+07:00 0HM9U836NTR8T:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:37:11.5067705+07:00 0HM9U836NTR8T:00000003 [INF] Executed ViewResult - view "Login" executed in 321.491ms. (f66409e9)
2021-07-03T23:37:11.5068606+07:00 0HM9U836NTR8T:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 325.7915ms (afa2e885)
2021-07-03T23:37:11.5069065+07:00 0HM9U836NTR8T:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:11.5090291+07:00 0HM9U836NTR8T:00000003 [INF] Request finished in 335.2076ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:22.3651665+07:00 0HM9U836NTR8T:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:37:22.3797257+07:00 0HM9U836NTR8T:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:22.3935187+07:00 0HM9U836NTR8T:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:22.4386973+07:00 0HM9U836NTR8T:00000005 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:37:23.3535272+07:00 0HM9U836NTR8T:00000005 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:37:23.3568831+07:00 0HM9U836NTR8T:00000005 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:37:23.4757145+07:00 0HM9U836NTR8T:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:24.3212466+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("45"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:37:24.3818185+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:37:24.5821219+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:37:24.6163058+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:37:24.6232672+07:00 0HM9U836NTR8T:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:37:24.6296262+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:37:24.6371516+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:37:24.7440614+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:37:24.7618566+07:00 0HM9U836NTR8T:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:24.7918953+07:00 0HM9U836NTR8T:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:37:24.7929235+07:00 0HM9U836NTR8T:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2399.3121ms (afa2e885)
2021-07-03T23:37:24.7933881+07:00 0HM9U836NTR8T:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:24.7950850+07:00 0HM9U836NTR8T:00000005 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"348a4351-126b-6dc0-87e1-06df8b99fa68" (1d7cf8c0)
2021-07-03T23:37:24.8009158+07:00 0HM9U836NTR8T:00000005 [INF] Request finished in 2436.3011ms 302  (791a596a)
2021-07-03T23:37:24.8099651+07:00 0HM9U836NTR8T:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:37:24.8108616+07:00 0HM9U836NTR8T:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:24.8109952+07:00 0HM9U836NTR8T:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:24.8111480+07:00 0HM9U836NTR8T:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:24.8403629+07:00 0HM9U836NTR8T:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:24.8558585+07:00 0HM9U836NTR8T:00000007 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:37:24.8586307+07:00 0HM9U836NTR8T:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:37:24.9061424+07:00 0HM9U836NTR8T:00000007 [INF] Executed ViewResult - view "Index" executed in 49.5243ms. (f66409e9)
2021-07-03T23:37:24.9062759+07:00 0HM9U836NTR8T:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 95.0906ms (afa2e885)
2021-07-03T23:37:24.9063527+07:00 0HM9U836NTR8T:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:24.9066098+07:00 0HM9U836NTR8T:00000007 [INF] Request finished in 96.6857ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:25.1173034+07:00 0HM9U836NTR8T:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:37:25.1206829+07:00 0HM9U836NTR8T:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:37:25.1283584+07:00 0HM9U836NTR8T:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:37:25.1301553+07:00 0HM9U836NTR8T:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:25.1302827+07:00 0HM9U836NTR8T:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:25.1330716+07:00 0HM9U836NTR8T:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:25.1444591+07:00 0HM9U836NTR8T:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:37:25.1448656+07:00 0HM9U836NTR8T:00000009 [INF] Request finished in 27.9918ms 200 application/json (791a596a)
2021-07-03T23:37:25.1566822+07:00 0HM9U836NTR8T:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:25.1613956+07:00 0HM9U836NTR8U:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=-NGJZg0Ph1xXYo_bsDBhyA   (ca22a1cb)
2021-07-03T23:37:25.1620969+07:00 0HM9U836NTR8U:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:37:25.1751775+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("8"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:25.2182987+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:25.2207960+07:00 0HM9U836NTR8U:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:25.2229058+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:25.2254429+07:00 0HM9U836NTR8U:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:37:25.2311738+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:37:25.2347934+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:37:25.2446395+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:37:25.2570128+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:37:25.2586035+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:25.2590000+07:00 0HM9U836NTR8U:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:37:25.2592658+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:25.2602133+07:00 0HM9U836NTR8T:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:37:25.2682259+07:00 0HM9U836NTR8T:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:37:25.2781584+07:00 0HM9U836NTR8T:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 13.0308ms. (6f83ade2)
2021-07-03T23:37:25.2782768+07:00 0HM9U836NTR8T:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 145.1329ms (afa2e885)
2021-07-03T23:37:25.2784642+07:00 0HM9U836NTR8T:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:25.2788982+07:00 0HM9U836NTR8T:0000000B [INF] Request finished in 150.5517ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:29.5595711+07:00 0HM9U836NTR8T:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330244959   (ca22a1cb)
2021-07-03T23:37:29.5599574+07:00 0HM9U836NTR8T:0000000F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:37:29.5818230+07:00 0HM9U836NTR8T:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:29.5818394+07:00 0HM9U836NTR8T:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:29.5822620+07:00 0HM9U836NTR8T:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:29.5822620+07:00 0HM9U836NTR8T:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:29.5846908+07:00 0HM9U836NTR8T:0000000D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:29.5847004+07:00 0HM9U836NTR8T:0000000F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:29.5906844+07:00 0HM9U836NTR8T:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:29.5906844+07:00 0HM9U836NTR8T:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:29.5963850+07:00 0HM9U836NTR8T:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:29.5972346+07:00 0HM9U836NTR8T:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:29.5990546+07:00 0HM9U836NTR8T:0000000F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:37:29.6071087+07:00 0HM9U836NTR8T:0000000F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 22.3167ms (afa2e885)
2021-07-03T23:37:29.6071627+07:00 0HM9U836NTR8T:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:29.6074729+07:00 0HM9U836NTR8T:0000000F [INF] Request finished in 48.5502ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:29.6197995+07:00 0HM9U836NTR8T:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:29.6485197+07:00 0HM9U836NTR8T:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:29.6530876+07:00 0HM9U836NTR8T:0000000D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:37:29.6593655+07:00 0HM9U836NTR8T:0000000D [INF] Executed PartialViewResult - view "_ChatForm" executed in 10.0887ms. (6f83ade2)
2021-07-03T23:37:29.6594603+07:00 0HM9U836NTR8T:0000000D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 74.6906ms (afa2e885)
2021-07-03T23:37:29.6594880+07:00 0HM9U836NTR8T:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:29.6596361+07:00 0HM9U836NTR8T:0000000D [INF] Request finished in 101.4703ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:30.6849073+07:00 0HM9U836NTR8T:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:37:30.7001677+07:00 0HM9U836NTR8T:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:30.7018926+07:00 0HM9U836NTR8T:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:30.7100297+07:00 0HM9U836NTR8T:00000011 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:30.7159659+07:00 0HM9U836NTR8T:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:30.7193885+07:00 0HM9U836NTR8T:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:30.7286243+07:00 0HM9U836NTR8T:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:30.7535787+07:00 0HM9U836NTR8T:00000011 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:30.7555223+07:00 0HM9U836NTR8T:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:30.7843459+07:00 0HM9U836NTR8T:00000011 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:37:30.8235490+07:00 0HM9U836NTR8T:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 113.3334ms (afa2e885)
2021-07-03T23:37:30.8236073+07:00 0HM9U836NTR8T:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:30.8239448+07:00 0HM9U836NTR8T:00000011 [INF] Request finished in 141.0655ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:32.8139686+07:00 0HM9U836NTR8T:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:37:32.8159345+07:00 0HM9U836NTR8T:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:32.8163663+07:00 0HM9U836NTR8T:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:32.8196121+07:00 0HM9U836NTR8T:00000013 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:32.8254839+07:00 0HM9U836NTR8T:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:32.8270454+07:00 0HM9U836NTR8T:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:37:32.8312407+07:00 0HM9U836NTR8T:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:37:32.8341766+07:00 0HM9U836NTR8T:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:32.8428102+07:00 0HM9U836NTR8T:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:32.8435103+07:00 0HM9U836NTR8T:00000013 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:37:32.8585007+07:00 0HM9U836NTR8T:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 38.7525ms (afa2e885)
2021-07-03T23:37:32.8585548+07:00 0HM9U836NTR8T:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:32.8588167+07:00 0HM9U836NTR8T:00000013 [INF] Request finished in 45.0754ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:33.7551800+07:00 0HM9U836NTR8T:00000015 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryLQvOjjc52QUDFqAB 889 (ca22a1cb)
2021-07-03T23:37:33.7567134+07:00 0HM9U836NTR8T:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:33.7568877+07:00 0HM9U836NTR8T:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:33.7672308+07:00 0HM9U836NTR8T:00000015 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:33.7913532+07:00 0HM9U836NTR8T:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:33.7971757+07:00 0HM9U836NTR8T:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:37:33.8354730+07:00 0HM9U836NTR8T:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:37:33.8418343+07:00 0HM9U836NTR8T:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:37:33.8451964+07:00 0HM9U836NTR8T:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:37:33.8542217+07:00 0HM9U836NTR8T:00000015 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:37:33.8568334+07:00 0HM9U836NTR8T:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 89.4623ms (afa2e885)
2021-07-03T23:37:33.8568717+07:00 0HM9U836NTR8T:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:33.8572518+07:00 0HM9U836NTR8T:00000015 [INF] Request finished in 102.6931ms 302  (791a596a)
2021-07-03T23:37:33.8874442+07:00 0HM9U836NTR8T:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:37:33.8878672+07:00 0HM9U836NTR8T:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:33.8879425+07:00 0HM9U836NTR8T:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:33.8880312+07:00 0HM9U836NTR8T:00000017 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:33.8882735+07:00 0HM9U836NTR8T:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:33.8907328+07:00 0HM9U836NTR8T:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:37:33.8921839+07:00 0HM9U836NTR8T:00000017 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:37:33.9432315+07:00 0HM9U836NTR8T:00000017 [INF] Executed ViewResult - view "Index" executed in 51.226ms. (f66409e9)
2021-07-03T23:37:33.9433069+07:00 0HM9U836NTR8T:00000017 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 55.2525ms (afa2e885)
2021-07-03T23:37:33.9433394+07:00 0HM9U836NTR8T:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:33.9435442+07:00 0HM9U836NTR8T:00000017 [INF] Request finished in 56.1116ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:33.9692577+07:00 0HM9U836NTR8U:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:37:33.9695120+07:00 0HM9U836NTR8U:00000001 [INF] Request finished in 8808.1608ms 101  (791a596a)
2021-07-03T23:37:34.0436683+07:00 0HM9U836NTR8T:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:37:34.0440977+07:00 0HM9U836NTR8T:00000019 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:37:34.0444969+07:00 0HM9U836NTR8T:00000019 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:37:34.0446193+07:00 0HM9U836NTR8T:00000019 [INF] Request finished in 1.1191ms 200 application/json (791a596a)
2021-07-03T23:37:34.0506970+07:00 0HM9U836NTR8T:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:37:34.0511570+07:00 0HM9U836NTR8T:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:34.0512500+07:00 0HM9U836NTR8T:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:34.0513330+07:00 0HM9U836NTR8T:0000001B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:34.0520856+07:00 0HM9U836NTR8T:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:34.0540480+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:34.0553210+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:34.0559681+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:34.0566578+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:37:34.0573948+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:37:34.0580102+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:37:34.0587375+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:37:34.0595132+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:34.0601176+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:34.0608533+07:00 0HM9U836NTR8T:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:37:34.0611853+07:00 0HM9U836NTR8T:0000001B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:37:34.0622620+07:00 0HM9U836NTR8T:0000001B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.0834ms. (6f83ade2)
2021-07-03T23:37:34.0623747+07:00 0HM9U836NTR8T:0000001B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.9989ms (afa2e885)
2021-07-03T23:37:34.0624284+07:00 0HM9U836NTR8T:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:34.0626638+07:00 0HM9U836NTR8T:0000001B [INF] Request finished in 12.028ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:34.0788631+07:00 0HM9U836NTR8V:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=TPDqbSlOvxpDvTOm7Y9cmA   (ca22a1cb)
2021-07-03T23:37:34.0792356+07:00 0HM9U836NTR8V:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:37:34.0885737+07:00 0HM9U836NTR8V:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:34.0891499+07:00 0HM9U836NTR8V:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:37:34.0906585+07:00 0HM9U836NTR8V:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:37:39.0431988+07:00 0HM9U836NTR90:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:37:39.0444864+07:00 0HM9U836NTR90:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:39.0447910+07:00 0HM9U836NTR90:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:39.0451051+07:00 0HM9U836NTR90:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:39.0453874+07:00 0HM9U836NTR90:00000001 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T23:37:39.0459582+07:00 0HM9U836NTR90:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:37:39.0462660+07:00 0HM9U836NTR90:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 1.0353ms (afa2e885)
2021-07-03T23:37:39.0464391+07:00 0HM9U836NTR90:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:39.0477789+07:00 0HM9U836NTR90:00000001 [INF] Request finished in 4.765ms 302  (791a596a)
2021-07-03T23:37:39.0534481+07:00 0HM9U836NTR90:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:37:39.0545423+07:00 0HM9U836NTR90:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:39.0547676+07:00 0HM9U836NTR90:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:39.0568688+07:00 0HM9U836NTR90:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:37:39.0618803+07:00 0HM9U836NTR90:00000003 [INF] Executed ViewResult - view "Login" executed in 5.1672ms. (f66409e9)
2021-07-03T23:37:39.0619721+07:00 0HM9U836NTR90:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 7.143ms (afa2e885)
2021-07-03T23:37:39.0620175+07:00 0HM9U836NTR90:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:39.0623560+07:00 0HM9U836NTR90:00000003 [INF] Request finished in 8.857ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:45.7887728+07:00 0HM9U836NTR90:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:37:45.7911543+07:00 0HM9U836NTR90:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:45.7918442+07:00 0HM9U836NTR90:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:45.7941194+07:00 0HM9U836NTR90:00000005 [INF] Accessing expired session, Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88" (08c5a9e7)
2021-07-03T23:37:45.7946850+07:00 0HM9U836NTR90:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:45.7977431+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:37:45.8012190+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:37:45.8118164+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:37:45.8149670+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:37:45.8156757+07:00 0HM9U836NTR90:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:37:45.8177322+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:37:45.8189957+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:37:45.8229330+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:37:45.8299077+07:00 0HM9U836NTR90:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:45.8308423+07:00 0HM9U836NTR90:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:37:45.8309788+07:00 0HM9U836NTR90:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 39.0413ms (afa2e885)
2021-07-03T23:37:45.8310170+07:00 0HM9U836NTR90:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:45.8311137+07:00 0HM9U836NTR90:00000005 [INF] Session started; Key:"0de1467f-fdde-2d3a-7b9d-810189d7eb88", Id:"7965b1fb-8cd9-c130-c43b-deb6224c5a26" (1d7cf8c0)
2021-07-03T23:37:45.8315709+07:00 0HM9U836NTR90:00000005 [INF] Request finished in 43.3172ms 302  (791a596a)
2021-07-03T23:37:45.8356416+07:00 0HM9U836NTR90:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:37:45.8360785+07:00 0HM9U836NTR90:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:45.8361419+07:00 0HM9U836NTR90:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:45.8362057+07:00 0HM9U836NTR90:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:45.8364658+07:00 0HM9U836NTR90:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:45.8396882+07:00 0HM9U836NTR90:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:37:45.8403425+07:00 0HM9U836NTR90:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:37:45.8422173+07:00 0HM9U836NTR90:00000007 [INF] Executed ViewResult - view "Index" executed in 1.9495ms. (f66409e9)
2021-07-03T23:37:45.8423551+07:00 0HM9U836NTR90:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.1064ms (afa2e885)
2021-07-03T23:37:45.8424450+07:00 0HM9U836NTR90:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:45.8428849+07:00 0HM9U836NTR90:00000007 [INF] Request finished in 7.2637ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:45.9461286+07:00 0HM9U836NTR90:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:37:45.9720678+07:00 0HM9U836NTR90:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:37:45.9740903+07:00 0HM9U836NTR90:0000000B [INF] Request finished in 2.0327ms 404  (791a596a)
2021-07-03T23:37:45.9799646+07:00 0HM9U836NTR90:00000009 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:37:45.9802848+07:00 0HM9U836NTR90:00000009 [INF] Request finished in 34.2337ms 200 text/plain (791a596a)
2021-07-03T23:37:46.0551216+07:00 0HM9U836NTR90:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:37:46.0556547+07:00 0HM9U836NTR90:0000000D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:37:46.0570380+07:00 0HM9U836NTR90:0000000D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:37:46.0572927+07:00 0HM9U836NTR90:0000000D [INF] Request finished in 2.425ms 200 application/json (791a596a)
2021-07-03T23:37:46.0792899+07:00 0HM9U836NTR90:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:37:46.0797833+07:00 0HM9U836NTR90:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:46.0798704+07:00 0HM9U836NTR90:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:46.0799636+07:00 0HM9U836NTR90:0000000F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:46.0805067+07:00 0HM9U836NTR90:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:46.0829839+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:46.0863455+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:46.0882376+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:46.0905812+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:37:46.0941237+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:37:46.0963314+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:37:46.0983324+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:37:46.1025337+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:46.1052674+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:46.1085737+07:00 0HM9U836NTR90:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:37:46.1092108+07:00 0HM9U836NTR90:0000000F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:37:46.1123322+07:00 0HM9U836NTR90:0000000F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 3.1833ms. (6f83ade2)
2021-07-03T23:37:46.1124228+07:00 0HM9U836NTR90:0000000F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 32.4168ms (afa2e885)
2021-07-03T23:37:46.1124718+07:00 0HM9U836NTR90:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:46.1127006+07:00 0HM9U836NTR90:0000000F [INF] Request finished in 33.563ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:46.1136779+07:00 0HM9U836NTR91:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=vliXSWX9elbRGeFAr86vcw   (ca22a1cb)
2021-07-03T23:37:46.1143119+07:00 0HM9U836NTR91:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:37:46.1293355+07:00 0HM9U836NTR91:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:46.1313381+07:00 0HM9U836NTR91:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:37:46.1349325+07:00 0HM9U836NTR91:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:37:47.0755024+07:00 0HM9U836NTR90:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330265877   (ca22a1cb)
2021-07-03T23:37:47.0788517+07:00 0HM9U836NTR90:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:47.0792863+07:00 0HM9U836NTR90:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:47.0799771+07:00 0HM9U836NTR90:00000011 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:47.0800285+07:00 0HM9U836NTR90:00000013 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:37:47.0829845+07:00 0HM9U836NTR90:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:47.0835209+07:00 0HM9U836NTR90:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:47.0837884+07:00 0HM9U836NTR90:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:47.0840255+07:00 0HM9U836NTR90:00000013 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:47.0858584+07:00 0HM9U836NTR90:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:47.0864542+07:00 0HM9U836NTR90:00000011 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:47.0903019+07:00 0HM9U836NTR90:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:47.0917992+07:00 0HM9U836NTR90:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:37:47.0927757+07:00 0HM9U836NTR90:00000013 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:37:47.0946756+07:00 0HM9U836NTR90:00000013 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 10.5515ms (afa2e885)
2021-07-03T23:37:47.0947747+07:00 0HM9U836NTR90:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:47.0953601+07:00 0HM9U836NTR90:00000013 [INF] Request finished in 15.6676ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:47.0988245+07:00 0HM9U836NTR90:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:47.0992273+07:00 0HM9U836NTR90:00000011 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:37:47.0999599+07:00 0HM9U836NTR90:00000011 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.7942ms. (6f83ade2)
2021-07-03T23:37:47.0999858+07:00 0HM9U836NTR90:00000011 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 19.9203ms (afa2e885)
2021-07-03T23:37:47.1000012+07:00 0HM9U836NTR90:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:47.1000828+07:00 0HM9U836NTR90:00000011 [INF] Request finished in 25.2002ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:37:49.6419556+07:00 0HM9U836NTR90:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:37:49.6433891+07:00 0HM9U836NTR90:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:49.6436979+07:00 0HM9U836NTR90:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:49.6439102+07:00 0HM9U836NTR90:00000015 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:49.6455332+07:00 0HM9U836NTR90:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:49.6471881+07:00 0HM9U836NTR90:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:49.6490967+07:00 0HM9U836NTR90:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:49.6529641+07:00 0HM9U836NTR90:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:49.6537049+07:00 0HM9U836NTR90:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:49.6556694+07:00 0HM9U836NTR90:00000015 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:37:49.6566321+07:00 0HM9U836NTR90:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 12.6575ms (afa2e885)
2021-07-03T23:37:49.6566812+07:00 0HM9U836NTR90:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:49.6569664+07:00 0HM9U836NTR90:00000015 [INF] Request finished in 15.0344ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:51.0438798+07:00 0HM9U836NTR90:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T23:37:51.0454324+07:00 0HM9U836NTR90:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:51.0457321+07:00 0HM9U836NTR90:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:51.0494128+07:00 0HM9U836NTR90:00000017 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:51.0532312+07:00 0HM9U836NTR90:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:51.0545245+07:00 0HM9U836NTR90:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:51.0561249+07:00 0HM9U836NTR90:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:51.0603212+07:00 0HM9U836NTR90:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=3   (ca22a1cb)
2021-07-03T23:37:51.0613819+07:00 0HM9U836NTR90:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:37:51.0615875+07:00 0HM9U836NTR90:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:37:51.0618019+07:00 0HM9U836NTR90:00000019 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:37:51.0638311+07:00 0HM9U836NTR90:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:37:51.0658142+07:00 0HM9U836NTR90:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:37:51.0677683+07:00 0HM9U836NTR90:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:37:51.0705968+07:00 0HM9U836NTR90:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:51.0710489+07:00 0HM9U836NTR90:00000019 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:37:51.0726409+07:00 0HM9U836NTR90:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:37:51.0729988+07:00 0HM9U836NTR90:00000017 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:37:51.0778343+07:00 0HM9U836NTR90:00000017 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 28.3551ms (afa2e885)
2021-07-03T23:37:51.0778427+07:00 0HM9U836NTR90:00000019 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 16.0105ms (afa2e885)
2021-07-03T23:37:51.0778757+07:00 0HM9U836NTR90:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:51.0778772+07:00 0HM9U836NTR90:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:37:51.0781579+07:00 0HM9U836NTR90:00000017 [INF] Request finished in 34.3316ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:37:51.0781740+07:00 0HM9U836NTR90:00000019 [INF] Request finished in 18.0544ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:38:53.7082702+07:00 0HM9U836NTR8T:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:38:53.7094134+07:00 0HM9U836NTR8T:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330253976   (ca22a1cb)
2021-07-03T23:38:53.7108083+07:00 0HM9U836NTR8T:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:38:53.7108082+07:00 0HM9U836NTR8T:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:38:53.7110446+07:00 0HM9U836NTR8T:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:38:53.7110478+07:00 0HM9U836NTR8T:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:38:53.7112896+07:00 0HM9U836NTR8T:0000001F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:38:53.7113023+07:00 0HM9U836NTR8T:0000001D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:38:53.7140572+07:00 0HM9U836NTR8T:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:38:53.7140572+07:00 0HM9U836NTR8T:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:38:53.7246019+07:00 0HM9U836NTR8T:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:38:53.7257902+07:00 0HM9U836NTR8T:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:38:53.7261245+07:00 0HM9U836NTR8T:0000001D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:38:53.7270581+07:00 0HM9U836NTR8T:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:38:53.7274409+07:00 0HM9U836NTR8T:0000001D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 16.0486ms (afa2e885)
2021-07-03T23:38:53.7280981+07:00 0HM9U836NTR8T:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:38:53.7283883+07:00 0HM9U836NTR8T:0000001D [INF] Request finished in 20.2319ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:38:53.7316842+07:00 0HM9U836NTR8T:0000001F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:38:53.7319629+07:00 0HM9U836NTR8T:0000001F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:38:53.7326602+07:00 0HM9U836NTR8T:0000001F [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.7959ms. (6f83ade2)
2021-07-03T23:38:53.7326926+07:00 0HM9U836NTR8T:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 21.3756ms (afa2e885)
2021-07-03T23:38:53.7327185+07:00 0HM9U836NTR8T:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:38:53.7328671+07:00 0HM9U836NTR8T:0000001F [INF] Request finished in 23.5071ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:39:02.3086627+07:00 0HM9U836NTR8T:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:39:02.3096131+07:00 0HM9U836NTR8T:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:02.3098531+07:00 0HM9U836NTR8T:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:02.3101388+07:00 0HM9U836NTR8T:00000021 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:02.3117373+07:00 0HM9U836NTR8T:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:02.3130434+07:00 0HM9U836NTR8T:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:39:02.3190322+07:00 0HM9U836NTR8T:00000021 [INF] Executed DbCommand ("5"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:39:02.3259343+07:00 0HM9U836NTR8T:00000021 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:39:02.3270597+07:00 0HM9U836NTR8T:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:39:02.3298917+07:00 0HM9U836NTR8T:00000021 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:39:02.3317552+07:00 0HM9U836NTR8T:00000021 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 21.5419ms (afa2e885)
2021-07-03T23:39:02.3318009+07:00 0HM9U836NTR8T:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:02.3322266+07:00 0HM9U836NTR8T:00000021 [INF] Request finished in 23.5514ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:39:03.9349271+07:00 0HM9U836NTR8T:00000023 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:39:03.9355914+07:00 0HM9U836NTR8T:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:03.9356975+07:00 0HM9U836NTR8T:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:03.9378759+07:00 0HM9U836NTR8T:00000023 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:03.9404966+07:00 0HM9U836NTR8T:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:03.9472714+07:00 0HM9U836NTR8T:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:39:03.9520027+07:00 0HM9U836NTR8T:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:39:03.9647111+07:00 0HM9U836NTR8T:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:39:03.9846642+07:00 0HM9U836NTR8T:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:39:03.9873718+07:00 0HM9U836NTR8T:00000023 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:39:03.9889733+07:00 0HM9U836NTR8T:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 51.0118ms (afa2e885)
2021-07-03T23:39:03.9890853+07:00 0HM9U836NTR8T:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:03.9893988+07:00 0HM9U836NTR8T:00000023 [INF] Request finished in 54.5269ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:39:09.2273891+07:00 0HM9U836NTR90:0000001B [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/SendNotifyAddNewContact application/x-www-form-urlencoded; charset=UTF-8 55 (ca22a1cb)
2021-07-03T23:39:09.2286447+07:00 0HM9U836NTR90:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:09.2288132+07:00 0HM9U836NTR90:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:09.2311438+07:00 0HM9U836NTR90:0000001B [INF] Route matched with "{action = \"SendNotifyAddNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SendNotifyAddNewContact(System.Guid, System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:09.2334994+07:00 0HM9U836NTR90:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:09.2362483+07:00 0HM9U836NTR90:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:39:09.2449564+07:00 0HM9U836NTR90:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T23:39:09.2467686+07:00 0HM9U836NTR90:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T23:39:09.2818405+07:00 0HM9U836NTR90:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 100), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Notifications] ([Content], [CreatedAt], [LastModifyAt], [ReceiverGroupId], [SenderId], [Title], [TypeNotification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Notifications]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:39:09.3178379+07:00 0HM9U836NTR90:0000001B [INF] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NotificationUsers] ([CreatedAt], [LastModifyAt], [NotificationId], [ReceiverUserId], [TimeRead])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id], [IsRead]
FROM [NotificationUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:39:09.3246690+07:00 0HM9U836NTR90:0000001B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:39:09.3248656+07:00 0HM9U836NTR90:0000001B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:39:09.3254791+07:00 0HM9U836NTR90:0000001B [INF] Executed action "WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)" in 94.2854ms (afa2e885)
2021-07-03T23:39:09.3255095+07:00 0HM9U836NTR90:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:09.3257195+07:00 0HM9U836NTR90:0000001B [INF] Request finished in 98.6188ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:39:13.5881159+07:00 0HM9U836NTR90:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/SendNotifyAddNewContact application/x-www-form-urlencoded; charset=UTF-8 55 (ca22a1cb)
2021-07-03T23:39:13.5938079+07:00 0HM9U836NTR90:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:13.5939488+07:00 0HM9U836NTR90:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:13.5940827+07:00 0HM9U836NTR90:0000001D [INF] Route matched with "{action = \"SendNotifyAddNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SendNotifyAddNewContact(System.Guid, System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:13.5954314+07:00 0HM9U836NTR90:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:13.5965662+07:00 0HM9U836NTR90:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:39:13.5982356+07:00 0HM9U836NTR90:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T23:39:13.5992718+07:00 0HM9U836NTR90:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T23:39:13.6032638+07:00 0HM9U836NTR90:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 100), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Notifications] ([Content], [CreatedAt], [LastModifyAt], [ReceiverGroupId], [SenderId], [Title], [TypeNotification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Notifications]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:39:13.6113283+07:00 0HM9U836NTR90:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NotificationUsers] ([CreatedAt], [LastModifyAt], [NotificationId], [ReceiverUserId], [TimeRead])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id], [IsRead]
FROM [NotificationUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:39:13.6134287+07:00 0HM9U836NTR90:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:39:13.6135905+07:00 0HM9U836NTR90:0000001D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:39:13.6142274+07:00 0HM9U836NTR90:0000001D [INF] Executed action "WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)" in 20.1ms (afa2e885)
2021-07-03T23:39:13.6142550+07:00 0HM9U836NTR90:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:13.6145061+07:00 0HM9U836NTR90:0000001D [INF] Request finished in 26.5116ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:39:15.4685410+07:00 0HM9U836NTR90:0000001F [INF] Request starting HTTP/2 POST https://localhost:5001/Contact/SendNotifyAddNewContact application/x-www-form-urlencoded; charset=UTF-8 55 (ca22a1cb)
2021-07-03T23:39:15.4695539+07:00 0HM9U836NTR90:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:15.4697098+07:00 0HM9U836NTR90:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:15.4698913+07:00 0HM9U836NTR90:0000001F [INF] Route matched with "{action = \"SendNotifyAddNewContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult SendNotifyAddNewContact(System.Guid, System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:15.4721245+07:00 0HM9U836NTR90:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:15.4738581+07:00 0HM9U836NTR90:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:39:15.4760978+07:00 0HM9U836NTR90:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T23:39:15.4770889+07:00 0HM9U836NTR90:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__senderId_0='?' (DbType = Guid), @__receiverId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [n].[Id]
FROM [Notifications] AS [n]
INNER JOIN [NotificationUsers] AS [n0] ON [n].[Id] = [n0].[NotificationId]
WHERE (([n].[SenderId] = @__senderId_0) AND ([n0].[ReceiverUserId] = @__receiverId_1)) AND ([n].[TypeNotification] = 2)" (0723d8ff)
2021-07-03T23:39:15.4794751+07:00 0HM9U836NTR90:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 500), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Guid), @p4='?' (DbType = Guid), @p5='?' (Size = 100), @p6='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Notifications] ([Content], [CreatedAt], [LastModifyAt], [ReceiverGroupId], [SenderId], [Title], [TypeNotification])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [Notifications]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:39:15.4870696+07:00 0HM9U836NTR90:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Guid), @p4='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [NotificationUsers] ([CreatedAt], [LastModifyAt], [NotificationId], [ReceiverUserId], [TimeRead])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id], [IsRead]
FROM [NotificationUsers]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:39:15.4886857+07:00 0HM9U836NTR90:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:39:15.4888534+07:00 0HM9U836NTR90:0000001F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:39:15.4893998+07:00 0HM9U836NTR90:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)" in 19.4468ms (afa2e885)
2021-07-03T23:39:15.4894323+07:00 0HM9U836NTR90:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.SendNotifyAddNewContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:15.4896900+07:00 0HM9U836NTR90:0000001F [INF] Request finished in 21.2135ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:39:22.9236212+07:00 0HM9U836NTR90:00000021 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryAFgyvUieWfnb8kna 749 (ca22a1cb)
2021-07-03T23:39:22.9243219+07:00 0HM9U836NTR90:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:22.9244124+07:00 0HM9U836NTR90:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:22.9245231+07:00 0HM9U836NTR90:00000021 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:22.9268598+07:00 0HM9U836NTR90:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:22.9282601+07:00 0HM9U836NTR90:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:39:22.9318537+07:00 0HM9U836NTR90:00000021 [INF] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:39:22.9374780+07:00 0HM9U836NTR90:00000021 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:39:22.9379490+07:00 0HM9U836NTR90:00000021 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 13.3829ms (afa2e885)
2021-07-03T23:39:22.9379766+07:00 0HM9U836NTR90:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:22.9382250+07:00 0HM9U836NTR90:00000021 [INF] Request finished in 14.6478ms 302  (791a596a)
2021-07-03T23:39:22.9416935+07:00 0HM9U836NTR90:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:39:22.9422451+07:00 0HM9U836NTR90:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:22.9423256+07:00 0HM9U836NTR90:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:22.9424310+07:00 0HM9U836NTR90:00000023 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:22.9428326+07:00 0HM9U836NTR90:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:22.9472414+07:00 0HM9U836NTR90:00000023 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:39:22.9487174+07:00 0HM9U836NTR90:00000023 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:39:22.9514383+07:00 0HM9U836NTR90:00000023 [INF] Executed ViewResult - view "Index" executed in 2.842ms. (f66409e9)
2021-07-03T23:39:22.9515231+07:00 0HM9U836NTR90:00000023 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 9.0676ms (afa2e885)
2021-07-03T23:39:22.9515634+07:00 0HM9U836NTR90:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:22.9518337+07:00 0HM9U836NTR90:00000023 [INF] Request finished in 10.1476ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:39:22.9578829+07:00 0HM9U836NTR91:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:39:22.9580811+07:00 0HM9U836NTR91:00000001 [INF] Request finished in 96844.4291ms 101  (791a596a)
2021-07-03T23:39:23.0385477+07:00 0HM9U836NTR90:00000025 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:39:23.0392804+07:00 0HM9U836NTR90:00000025 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:39:23.0397701+07:00 0HM9U836NTR90:00000025 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:39:23.0398633+07:00 0HM9U836NTR90:00000025 [INF] Request finished in 1.3491ms 200 application/json (791a596a)
2021-07-03T23:39:23.0510150+07:00 0HM9U836NTR90:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:39:23.0514515+07:00 0HM9U836NTR90:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:39:23.0515153+07:00 0HM9U836NTR90:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:39:23.0516348+07:00 0HM9U836NTR90:00000027 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:39:23.0524324+07:00 0HM9U836NTR90:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:23.0544923+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:39:23.0573023+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:39:23.0584627+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:39:23.0598836+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:39:23.0611323+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:39:23.0636896+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:39:23.0653466+07:00 0HM9U836NTR90:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:39:23.0662308+07:00 0HM9U836NTR90:00000027 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:39:23.0666701+07:00 0HM9U836NTR90:00000027 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.4674ms. (6f83ade2)
2021-07-03T23:39:23.0667272+07:00 0HM9U836NTR90:00000027 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 15.0554ms (afa2e885)
2021-07-03T23:39:23.0667513+07:00 0HM9U836NTR90:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:39:23.0668601+07:00 0HM9U836NTR90:00000027 [INF] Request finished in 15.9323ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:39:23.0770491+07:00 0HM9U836NTR92:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=P9DIt8LocuLbsXyIrOwwZw   (ca22a1cb)
2021-07-03T23:39:23.0773524+07:00 0HM9U836NTR92:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:39:23.0868578+07:00 0HM9U836NTR92:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:39:23.0882811+07:00 0HM9U836NTR92:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:39:23.0907438+07:00 0HM9U836NTR92:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:41:53.7394536+07:00 0HM9U836NTR90:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:41:53.7463447+07:00 0HM9U836NTR90:00000029 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:41:53.7466233+07:00 0HM9U836NTR90:00000029 [INF] Request finished in 7.2169ms 200 text/plain (791a596a)
2021-07-03T23:41:53.7671058+07:00 0HM9U836NTR90:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:41:53.7684430+07:00 0HM9U836NTR90:0000002B [INF] Request finished in 1.3561ms 404  (791a596a)
2021-07-03T23:42:03.3341735+07:00 0HM9U836NTR90:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:42:03.3355829+07:00 0HM9U836NTR90:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:03.3357877+07:00 0HM9U836NTR90:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:03.3404354+07:00 0HM9U836NTR90:0000002D [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:03.3421868+07:00 0HM9U836NTR90:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:03.3439753+07:00 0HM9U836NTR90:0000002D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:42:03.3481406+07:00 0HM9U836NTR90:0000002D [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:42:03.3524186+07:00 0HM9U836NTR90:0000002D [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:42:03.3531265+07:00 0HM9U836NTR90:0000002D [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:42:03.3532539+07:00 0HM9U836NTR90:0000002D [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:42:03.3535118+07:00 0HM9U836NTR90:0000002D [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:42:03.3535927+07:00 0HM9U836NTR90:0000002D [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 13.1096ms (afa2e885)
2021-07-03T23:42:03.3536151+07:00 0HM9U836NTR90:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:03.3549163+07:00 0HM9U836NTR90:0000002D [INF] Request finished in 20.8281ms 302  (791a596a)
2021-07-03T23:42:03.3596070+07:00 0HM9U836NTR90:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:42:03.3600835+07:00 0HM9U836NTR90:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:03.3602185+07:00 0HM9U836NTR90:0000002F [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:03.3608578+07:00 0HM9U836NTR90:0000002F [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:42:03.3643767+07:00 0HM9U836NTR90:0000002F [INF] Executed ViewResult - view "Login" executed in 3.6385ms. (f66409e9)
2021-07-03T23:42:03.3644603+07:00 0HM9U836NTR90:0000002F [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 4.179ms (afa2e885)
2021-07-03T23:42:03.3644976+07:00 0HM9U836NTR90:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:03.3646151+07:00 0HM9U836NTR90:0000002F [INF] Request finished in 5.2054ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:42:03.3768671+07:00 0HM9U836NTR92:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:42:03.3770466+07:00 0HM9U836NTR92:00000001 [INF] Request finished in 160300.0038ms 101  (791a596a)
2021-07-03T23:42:11.0889698+07:00 0HM9U836NTR8T:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:42:11.0956335+07:00 0HM9U836NTR8T:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:11.0958393+07:00 0HM9U836NTR8T:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:11.0960797+07:00 0HM9U836NTR8T:00000025 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:11.0978053+07:00 0HM9U836NTR8T:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:11.0997046+07:00 0HM9U836NTR8T:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:11.1015108+07:00 0HM9U836NTR8T:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:42:11.1059999+07:00 0HM9U836NTR8T:00000025 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:11.1071434+07:00 0HM9U836NTR8T:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:11.1089100+07:00 0HM9U836NTR8T:00000025 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:42:11.1095925+07:00 0HM9U836NTR8T:00000025 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 13.4425ms (afa2e885)
2021-07-03T23:42:11.1096244+07:00 0HM9U836NTR8T:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:11.1098399+07:00 0HM9U836NTR8T:00000025 [INF] Request finished in 21.5148ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:11.8774427+07:00 0HM9U836NTR8T:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:42:11.8781672+07:00 0HM9U836NTR8T:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:11.8782876+07:00 0HM9U836NTR8T:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:11.8784644+07:00 0HM9U836NTR8T:00000027 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:11.8793275+07:00 0HM9U836NTR8T:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:11.8805582+07:00 0HM9U836NTR8T:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:42:11.8821053+07:00 0HM9U836NTR8T:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:42:11.8832013+07:00 0HM9U836NTR8T:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:11.8856472+07:00 0HM9U836NTR8T:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:11.8858169+07:00 0HM9U836NTR8T:00000027 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:42:11.8864629+07:00 0HM9U836NTR8T:00000027 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 7.9588ms (afa2e885)
2021-07-03T23:42:11.8864900+07:00 0HM9U836NTR8T:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:11.8866390+07:00 0HM9U836NTR8T:00000027 [INF] Request finished in 9.295ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:13.2320137+07:00 0HM9U836NTR8T:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=2&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:42:13.2324144+07:00 0HM9U836NTR8T:00000029 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:13.2324841+07:00 0HM9U836NTR8T:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:13.2325572+07:00 0HM9U836NTR8T:00000029 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:13.2335315+07:00 0HM9U836NTR8T:00000029 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:13.2340587+07:00 0HM9U836NTR8T:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:42:13.2346938+07:00 0HM9U836NTR8T:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:42:13.2352792+07:00 0HM9U836NTR8T:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:13.2409955+07:00 0HM9U836NTR8T:00000029 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:13.2411627+07:00 0HM9U836NTR8T:00000029 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:42:13.2415577+07:00 0HM9U836NTR8T:00000029 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 8.7325ms (afa2e885)
2021-07-03T23:42:13.2416085+07:00 0HM9U836NTR8T:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:13.2417741+07:00 0HM9U836NTR8T:00000029 [INF] Request finished in 9.9322ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:21.4120509+07:00 0HM9U836NTR8T:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T23:42:21.4129346+07:00 0HM9U836NTR8T:0000002B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:21.4130774+07:00 0HM9U836NTR8T:0000002B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:21.4131936+07:00 0HM9U836NTR8T:0000002B [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:21.4150222+07:00 0HM9U836NTR8T:0000002B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:21.4175765+07:00 0HM9U836NTR8T:0000002B [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:21.4200394+07:00 0HM9U836NTR8T:0000002B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:42:21.4277285+07:00 0HM9U836NTR8T:0000002B [INF] Executed DbCommand ("6"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:21.4280507+07:00 0HM9U836NTR8T:0000002B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:42:21.4287432+07:00 0HM9U836NTR8T:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=3   (ca22a1cb)
2021-07-03T23:42:21.4293681+07:00 0HM9U836NTR8T:0000002B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 16.0836ms (afa2e885)
2021-07-03T23:42:21.4294193+07:00 0HM9U836NTR8T:0000002B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:21.4295594+07:00 0HM9U836NTR8T:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:21.4297379+07:00 0HM9U836NTR8T:0000002B [INF] Request finished in 17.8836ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:21.4297846+07:00 0HM9U836NTR8T:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:21.4299129+07:00 0HM9U836NTR8T:0000002D [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:21.4311268+07:00 0HM9U836NTR8T:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:21.4337247+07:00 0HM9U836NTR8T:0000002D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:21.4353932+07:00 0HM9U836NTR8T:0000002D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:42:21.4395820+07:00 0HM9U836NTR8T:0000002D [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:21.4397642+07:00 0HM9U836NTR8T:0000002D [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:42:21.4404180+07:00 0HM9U836NTR8T:0000002D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 10.4258ms (afa2e885)
2021-07-03T23:42:21.4404806+07:00 0HM9U836NTR8T:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:21.4407065+07:00 0HM9U836NTR8T:0000002D [INF] Request finished in 12.0543ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:31.0133136+07:00 0HM9U836NTR8T:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:42:31.0137140+07:00 0HM9U836NTR8T:0000002F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:31.0137691+07:00 0HM9U836NTR8T:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:31.0138214+07:00 0HM9U836NTR8T:0000002F [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:31.0143968+07:00 0HM9U836NTR8T:0000002F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:31.0156423+07:00 0HM9U836NTR8T:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:31.0170413+07:00 0HM9U836NTR8T:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:42:31.0220731+07:00 0HM9U836NTR8T:0000002F [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:31.0231634+07:00 0HM9U836NTR8T:0000002F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:31.0248056+07:00 0HM9U836NTR8T:0000002F [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:42:31.0254732+07:00 0HM9U836NTR8T:0000002F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 11.6116ms (afa2e885)
2021-07-03T23:42:31.0255069+07:00 0HM9U836NTR8T:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:31.0257690+07:00 0HM9U836NTR8T:0000002F [INF] Request finished in 12.4569ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:35.0985216+07:00 0HM9U836NTR8T:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:42:35.0988510+07:00 0HM9U836NTR8T:00000031 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:35.0989042+07:00 0HM9U836NTR8T:00000031 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:35.0989658+07:00 0HM9U836NTR8T:00000031 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:35.0994579+07:00 0HM9U836NTR8T:00000031 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:35.1013316+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:42:35.1039213+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:42:35.1045391+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:35.1060287+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:42:35.1071542+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:42:35.1085218+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:42:35.1100906+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:42:35.1108186+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:42:35.1113528+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:35.1118898+07:00 0HM9U836NTR8T:00000031 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:42:35.1120989+07:00 0HM9U836NTR8T:00000031 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:42:35.1128541+07:00 0HM9U836NTR8T:00000031 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.7915ms. (6f83ade2)
2021-07-03T23:42:35.1129081+07:00 0HM9U836NTR8T:00000031 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 13.9127ms (afa2e885)
2021-07-03T23:42:35.1129270+07:00 0HM9U836NTR8T:00000031 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:35.1130595+07:00 0HM9U836NTR8T:00000031 [INF] Request finished in 14.6575ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:42:35.7921629+07:00 0HM9U836NTR8T:00000033 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:42:35.7928730+07:00 0HM9U836NTR8T:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330253977   (ca22a1cb)
2021-07-03T23:42:35.7934044+07:00 0HM9U836NTR8T:00000033 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:35.7935797+07:00 0HM9U836NTR8T:00000033 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:35.7936659+07:00 0HM9U836NTR8T:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:35.7937268+07:00 0HM9U836NTR8T:00000033 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:35.7938246+07:00 0HM9U836NTR8T:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:35.7939840+07:00 0HM9U836NTR8T:00000035 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:35.7951822+07:00 0HM9U836NTR8T:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:35.7952198+07:00 0HM9U836NTR8T:00000033 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:35.7972190+07:00 0HM9U836NTR8T:00000035 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:35.7985943+07:00 0HM9U836NTR8T:00000035 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:35.8030655+07:00 0HM9U836NTR8T:00000033 [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:42:35.8033651+07:00 0HM9U836NTR8T:00000033 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:42:35.8040021+07:00 0HM9U836NTR8T:00000033 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 10.194ms (afa2e885)
2021-07-03T23:42:35.8040708+07:00 0HM9U836NTR8T:00000033 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:35.8043462+07:00 0HM9U836NTR8T:00000033 [INF] Request finished in 12.3441ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:42:35.8063518+07:00 0HM9U836NTR8T:00000035 [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:35.8066783+07:00 0HM9U836NTR8T:00000035 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:42:35.8073346+07:00 0HM9U836NTR8T:00000035 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.7186ms. (6f83ade2)
2021-07-03T23:42:35.8073854+07:00 0HM9U836NTR8T:00000035 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 13.3293ms (afa2e885)
2021-07-03T23:42:35.8074454+07:00 0HM9U836NTR8T:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:35.8076159+07:00 0HM9U836NTR8T:00000035 [INF] Request finished in 15.0733ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:42:36.8173852+07:00 0HM9U836NTR8T:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:42:36.8177145+07:00 0HM9U836NTR8T:00000037 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:42:36.8178046+07:00 0HM9U836NTR8T:00000037 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:42:36.8178572+07:00 0HM9U836NTR8T:00000037 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:42:36.8182128+07:00 0HM9U836NTR8T:00000037 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:42:36.8187969+07:00 0HM9U836NTR8T:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:36.8194624+07:00 0HM9U836NTR8T:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:42:36.8208302+07:00 0HM9U836NTR8T:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:42:36.8214210+07:00 0HM9U836NTR8T:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:42:36.8228521+07:00 0HM9U836NTR8T:00000037 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:42:36.8233211+07:00 0HM9U836NTR8T:00000037 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 5.4403ms (afa2e885)
2021-07-03T23:42:36.8233413+07:00 0HM9U836NTR8T:00000037 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:42:36.8234436+07:00 0HM9U836NTR8T:00000037 [INF] Request finished in 6.249ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:43:17.0186266+07:00 0HM9U836NTR8T:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T23:43:17.0195415+07:00 0HM9U836NTR8T:00000039 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:43:17.0196493+07:00 0HM9U836NTR8T:00000039 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:17.0197129+07:00 0HM9U836NTR8T:00000039 [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:17.0202826+07:00 0HM9U836NTR8T:00000039 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:17.0217087+07:00 0HM9U836NTR8T:00000039 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:43:17.0231271+07:00 0HM9U836NTR8T:00000039 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:43:17.0269122+07:00 0HM9U836NTR8T:00000039 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:43:17.0270380+07:00 0HM9U836NTR8T:00000039 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:43:17.0273130+07:00 0HM9U836NTR8T:00000039 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 7.5713ms (afa2e885)
2021-07-03T23:43:17.0273387+07:00 0HM9U836NTR8T:00000039 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:17.0274515+07:00 0HM9U836NTR8T:00000039 [INF] Request finished in 8.8416ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:43:17.0392156+07:00 0HM9U836NTR8T:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=3   (ca22a1cb)
2021-07-03T23:43:17.0394816+07:00 0HM9U836NTR8T:0000003B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:43:17.0395349+07:00 0HM9U836NTR8T:0000003B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:17.0396108+07:00 0HM9U836NTR8T:0000003B [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:17.0399957+07:00 0HM9U836NTR8T:0000003B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:17.0404655+07:00 0HM9U836NTR8T:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:43:17.0411704+07:00 0HM9U836NTR8T:0000003B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:43:17.0444529+07:00 0HM9U836NTR8T:0000003B [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:43:17.0445737+07:00 0HM9U836NTR8T:0000003B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:43:17.0448363+07:00 0HM9U836NTR8T:0000003B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 5.1994ms (afa2e885)
2021-07-03T23:43:17.0448630+07:00 0HM9U836NTR8T:0000003B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:17.0449737+07:00 0HM9U836NTR8T:0000003B [INF] Request finished in 6.0149ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:43:22.0437945+07:00 0HM9U836NTR8T:0000003D [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundary3c2qO51sYGkniFtk 741 (ca22a1cb)
2021-07-03T23:43:22.0442990+07:00 0HM9U836NTR8T:0000003D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:43:22.0444463+07:00 0HM9U836NTR8T:0000003D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:22.0445391+07:00 0HM9U836NTR8T:0000003D [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:22.0483628+07:00 0HM9U836NTR8T:0000003D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:22.0496065+07:00 0HM9U836NTR8T:0000003D [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:43:22.0521969+07:00 0HM9U836NTR8T:0000003D [INF] Executed DbCommand ("2"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:43:22.0530826+07:00 0HM9U836NTR8T:0000003D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:43:22.0534060+07:00 0HM9U836NTR8T:0000003D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 8.8376ms (afa2e885)
2021-07-03T23:43:22.0534269+07:00 0HM9U836NTR8T:0000003D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:22.0535634+07:00 0HM9U836NTR8T:0000003D [INF] Request finished in 9.9409ms 302  (791a596a)
2021-07-03T23:43:22.0687542+07:00 0HM9U836NTR8T:0000003F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:43:22.0690224+07:00 0HM9U836NTR8T:0000003F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:43:22.0690701+07:00 0HM9U836NTR8T:0000003F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:22.0691162+07:00 0HM9U836NTR8T:0000003F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:22.0693689+07:00 0HM9U836NTR8T:0000003F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:22.0722646+07:00 0HM9U836NTR8T:0000003F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:43:22.0731604+07:00 0HM9U836NTR8T:0000003F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:43:22.0755842+07:00 0HM9U836NTR8T:0000003F [INF] Executed ViewResult - view "Index" executed in 2.4953ms. (f66409e9)
2021-07-03T23:43:22.0756487+07:00 0HM9U836NTR8T:0000003F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 6.5161ms (afa2e885)
2021-07-03T23:43:22.0756942+07:00 0HM9U836NTR8T:0000003F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:22.0758476+07:00 0HM9U836NTR8T:0000003F [INF] Request finished in 7.1104ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:43:22.0940773+07:00 0HM9U836NTR8V:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:43:22.0943916+07:00 0HM9U836NTR8V:00000001 [INF] Request finished in 348015.5057ms 101  (791a596a)
2021-07-03T23:43:22.1875433+07:00 0HM9U836NTR8T:00000041 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:43:22.1879864+07:00 0HM9U836NTR8T:00000041 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:43:22.1890366+07:00 0HM9U836NTR8T:00000041 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:43:22.1892346+07:00 0HM9U836NTR8T:00000041 [INF] Request finished in 1.7811ms 200 application/json (791a596a)
2021-07-03T23:43:22.2029319+07:00 0HM9U836NTR8T:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:43:22.2033054+07:00 0HM9U836NTR8T:00000043 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:43:22.2033710+07:00 0HM9U836NTR8T:00000043 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:22.2034360+07:00 0HM9U836NTR8T:00000043 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:22.2038242+07:00 0HM9U836NTR8T:00000043 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:22.2056480+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:43:22.2105252+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:43:22.2133445+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:43:22.2154814+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:43:22.2172070+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:43:22.2206993+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("3"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:43:22.2224430+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:43:22.2232626+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:43:22.2236772+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:43:22.2241675+07:00 0HM9U836NTR8T:00000043 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:43:22.2243609+07:00 0HM9U836NTR8T:00000043 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:43:22.2248811+07:00 0HM9U836NTR8T:00000043 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.5553ms. (6f83ade2)
2021-07-03T23:43:22.2249097+07:00 0HM9U836NTR8T:00000043 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 21.4572ms (afa2e885)
2021-07-03T23:43:22.2249244+07:00 0HM9U836NTR8T:00000043 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:22.2250110+07:00 0HM9U836NTR8T:00000043 [INF] Request finished in 22.1912ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:43:22.2400805+07:00 0HM9U836NTR93:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=8vTUg4MrrSLNhQsMEsbTog   (ca22a1cb)
2021-07-03T23:43:22.2405212+07:00 0HM9U836NTR93:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:43:22.2504541+07:00 0HM9U836NTR93:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:22.2516437+07:00 0HM9U836NTR93:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:43:22.2536029+07:00 0HM9U836NTR93:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:43:25.6174267+07:00 0HM9U836NTR8T:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:43:25.6186584+07:00 0HM9U836NTR8T:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:43:25.6187175+07:00 0HM9U836NTR8T:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:25.6187621+07:00 0HM9U836NTR8T:00000045 [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:25.6190461+07:00 0HM9U836NTR8T:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:43:25.6201874+07:00 0HM9U836NTR8T:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:43:25.6233915+07:00 0HM9U836NTR8T:00000045 [INF] Executed DbCommand ("2"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:43:25.6243877+07:00 0HM9U836NTR8T:00000045 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:43:25.6245185+07:00 0HM9U836NTR8T:00000045 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:43:25.6246317+07:00 0HM9U836NTR8T:00000045 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:43:25.6248503+07:00 0HM9U836NTR8T:00000045 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:43:25.6249713+07:00 0HM9U836NTR8T:00000045 [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 6.1776ms (afa2e885)
2021-07-03T23:43:25.6250021+07:00 0HM9U836NTR8T:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:25.6253430+07:00 0HM9U836NTR8T:00000045 [INF] Request finished in 7.9171ms 302  (791a596a)
2021-07-03T23:43:25.6369300+07:00 0HM9U836NTR8T:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:43:25.6370953+07:00 0HM9U836NTR8T:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:43:25.6371498+07:00 0HM9U836NTR8T:00000047 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:43:25.6374682+07:00 0HM9U836NTR8T:00000047 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:43:25.6401792+07:00 0HM9U836NTR8T:00000047 [INF] Executed ViewResult - view "Login" executed in 2.7777ms. (f66409e9)
2021-07-03T23:43:25.6402283+07:00 0HM9U836NTR8T:00000047 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 3.0617ms (afa2e885)
2021-07-03T23:43:25.6402631+07:00 0HM9U836NTR8T:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:43:25.6403678+07:00 0HM9U836NTR8T:00000047 [INF] Request finished in 3.5826ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:43:25.6492159+07:00 0HM9U836NTR93:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:43:25.6495852+07:00 0HM9U836NTR93:00000001 [INF] Request finished in 3409.5067ms 101  (791a596a)
2021-07-03T23:48:44.1078125+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T23:48:45.6270546+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T23:48:45.6440389+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T23:48:45.6470620+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T23:48:45.6503308+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T23:48:46.1210867+07:00 0HM9U89M617LB:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:48:46.2155591+07:00 0HM9U89M617LB:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T23:48:46.2356297+07:00 0HM9U89M617LB:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T23:48:46.2451437+07:00 0HM9U89M617LB:00000001 [INF] Request finished in 139.3123ms 302  (791a596a)
2021-07-03T23:48:46.2722489+07:00 0HM9U89M617LB:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T23:48:46.4464600+07:00 0HM9U89M617LB:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:48:46.5150062+07:00 0HM9U89M617LB:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:48:47.3161439+07:00 0HM9U89M617LB:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:48:47.8635385+07:00 0HM9U89M617LB:00000003 [INF] Executed ViewResult - view "Login" executed in 583.2936ms. (f66409e9)
2021-07-03T23:48:47.8641302+07:00 0HM9U89M617LB:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 1348.6306ms (afa2e885)
2021-07-03T23:48:47.8642109+07:00 0HM9U89M617LB:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:48:47.8706664+07:00 0HM9U89M617LB:00000003 [INF] Request finished in 1598.44ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:02.1835574+07:00 0HM9U89M617LB:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T23:49:02.1868534+07:00 0HM9U89M617LB:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:02.2017902+07:00 0HM9U89M617LB:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:02.2469693+07:00 0HM9U89M617LB:00000005 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:49:03.3357252+07:00 0HM9U89M617LB:00000005 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:49:03.3388364+07:00 0HM9U89M617LB:00000005 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:49:03.5405702+07:00 0HM9U89M617LB:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:04.5230331+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("48"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:49:04.5907404+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:49:04.8424542+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("9"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:49:04.8833158+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:49:04.8908483+07:00 0HM9U89M617LB:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:49:04.8977686+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:49:04.9055378+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:49:05.0058987+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:49:05.0268404+07:00 0HM9U89M617LB:00000005 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:05.0616396+07:00 0HM9U89M617LB:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:49:05.0627253+07:00 0HM9U89M617LB:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2860.8543ms (afa2e885)
2021-07-03T23:49:05.0631859+07:00 0HM9U89M617LB:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:05.0649402+07:00 0HM9U89M617LB:00000005 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"1cd1b0fd-210a-edcd-52c2-9f77956df77f" (1d7cf8c0)
2021-07-03T23:49:05.0713324+07:00 0HM9U89M617LB:00000005 [INF] Request finished in 2887.997ms 302  (791a596a)
2021-07-03T23:49:05.0791536+07:00 0HM9U89M617LB:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:49:05.0839964+07:00 0HM9U89M617LB:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:05.0851285+07:00 0HM9U89M617LB:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:05.0881002+07:00 0HM9U89M617LB:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:05.1237715+07:00 0HM9U89M617LB:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:05.1378739+07:00 0HM9U89M617LB:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:49:05.1440307+07:00 0HM9U89M617LB:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:49:05.1890978+07:00 0HM9U89M617LB:00000007 [INF] Executed ViewResult - view "Index" executed in 49.689ms. (f66409e9)
2021-07-03T23:49:05.1892305+07:00 0HM9U89M617LB:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 101.0834ms (afa2e885)
2021-07-03T23:49:05.1892801+07:00 0HM9U89M617LB:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:05.1895241+07:00 0HM9U89M617LB:00000007 [INF] Request finished in 110.3896ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:05.3180396+07:00 0HM9U89M617LB:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:49:05.3191679+07:00 0HM9U89M617LB:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:49:05.3299507+07:00 0HM9U89M617LB:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:49:05.3355107+07:00 0HM9U89M617LB:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:05.3356365+07:00 0HM9U89M617LB:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:05.3370038+07:00 0HM9U89M617LB:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:05.3552806+07:00 0HM9U89M617LB:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:05.3766300+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("11"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:05.3901235+07:00 0HM9U89M617LB:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:49:05.3903977+07:00 0HM9U89M617LB:00000009 [INF] Request finished in 72.4397ms 200 application/json (791a596a)
2021-07-03T23:49:05.4039585+07:00 0HM9U89M617LC:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=X3NtSJlCQnxAI89cvw5p9w   (ca22a1cb)
2021-07-03T23:49:05.4046496+07:00 0HM9U89M617LC:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:49:05.4248769+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:05.4294860+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:05.4401728+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:49:05.4458512+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:49:05.4593493+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:49:05.4660901+07:00 0HM9U89M617LC:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:05.4683862+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:49:05.4699132+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:05.4705443+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:05.4715313+07:00 0HM9U89M617LB:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:49:05.4739862+07:00 0HM9U89M617LC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:49:05.4808139+07:00 0HM9U89M617LB:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:49:05.4884828+07:00 0HM9U89M617LB:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 10.7721ms. (6f83ade2)
2021-07-03T23:49:05.4885489+07:00 0HM9U89M617LB:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 151.4969ms (afa2e885)
2021-07-03T23:49:05.4885856+07:00 0HM9U89M617LB:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:05.4889051+07:00 0HM9U89M617LB:0000000B [INF] Request finished in 158.9184ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:05.5137912+07:00 0HM9U89M617LC:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:49:12.5136642+07:00 0HM9U89M617LB:0000000D [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:49:12.5151422+07:00 0HM9U89M617LB:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330945273   (ca22a1cb)
2021-07-03T23:49:12.5211875+07:00 0HM9U89M617LB:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:12.5213226+07:00 0HM9U89M617LB:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:12.5227063+07:00 0HM9U89M617LB:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:12.5227632+07:00 0HM9U89M617LB:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:12.5300354+07:00 0HM9U89M617LB:0000000D [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:12.5300673+07:00 0HM9U89M617LB:0000000F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:12.5364844+07:00 0HM9U89M617LB:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:12.5364841+07:00 0HM9U89M617LB:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:12.5450605+07:00 0HM9U89M617LB:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:12.5455093+07:00 0HM9U89M617LB:0000000F [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:12.5472401+07:00 0HM9U89M617LB:0000000D [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:49:12.5563383+07:00 0HM9U89M617LB:0000000D [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 26.1146ms (afa2e885)
2021-07-03T23:49:12.5564496+07:00 0HM9U89M617LB:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:12.5570058+07:00 0HM9U89M617LB:0000000D [INF] Request finished in 44.8336ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:12.5725845+07:00 0HM9U89M617LB:0000000F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:12.6023730+07:00 0HM9U89M617LB:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:12.6069167+07:00 0HM9U89M617LB:0000000F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:49:12.6128557+07:00 0HM9U89M617LB:0000000F [INF] Executed PartialViewResult - view "_ChatForm" executed in 9.8266ms. (6f83ade2)
2021-07-03T23:49:12.6129241+07:00 0HM9U89M617LB:0000000F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 82.7285ms (afa2e885)
2021-07-03T23:49:12.6129511+07:00 0HM9U89M617LB:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:12.6130937+07:00 0HM9U89M617LB:0000000F [INF] Request finished in 98.7685ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:14.0240366+07:00 0HM9U89M617LB:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:49:14.0324836+07:00 0HM9U89M617LB:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:14.0327091+07:00 0HM9U89M617LB:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:14.0357662+07:00 0HM9U89M617LB:00000011 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:14.0410342+07:00 0HM9U89M617LB:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:14.0426623+07:00 0HM9U89M617LB:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:14.0482117+07:00 0HM9U89M617LB:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:14.0749223+07:00 0HM9U89M617LB:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:14.0768871+07:00 0HM9U89M617LB:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:14.1051543+07:00 0HM9U89M617LB:00000011 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:49:14.1436431+07:00 0HM9U89M617LB:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 107.7895ms (afa2e885)
2021-07-03T23:49:14.1437073+07:00 0HM9U89M617LB:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:14.1440025+07:00 0HM9U89M617LB:00000011 [INF] Request finished in 120.3279ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:15.7889697+07:00 0HM9U89M617LB:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:49:15.7908559+07:00 0HM9U89M617LB:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:15.7912579+07:00 0HM9U89M617LB:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:15.7952121+07:00 0HM9U89M617LB:00000013 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:15.8025862+07:00 0HM9U89M617LB:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:15.8045726+07:00 0HM9U89M617LB:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:49:15.8135149+07:00 0HM9U89M617LB:00000013 [INF] Executed DbCommand ("5"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:49:15.8160360+07:00 0HM9U89M617LB:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:15.8249970+07:00 0HM9U89M617LB:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:15.8257209+07:00 0HM9U89M617LB:00000013 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:49:15.8403400+07:00 0HM9U89M617LB:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 44.9898ms (afa2e885)
2021-07-03T23:49:15.8403904+07:00 0HM9U89M617LB:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:15.8406883+07:00 0HM9U89M617LB:00000013 [INF] Request finished in 51.9901ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:16.7249527+07:00 0HM9U89M617LB:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=2&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:49:16.7261443+07:00 0HM9U89M617LB:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:16.7262954+07:00 0HM9U89M617LB:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:16.7265969+07:00 0HM9U89M617LB:00000015 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:16.7279180+07:00 0HM9U89M617LB:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:16.7294529+07:00 0HM9U89M617LB:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:49:16.7304933+07:00 0HM9U89M617LB:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:49:16.7309987+07:00 0HM9U89M617LB:00000015 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:16.7375885+07:00 0HM9U89M617LB:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_1 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:16.7377926+07:00 0HM9U89M617LB:00000015 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:49:16.7386361+07:00 0HM9U89M617LB:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 11.98ms (afa2e885)
2021-07-03T23:49:16.7386998+07:00 0HM9U89M617LB:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:16.7392093+07:00 0HM9U89M617LB:00000015 [INF] Request finished in 14.3418ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:21.8203790+07:00 0HM9U89M617LB:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:49:21.8221567+07:00 0HM9U89M617LB:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:21.8223756+07:00 0HM9U89M617LB:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:21.8226577+07:00 0HM9U89M617LB:00000017 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:21.8240599+07:00 0HM9U89M617LB:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:21.8257235+07:00 0HM9U89M617LB:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:49:21.8268514+07:00 0HM9U89M617LB:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:49:21.8274216+07:00 0HM9U89M617LB:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:21.8299352+07:00 0HM9U89M617LB:00000017 [INF] Executed DbCommand ("0"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:21.8301248+07:00 0HM9U89M617LB:00000017 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:49:21.8309931+07:00 0HM9U89M617LB:00000017 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 8.2264ms (afa2e885)
2021-07-03T23:49:21.8310308+07:00 0HM9U89M617LB:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:21.8313109+07:00 0HM9U89M617LB:00000017 [INF] Request finished in 11.0286ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:22.9508449+07:00 0HM9U89M617LB:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundarytEZM7BU9LeKgepdV 883 (ca22a1cb)
2021-07-03T23:49:22.9530495+07:00 0HM9U89M617LB:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:22.9532965+07:00 0HM9U89M617LB:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:22.9660281+07:00 0HM9U89M617LB:00000019 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:22.9954640+07:00 0HM9U89M617LB:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:23.0028559+07:00 0HM9U89M617LB:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:49:23.0393317+07:00 0HM9U89M617LB:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:49:23.0456319+07:00 0HM9U89M617LB:00000019 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:49:23.0486888+07:00 0HM9U89M617LB:00000019 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:49:23.0574405+07:00 0HM9U89M617LB:00000019 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:49:23.0602935+07:00 0HM9U89M617LB:00000019 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 94.1535ms (afa2e885)
2021-07-03T23:49:23.0603385+07:00 0HM9U89M617LB:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:23.0607546+07:00 0HM9U89M617LB:00000019 [INF] Request finished in 110.1887ms 302  (791a596a)
2021-07-03T23:49:23.0725696+07:00 0HM9U89M617LB:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:49:23.0734288+07:00 0HM9U89M617LB:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:23.0735222+07:00 0HM9U89M617LB:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:23.0736175+07:00 0HM9U89M617LB:0000001B [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:23.0739098+07:00 0HM9U89M617LB:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:23.0767577+07:00 0HM9U89M617LB:0000001B [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:49:23.0780677+07:00 0HM9U89M617LB:0000001B [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:49:23.1604154+07:00 0HM9U89M617LB:0000001B [INF] Executed ViewResult - view "Index" executed in 82.524ms. (f66409e9)
2021-07-03T23:49:23.1605084+07:00 0HM9U89M617LB:0000001B [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 86.8634ms (afa2e885)
2021-07-03T23:49:23.1605408+07:00 0HM9U89M617LB:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:23.1607386+07:00 0HM9U89M617LB:0000001B [INF] Request finished in 88.2143ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:23.1868937+07:00 0HM9U89M617LC:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:49:23.1871292+07:00 0HM9U89M617LC:00000001 [INF] Request finished in 17783.2129ms 101  (791a596a)
2021-07-03T23:49:23.2720537+07:00 0HM9U89M617LB:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:49:23.2724777+07:00 0HM9U89M617LB:0000001D [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:49:23.2729009+07:00 0HM9U89M617LB:0000001D [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:49:23.2730149+07:00 0HM9U89M617LB:0000001D [INF] Request finished in 1.0553ms 200 application/json (791a596a)
2021-07-03T23:49:23.2815641+07:00 0HM9U89M617LB:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:49:23.2820019+07:00 0HM9U89M617LB:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:23.2821055+07:00 0HM9U89M617LB:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:23.2821823+07:00 0HM9U89M617LB:0000001F [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:23.2827982+07:00 0HM9U89M617LB:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:23.2844923+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:23.2855398+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:23.2861587+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:23.2868350+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:49:23.2875069+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:49:23.2882058+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:49:23.2889220+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:49:23.2896356+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:23.2902196+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:23.2909679+07:00 0HM9U89M617LB:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:49:23.2912426+07:00 0HM9U89M617LB:0000001F [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:49:23.2919094+07:00 0HM9U89M617LB:0000001F [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.6744ms. (6f83ade2)
2021-07-03T23:49:23.2919704+07:00 0HM9U89M617LB:0000001F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.7551ms (afa2e885)
2021-07-03T23:49:23.2920159+07:00 0HM9U89M617LB:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:23.2922003+07:00 0HM9U89M617LB:0000001F [INF] Request finished in 10.7352ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:23.3089053+07:00 0HM9U89M617LD:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=tcgUFI6VJkA-aUlPuR9ckw   (ca22a1cb)
2021-07-03T23:49:23.3093157+07:00 0HM9U89M617LD:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:49:23.3154918+07:00 0HM9U89M617LD:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:23.3163666+07:00 0HM9U89M617LD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:49:23.3189290+07:00 0HM9U89M617LD:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:49:31.2706119+07:00 0HM9U89M617LE:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:49:31.2713321+07:00 0HM9U89M617LE:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T23:49:31.2717219+07:00 0HM9U89M617LE:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T23:49:31.2722559+07:00 0HM9U89M617LE:00000001 [INF] Request finished in 1.9299ms 302  (791a596a)
2021-07-03T23:49:31.2759228+07:00 0HM9U89M617LE:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T23:49:31.2778169+07:00 0HM9U89M617LE:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:31.2781506+07:00 0HM9U89M617LE:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:31.2827679+07:00 0HM9U89M617LE:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:49:31.2886828+07:00 0HM9U89M617LE:00000003 [INF] Executed ViewResult - view "Login" executed in 6.159ms. (f66409e9)
2021-07-03T23:49:31.2887915+07:00 0HM9U89M617LE:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 10.5774ms (afa2e885)
2021-07-03T23:49:31.2888303+07:00 0HM9U89M617LE:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:31.2890366+07:00 0HM9U89M617LE:00000003 [INF] Request finished in 13.1664ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:31.3187303+07:00 0HM9U89M617LE:00000005 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/lib/bootstrap.min.css   (ca22a1cb)
2021-07-03T23:49:31.3190263+07:00 0HM9U89M617LE:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery.min.js   (ca22a1cb)
2021-07-03T23:49:31.3194355+07:00 0HM9U89M617LE:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/vendor/popper.min.js   (ca22a1cb)
2021-07-03T23:49:31.3210631+07:00 0HM9U89M617LE:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/swipe.min.css   (ca22a1cb)
2021-07-03T23:49:31.3211574+07:00 0HM9U89M617LE:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/bootstrap.min.js   (ca22a1cb)
2021-07-03T23:49:31.3237758+07:00 0HM9U89M617LE:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.css   (ca22a1cb)
2021-07-03T23:49:31.3267337+07:00 0HM9U89M617LE:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.js   (ca22a1cb)
2021-07-03T23:49:31.3424094+07:00 0HM9U89M617LE:0000000F [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.css"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.css"' (27b0a520)
2021-07-03T23:49:31.3434300+07:00 0HM9U89M617LE:0000000F [INF] Request finished in 19.6544ms 200 text/css (791a596a)
2021-07-03T23:49:31.3433966+07:00 0HM9U89M617LE:00000011 [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.js"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.js"' (27b0a520)
2021-07-03T23:49:31.3464790+07:00 0HM9U89M617LE:00000011 [INF] Request finished in 19.8558ms 200 application/javascript (791a596a)
2021-07-03T23:49:31.3923723+07:00 0HM9U89M617LE:0000000D [INF] Sending file. Request path: '"/dist/js/bootstrap.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\bootstrap.min.js"' (27b0a520)
2021-07-03T23:49:31.3923723+07:00 0HM9U89M617LE:00000009 [INF] Sending file. Request path: '"/dist/js/jquery.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery.min.js"' (27b0a520)
2021-07-03T23:49:31.3923723+07:00 0HM9U89M617LE:00000005 [INF] Sending file. Request path: '"/dist/css/lib/bootstrap.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\lib\bootstrap.min.css"' (27b0a520)
2021-07-03T23:49:31.3923852+07:00 0HM9U89M617LE:00000007 [INF] Sending file. Request path: '"/dist/css/swipe.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\swipe.min.css"' (27b0a520)
2021-07-03T23:49:31.3923839+07:00 0HM9U89M617LE:0000000B [INF] Sending file. Request path: '"/dist/js/vendor/popper.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\vendor\popper.min.js"' (27b0a520)
2021-07-03T23:49:31.3925692+07:00 0HM9U89M617LE:00000009 [INF] Request finished in 73.5511ms 200 application/javascript (791a596a)
2021-07-03T23:49:31.3925795+07:00 0HM9U89M617LE:00000005 [INF] Request finished in 74.0166ms 200 text/css (791a596a)
2021-07-03T23:49:31.3926111+07:00 0HM9U89M617LE:0000000D [INF] Request finished in 71.4528ms 200 application/javascript (791a596a)
2021-07-03T23:49:31.3926394+07:00 0HM9U89M617LE:00000007 [INF] Request finished in 71.7101ms 200 text/css (791a596a)
2021-07-03T23:49:31.3926737+07:00 0HM9U89M617LE:0000000B [INF] Request finished in 73.348ms 200 application/javascript (791a596a)
2021-07-03T23:49:31.4651791+07:00 0HM9U89M617LE:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Black.woff   (ca22a1cb)
2021-07-03T23:49:31.4654226+07:00 0HM9U89M617LE:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/material/MaterialIcons-Regular.woff2   (ca22a1cb)
2021-07-03T23:49:31.4655989+07:00 0HM9U89M617LE:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Book.woff   (ca22a1cb)
2021-07-03T23:49:31.4658538+07:00 0HM9U89M617LE:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Medium.woff   (ca22a1cb)
2021-07-03T23:49:31.4700375+07:00 0HM9U89M617LE:00000019 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Medium.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Medium.woff"' (27b0a520)
2021-07-03T23:49:31.4705750+07:00 0HM9U89M617LE:00000015 [INF] Sending file. Request path: '"/dist/fonts/material/MaterialIcons-Regular.woff2"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\material\MaterialIcons-Regular.woff2"' (27b0a520)
2021-07-03T23:49:31.4705995+07:00 0HM9U89M617LE:00000013 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Black.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Black.woff"' (27b0a520)
2021-07-03T23:49:31.4707249+07:00 0HM9U89M617LE:00000019 [INF] Request finished in 4.9579ms 200 application/font-woff (791a596a)
2021-07-03T23:49:31.4707487+07:00 0HM9U89M617LE:00000015 [INF] Request finished in 5.4493ms 200 font/woff2 (791a596a)
2021-07-03T23:49:31.4709989+07:00 0HM9U89M617LE:00000013 [INF] Request finished in 5.8877ms 200 application/font-woff (791a596a)
2021-07-03T23:49:31.4711519+07:00 0HM9U89M617LE:00000017 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Book.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Book.woff"' (27b0a520)
2021-07-03T23:49:31.4712711+07:00 0HM9U89M617LE:00000017 [INF] Request finished in 5.6729ms 200 application/font-woff (791a596a)
2021-07-03T23:49:31.4923483+07:00 0HM9U89M617LE:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T23:49:31.4941137+07:00 0HM9U89M617LE:0000001B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T23:49:31.4942838+07:00 0HM9U89M617LE:0000001B [INF] Request finished in 2.0726ms 200 image/png (791a596a)
2021-07-03T23:49:48.5066888+07:00 0HM9U89M617LE:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T23:49:48.5074122+07:00 0HM9U89M617LE:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:48.5076261+07:00 0HM9U89M617LE:0000001D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:48.5103808+07:00 0HM9U89M617LE:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:48.5133333+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:49:48.5168812+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:49:48.5382331+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:49:48.5433640+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:49:48.5441081+07:00 0HM9U89M617LE:0000001D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:49:48.5461505+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:49:48.5477813+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:49:48.5518939+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:49:48.5584019+07:00 0HM9U89M617LE:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:48.5594988+07:00 0HM9U89M617LE:0000001D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:49:48.5596383+07:00 0HM9U89M617LE:0000001D [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 51.9287ms (afa2e885)
2021-07-03T23:49:48.5596774+07:00 0HM9U89M617LE:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:48.5597936+07:00 0HM9U89M617LE:0000001D [INF] Session started; Key:"b932c256-dde1-6f90-0dd8-9bf4e8e12d96", Id:"19463dfa-9dde-70e6-e274-4c8f8d048669" (1d7cf8c0)
2021-07-03T23:49:48.5605756+07:00 0HM9U89M617LE:0000001D [INF] Request finished in 54.1386ms 302  (791a596a)
2021-07-03T23:49:48.5642381+07:00 0HM9U89M617LE:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:49:48.5651587+07:00 0HM9U89M617LE:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:48.5653836+07:00 0HM9U89M617LE:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:48.5655623+07:00 0HM9U89M617LE:0000001F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:48.5663282+07:00 0HM9U89M617LE:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:48.5699927+07:00 0HM9U89M617LE:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:49:48.5718546+07:00 0HM9U89M617LE:0000001F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:49:48.5756791+07:00 0HM9U89M617LE:0000001F [INF] Executed ViewResult - view "Index" executed in 3.9996ms. (f66409e9)
2021-07-03T23:49:48.5758019+07:00 0HM9U89M617LE:0000001F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 10.1915ms (afa2e885)
2021-07-03T23:49:48.5758682+07:00 0HM9U89M617LE:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:48.5762651+07:00 0HM9U89M617LE:0000001F [INF] Request finished in 12.0497ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:48.5918944+07:00 0HM9U89M617LE:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/css/select2.css   (ca22a1cb)
2021-07-03T23:49:48.5922728+07:00 0HM9U89M617LE:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/my-style.css   (ca22a1cb)
2021-07-03T23:49:48.5925564+07:00 0HM9U89M617LE:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/preview-group.css   (ca22a1cb)
2021-07-03T23:49:48.5922845+07:00 0HM9U89M617LE:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css   (ca22a1cb)
2021-07-03T23:49:48.6011388+07:00 0HM9U89M617LE:00000025 [INF] Sending file. Request path: '"/dist/css/custom/my-style.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\my-style.css"' (27b0a520)
2021-07-03T23:49:48.6012764+07:00 0HM9U89M617LE:00000025 [INF] Request finished in 9.1169ms 200 text/css (791a596a)
2021-07-03T23:49:48.6080530+07:00 0HM9U89M617LE:00000027 [INF] Sending file. Request path: '"/dist/css/custom/preview-group.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\preview-group.css"' (27b0a520)
2021-07-03T23:49:48.6081890+07:00 0HM9U89M617LE:00000021 [INF] Sending file. Request path: '"/dist/plugin/select2/css/select2.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\css\select2.css"' (27b0a520)
2021-07-03T23:49:48.6083949+07:00 0HM9U89M617LE:00000027 [INF] Request finished in 15.8864ms 200 text/css (791a596a)
2021-07-03T23:49:48.6084298+07:00 0HM9U89M617LE:00000021 [INF] Request finished in 16.6046ms 200 text/css (791a596a)
2021-07-03T23:49:48.6123012+07:00 0HM9U89M617LE:00000023 [INF] Sending file. Request path: '"/dist/plugin/emoji/css/emojionearea.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\css\emojionearea.css"' (27b0a520)
2021-07-03T23:49:48.6124418+07:00 0HM9U89M617LE:00000023 [INF] Request finished in 20.2749ms 200 text/css (791a596a)
2021-07-03T23:49:48.6128080+07:00 0HM9U89M617LE:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery-ui.js   (ca22a1cb)
2021-07-03T23:49:48.6130195+07:00 0HM9U89M617LE:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/js/emojionearea.js   (ca22a1cb)
2021-07-03T23:49:48.6133332+07:00 0HM9U89M617LE:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/swipe.min.js   (ca22a1cb)
2021-07-03T23:49:48.6159995+07:00 0HM9U89M617LE:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/i18n/vi.js   (ca22a1cb)
2021-07-03T23:49:48.6160649+07:00 0HM9U89M617LE:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/select2.js   (ca22a1cb)
2021-07-03T23:49:48.6162368+07:00 0HM9U89M617LE:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/my-script.js   (ca22a1cb)
2021-07-03T23:49:48.6163749+07:00 0HM9U89M617LE:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js   (ca22a1cb)
2021-07-03T23:49:48.6167935+07:00 0HM9U89M617LE:0000002D [INF] Sending file. Request path: '"/dist/js/swipe.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\swipe.min.js"' (27b0a520)
2021-07-03T23:49:48.6236164+07:00 0HM9U89M617LE:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-group.js   (ca22a1cb)
2021-07-03T23:49:48.6239562+07:00 0HM9U89M617LE:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/utils.js   (ca22a1cb)
2021-07-03T23:49:48.6239655+07:00 0HM9U89M617LE:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-contact.js   (ca22a1cb)
2021-07-03T23:49:48.6244175+07:00 0HM9U89M617LE:0000003D [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-avatar.png   (ca22a1cb)
2021-07-03T23:49:48.6457970+07:00 0HM9U89M617LE:0000003D [INF] Sending file. Request path: '"/user-content/img/default-avatar.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-avatar.png"' (27b0a520)
2021-07-03T23:49:48.6458845+07:00 0HM9U89M617LE:00000039 [INF] Sending file. Request path: '"/dist/js/custom/new-contact.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-contact.js"' (27b0a520)
2021-07-03T23:49:48.6459702+07:00 0HM9U89M617LE:0000003B [INF] Sending file. Request path: '"/dist/js/custom/utils.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\utils.js"' (27b0a520)
2021-07-03T23:49:48.6459883+07:00 0HM9U89M617LE:00000039 [INF] Request finished in 22.1644ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6462145+07:00 0HM9U89M617LE:00000035 [INF] Sending file. Request path: '"/dist/js/custom/my-script.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\my-script.js"' (27b0a520)
2021-07-03T23:49:48.6463133+07:00 0HM9U89M617LE:0000002D [INF] Request finished in 33.0525ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6470281+07:00 0HM9U89M617LE:0000003D [INF] Request finished in 22.5239ms 200 image/png (791a596a)
2021-07-03T23:49:48.6472330+07:00 0HM9U89M617LE:0000003B [INF] Request finished in 23.4076ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6473042+07:00 0HM9U89M617LE:00000035 [INF] Request finished in 31.2794ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6477858+07:00 0HM9U89M617LE:00000033 [INF] Sending file. Request path: '"/dist/plugin/select2/js/i18n/vi.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\i18n\vi.js"' (27b0a520)
2021-07-03T23:49:48.6477842+07:00 0HM9U89M617LE:00000037 [INF] Sending file. Request path: '"/dist/js/custom/new-group.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-group.js"' (27b0a520)
2021-07-03T23:49:48.6483663+07:00 0HM9U89M617LE:00000037 [INF] Request finished in 24.9178ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6484088+07:00 0HM9U89M617LE:00000033 [INF] Request finished in 32.5088ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6497725+07:00 0HM9U89M617LE:0000002B [INF] Sending file. Request path: '"/dist/plugin/emoji/js/emojionearea.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\js\emojionearea.js"' (27b0a520)
2021-07-03T23:49:48.6499379+07:00 0HM9U89M617LE:0000002B [INF] Request finished in 36.9317ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6515248+07:00 0HM9U89M617LE:00000031 [INF] Sending file. Request path: '"/dist/plugin/select2/js/select2.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\select2.js"' (27b0a520)
2021-07-03T23:49:48.6517812+07:00 0HM9U89M617LE:00000031 [INF] Request finished in 35.6995ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6629510+07:00 0HM9U89M617LE:0000002F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js"' (27b0a520)
2021-07-03T23:49:48.6630855+07:00 0HM9U89M617LE:0000002F [INF] Request finished in 49.4184ms 200 application/javascript (791a596a)
2021-07-03T23:49:48.6635068+07:00 0HM9U89M617LE:00000029 [INF] Sending file. Request path: '"/dist/js/jquery-ui.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery-ui.js"' (27b0a520)
2021-07-03T23:49:48.6636398+07:00 0HM9U89M617LE:00000029 [INF] Request finished in 50.8251ms 200 application/javascript (791a596a)
2021-07-03T23:49:49.8743167+07:00 0HM9U89M617LE:0000003F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:49:49.8754176+07:00 0HM9U89M617LE:0000003F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:49:49.8778800+07:00 0HM9U89M617LE:0000003F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:49:49.8787533+07:00 0HM9U89M617LE:0000003F [INF] Request finished in 4.3516ms 200 application/json (791a596a)
2021-07-03T23:49:49.8853986+07:00 0HM9U89M617LE:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:49:49.8867164+07:00 0HM9U89M617LE:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:49.8872579+07:00 0HM9U89M617LE:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:49.8877603+07:00 0HM9U89M617LE:00000041 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:49.8894594+07:00 0HM9U89M617LE:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:49.8930573+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:49.8966073+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:49.8979007+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:49.9003661+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:49:49.9020373+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:49:49.9053981+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:49:49.9080737+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:49:49.9094445+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:49.9104044+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:49.9112685+07:00 0HM9U89M617LE:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:49:49.9116257+07:00 0HM9U89M617LE:00000041 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:49:49.9117676+07:00 0HM9U89M617LF:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=anslB9u4J1iG6Ex3oOanfA   (ca22a1cb)
2021-07-03T23:49:49.9126269+07:00 0HM9U89M617LF:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:49:49.9138073+07:00 0HM9U89M617LE:00000041 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 2.2229ms. (6f83ade2)
2021-07-03T23:49:49.9140983+07:00 0HM9U89M617LE:00000041 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 26.2688ms (afa2e885)
2021-07-03T23:49:49.9143107+07:00 0HM9U89M617LE:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:49.9152708+07:00 0HM9U89M617LE:00000041 [INF] Request finished in 29.7174ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:49.9224762+07:00 0HM9U89M617LE:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-group.png   (ca22a1cb)
2021-07-03T23:49:49.9226849+07:00 0HM9U89M617LE:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-1.jpg   (ca22a1cb)
2021-07-03T23:49:49.9236389+07:00 0HM9U89M617LF:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:49.9237944+07:00 0HM9U89M617LE:00000045 [INF] Sending file. Request path: '"/user-content/img/avatar-male-1.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-1.jpg"' (27b0a520)
2021-07-03T23:49:49.9238057+07:00 0HM9U89M617LE:00000043 [INF] Sending file. Request path: '"/user-content/img/default-group.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-group.png"' (27b0a520)
2021-07-03T23:49:49.9239131+07:00 0HM9U89M617LE:00000045 [INF] Request finished in 1.2734ms 200 image/jpeg (791a596a)
2021-07-03T23:49:49.9239176+07:00 0HM9U89M617LE:00000043 [INF] Request finished in 1.6536ms 200 image/png (791a596a)
2021-07-03T23:49:49.9253335+07:00 0HM9U89M617LF:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:49:49.9281676+07:00 0HM9U89M617LF:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:49:50.9059133+07:00 0HM9U89M617LE:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330988619   (ca22a1cb)
2021-07-03T23:49:50.9066179+07:00 0HM9U89M617LE:00000049 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:49:50.9089375+07:00 0HM9U89M617LE:00000047 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:50.9092059+07:00 0HM9U89M617LE:00000047 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:50.9093129+07:00 0HM9U89M617LE:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:50.9095547+07:00 0HM9U89M617LE:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:50.9095433+07:00 0HM9U89M617LE:00000047 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:50.9097980+07:00 0HM9U89M617LE:00000049 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:50.9127111+07:00 0HM9U89M617LE:00000047 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:50.9132321+07:00 0HM9U89M617LE:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:50.9176659+07:00 0HM9U89M617LE:00000047 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:50.9220366+07:00 0HM9U89M617LE:00000049 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:50.9226550+07:00 0HM9U89M617LE:00000049 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:49:50.9231221+07:00 0HM9U89M617LE:00000047 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:50.9237601+07:00 0HM9U89M617LE:00000049 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 13.8487ms (afa2e885)
2021-07-03T23:49:50.9238242+07:00 0HM9U89M617LE:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:50.9244299+07:00 0HM9U89M617LE:00000049 [INF] Request finished in 17.8503ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:50.9300505+07:00 0HM9U89M617LE:00000047 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:50.9304755+07:00 0HM9U89M617LE:00000047 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:49:50.9316049+07:00 0HM9U89M617LE:00000047 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.1903ms. (6f83ade2)
2021-07-03T23:49:50.9317137+07:00 0HM9U89M617LE:00000047 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 22.1105ms (afa2e885)
2021-07-03T23:49:50.9317698+07:00 0HM9U89M617LE:00000047 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:50.9321558+07:00 0HM9U89M617LE:00000047 [INF] Request finished in 26.2973ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:52.2023528+07:00 0HM9U89M617LE:0000004B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:49:52.2036170+07:00 0HM9U89M617LE:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:52.2038458+07:00 0HM9U89M617LE:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:52.2040206+07:00 0HM9U89M617LE:0000004B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:52.2053413+07:00 0HM9U89M617LE:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:52.2085694+07:00 0HM9U89M617LE:0000004B [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:52.2119136+07:00 0HM9U89M617LE:0000004B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:52.2201977+07:00 0HM9U89M617LE:0000004B [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:52.2229388+07:00 0HM9U89M617LE:0000004B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:52.2261489+07:00 0HM9U89M617LE:0000004B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:49:52.2272793+07:00 0HM9U89M617LE:0000004B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 23.1941ms (afa2e885)
2021-07-03T23:49:52.2273208+07:00 0HM9U89M617LE:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:52.2277445+07:00 0HM9U89M617LE:0000004B [INF] Request finished in 25.4086ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:52.2353330+07:00 0HM9U89M617LE:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-2.jpg   (ca22a1cb)
2021-07-03T23:49:52.2369725+07:00 0HM9U89M617LE:0000004D [INF] Sending file. Request path: '"/user-content/img/avatar-male-2.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-2.jpg"' (27b0a520)
2021-07-03T23:49:52.2374672+07:00 0HM9U89M617LE:0000004D [INF] Request finished in 2.0645ms 200 image/jpeg (791a596a)
2021-07-03T23:49:54.5189720+07:00 0HM9U89M617LB:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330963199   (ca22a1cb)
2021-07-03T23:49:54.5210998+07:00 0HM9U89M617LB:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:54.5214853+07:00 0HM9U89M617LB:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:54.5219095+07:00 0HM9U89M617LB:00000021 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:54.5250185+07:00 0HM9U89M617LB:00000023 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:49:54.5260084+07:00 0HM9U89M617LB:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:54.5265223+07:00 0HM9U89M617LB:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:54.5267737+07:00 0HM9U89M617LB:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:54.5271769+07:00 0HM9U89M617LB:00000023 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:54.5285916+07:00 0HM9U89M617LB:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:54.5298250+07:00 0HM9U89M617LB:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:54.5316233+07:00 0HM9U89M617LB:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:54.5385298+07:00 0HM9U89M617LB:00000023 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:49:54.5390567+07:00 0HM9U89M617LB:00000023 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:49:54.5397884+07:00 0HM9U89M617LB:00000023 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 12.4961ms (afa2e885)
2021-07-03T23:49:54.5398501+07:00 0HM9U89M617LB:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:54.5404848+07:00 0HM9U89M617LB:00000023 [INF] Request finished in 15.4309ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:54.5420088+07:00 0HM9U89M617LB:00000021 [INF] Executed DbCommand ("7"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:54.5423545+07:00 0HM9U89M617LB:00000021 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:49:54.5433410+07:00 0HM9U89M617LB:00000021 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.0091ms. (6f83ade2)
2021-07-03T23:49:54.5434552+07:00 0HM9U89M617LB:00000021 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 21.4629ms (afa2e885)
2021-07-03T23:49:54.5435516+07:00 0HM9U89M617LB:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:54.5438631+07:00 0HM9U89M617LB:00000021 [INF] Request finished in 25.465ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:49:55.6870048+07:00 0HM9U89M617LB:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:49:55.6884003+07:00 0HM9U89M617LB:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:55.6886269+07:00 0HM9U89M617LB:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:55.6888927+07:00 0HM9U89M617LB:00000025 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:55.6908697+07:00 0HM9U89M617LB:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:55.6930620+07:00 0HM9U89M617LB:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:55.6946483+07:00 0HM9U89M617LB:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:55.6998121+07:00 0HM9U89M617LB:00000025 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:49:55.7007815+07:00 0HM9U89M617LB:00000025 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:49:55.7035620+07:00 0HM9U89M617LB:00000025 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:49:55.7043485+07:00 0HM9U89M617LB:00000025 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 15.3752ms (afa2e885)
2021-07-03T23:49:55.7043968+07:00 0HM9U89M617LB:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:55.7046122+07:00 0HM9U89M617LB:00000025 [INF] Request finished in 17.6431ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:49:57.7372397+07:00 0HM9U89M617LB:00000027 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:49:57.7388732+07:00 0HM9U89M617LB:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:49:57.7391522+07:00 0HM9U89M617LB:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:49:57.7441025+07:00 0HM9U89M617LB:00000027 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:49:57.7480418+07:00 0HM9U89M617LB:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:49:57.7570899+07:00 0HM9U89M617LB:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:49:57.7621393+07:00 0HM9U89M617LB:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:49:57.7725648+07:00 0HM9U89M617LB:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:49:57.7875069+07:00 0HM9U89M617LB:00000027 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:49:57.7898475+07:00 0HM9U89M617LB:00000027 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:49:57.7908369+07:00 0HM9U89M617LB:00000027 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 46.6292ms (afa2e885)
2021-07-03T23:49:57.7909086+07:00 0HM9U89M617LB:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:49:57.7912549+07:00 0HM9U89M617LB:00000027 [INF] Request finished in 54.0705ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:01.9785105+07:00 0HM9U89M617LE:0000004F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625330988620   (ca22a1cb)
2021-07-03T23:50:01.9809420+07:00 0HM9U89M617LE:00000051 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:50:01.9810624+07:00 0HM9U89M617LE:0000004F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:01.9813017+07:00 0HM9U89M617LE:0000004F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:01.9816332+07:00 0HM9U89M617LE:0000004F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:01.9821067+07:00 0HM9U89M617LE:00000051 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:01.9823713+07:00 0HM9U89M617LE:00000051 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:01.9825721+07:00 0HM9U89M617LE:00000051 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:01.9848080+07:00 0HM9U89M617LE:0000004F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:01.9863697+07:00 0HM9U89M617LE:00000051 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:01.9878335+07:00 0HM9U89M617LE:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:01.9898262+07:00 0HM9U89M617LE:00000051 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:01.9900730+07:00 0HM9U89M617LE:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:01.9901842+07:00 0HM9U89M617LE:00000051 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:50:01.9906113+07:00 0HM9U89M617LE:00000051 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 7.9645ms (afa2e885)
2021-07-03T23:50:01.9906551+07:00 0HM9U89M617LE:00000051 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:01.9909977+07:00 0HM9U89M617LE:00000051 [INF] Request finished in 10.0897ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:01.9981880+07:00 0HM9U89M617LE:0000004F [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:50:02.0035186+07:00 0HM9U89M617LE:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:50:02.0078188+07:00 0HM9U89M617LE:0000004F [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:50:02.0094663+07:00 0HM9U89M617LE:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:02.0098761+07:00 0HM9U89M617LE:0000004F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:50:02.0120148+07:00 0HM9U89M617LE:0000004F [INF] Executed PartialViewResult - view "_ChatForm" executed in 2.1546ms. (6f83ade2)
2021-07-03T23:50:02.0121887+07:00 0HM9U89M617LE:0000004F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 30.4958ms (afa2e885)
2021-07-03T23:50:02.0122559+07:00 0HM9U89M617LE:0000004F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:02.0125710+07:00 0HM9U89M617LE:0000004F [INF] Request finished in 34.088ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:08.4740373+07:00 0HM9U89M617LE:00000053 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:50:08.4746170+07:00 0HM9U89M617LE:00000053 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:08.4747131+07:00 0HM9U89M617LE:00000053 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:08.4748136+07:00 0HM9U89M617LE:00000053 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:08.4756132+07:00 0HM9U89M617LE:00000053 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:08.4779965+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:08.4807812+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:08.4816687+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:08.4828442+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:50:08.4840270+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:50:08.4856765+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:50:08.4872693+07:00 0HM9U89M617LE:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:50:08.4881385+07:00 0HM9U89M617LE:00000053 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:50:08.4890463+07:00 0HM9U89M617LE:00000053 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.9556ms. (6f83ade2)
2021-07-03T23:50:08.4890962+07:00 0HM9U89M617LE:00000053 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 14.2586ms (afa2e885)
2021-07-03T23:50:08.4891275+07:00 0HM9U89M617LE:00000053 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:08.4893410+07:00 0HM9U89M617LE:00000053 [INF] Request finished in 15.3076ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:10.9012177+07:00 0HM9U89M617LB:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:50:10.9032493+07:00 0HM9U89M617LB:00000029 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:10.9034783+07:00 0HM9U89M617LB:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:10.9036823+07:00 0HM9U89M617LB:00000029 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:10.9052565+07:00 0HM9U89M617LB:00000029 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:10.9069390+07:00 0HM9U89M617LB:00000029 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:10.9097838+07:00 0HM9U89M617LB:00000029 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:10.9160765+07:00 0HM9U89M617LB:00000029 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:10.9167302+07:00 0HM9U89M617LB:00000029 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:10.9183311+07:00 0HM9U89M617LB:00000029 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:50:10.9190256+07:00 0HM9U89M617LB:00000029 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 15.2865ms (afa2e885)
2021-07-03T23:50:10.9190631+07:00 0HM9U89M617LB:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:10.9192624+07:00 0HM9U89M617LB:00000029 [INF] Request finished in 21.3049ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:12.3259514+07:00 0HM9U89M617LB:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:50:12.3268144+07:00 0HM9U89M617LB:0000002B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:12.3269051+07:00 0HM9U89M617LB:0000002B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:12.3270054+07:00 0HM9U89M617LB:0000002B [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:12.3278008+07:00 0HM9U89M617LB:0000002B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:12.3290322+07:00 0HM9U89M617LB:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:50:12.3307660+07:00 0HM9U89M617LB:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:50:12.3317217+07:00 0HM9U89M617LB:0000002B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:12.3342090+07:00 0HM9U89M617LB:0000002B [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:12.3343974+07:00 0HM9U89M617LB:0000002B [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:50:12.3351079+07:00 0HM9U89M617LB:0000002B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 8.0466ms (afa2e885)
2021-07-03T23:50:12.3351362+07:00 0HM9U89M617LB:0000002B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:12.3353507+07:00 0HM9U89M617LB:0000002B [INF] Request finished in 9.4863ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:13.5502166+07:00 0HM9U89M617LB:0000002D [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryM9ud9AHCejArNoid 883 (ca22a1cb)
2021-07-03T23:50:13.5509846+07:00 0HM9U89M617LB:0000002D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:13.5511106+07:00 0HM9U89M617LB:0000002D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:13.5512475+07:00 0HM9U89M617LB:0000002D [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:13.5529675+07:00 0HM9U89M617LB:0000002D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:13.5541530+07:00 0HM9U89M617LB:0000002D [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:50:13.5571367+07:00 0HM9U89M617LB:0000002D [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:50:13.5595015+07:00 0HM9U89M617LB:0000002D [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:50:13.5625099+07:00 0HM9U89M617LB:0000002D [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:50:13.5635952+07:00 0HM9U89M617LB:0000002D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:50:13.5639978+07:00 0HM9U89M617LB:0000002D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 12.7086ms (afa2e885)
2021-07-03T23:50:13.5640253+07:00 0HM9U89M617LB:0000002D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:13.5642720+07:00 0HM9U89M617LB:0000002D [INF] Request finished in 14.253ms 302  (791a596a)
2021-07-03T23:50:13.5737446+07:00 0HM9U89M617LB:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:50:13.5743505+07:00 0HM9U89M617LB:0000002F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:13.5744482+07:00 0HM9U89M617LB:0000002F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:13.5745154+07:00 0HM9U89M617LB:0000002F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:13.5749181+07:00 0HM9U89M617LB:0000002F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:13.5797477+07:00 0HM9U89M617LB:0000002F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:50:13.5812211+07:00 0HM9U89M617LB:0000002F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:50:13.5832121+07:00 0HM9U89M617LB:0000002F [INF] Executed ViewResult - view "Index" executed in 2.0601ms. (f66409e9)
2021-07-03T23:50:13.5832826+07:00 0HM9U89M617LB:0000002F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 8.7451ms (afa2e885)
2021-07-03T23:50:13.5833216+07:00 0HM9U89M617LB:0000002F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:13.5835402+07:00 0HM9U89M617LB:0000002F [INF] Request finished in 9.848ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:13.5917943+07:00 0HM9U89M617LD:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:50:13.5921661+07:00 0HM9U89M617LD:00000001 [INF] Request finished in 50283.2224ms 101  (791a596a)
2021-07-03T23:50:13.6827369+07:00 0HM9U89M617LB:00000031 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:50:13.6831892+07:00 0HM9U89M617LB:00000031 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:50:13.6835773+07:00 0HM9U89M617LB:00000031 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:50:13.6836528+07:00 0HM9U89M617LB:00000031 [INF] Request finished in 1.0318ms 200 application/json (791a596a)
2021-07-03T23:50:13.6936954+07:00 0HM9U89M617LB:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:50:13.6941265+07:00 0HM9U89M617LB:00000033 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:13.6941963+07:00 0HM9U89M617LB:00000033 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:13.6942577+07:00 0HM9U89M617LB:00000033 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:13.6946428+07:00 0HM9U89M617LB:00000033 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:13.6954243+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:13.6962011+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:13.6967175+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:13.6973423+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:50:13.6978921+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:50:13.6985364+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:50:13.6992716+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:50:13.6998897+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:13.7004451+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:13.7011350+07:00 0HM9U89M617LB:00000033 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:50:13.7013472+07:00 0HM9U89M617LB:00000033 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:50:13.7017037+07:00 0HM9U89M617LB:00000033 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.3795ms. (6f83ade2)
2021-07-03T23:50:13.7017403+07:00 0HM9U89M617LB:00000033 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 7.4565ms (afa2e885)
2021-07-03T23:50:13.7017895+07:00 0HM9U89M617LB:00000033 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:13.7019195+07:00 0HM9U89M617LB:00000033 [INF] Request finished in 8.2866ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:13.7167219+07:00 0HM9U89M617LG:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=JlG5mwV7a2Ly9tAIxuNAHA   (ca22a1cb)
2021-07-03T23:50:13.7171308+07:00 0HM9U89M617LG:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:50:13.7265239+07:00 0HM9U89M617LG:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:13.7283160+07:00 0HM9U89M617LG:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:50:13.7300581+07:00 0HM9U89M617LG:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:50:14.7987001+07:00 0HM9U89M617LB:00000035 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:50:14.7990932+07:00 0HM9U89M617LB:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331013627   (ca22a1cb)
2021-07-03T23:50:14.8000691+07:00 0HM9U89M617LB:00000035 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:14.8001041+07:00 0HM9U89M617LB:00000037 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:14.8002260+07:00 0HM9U89M617LB:00000035 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:14.8002265+07:00 0HM9U89M617LB:00000037 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:14.8003587+07:00 0HM9U89M617LB:00000035 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:14.8003520+07:00 0HM9U89M617LB:00000037 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:14.8013622+07:00 0HM9U89M617LB:00000035 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:14.8013670+07:00 0HM9U89M617LB:00000037 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:14.8019570+07:00 0HM9U89M617LB:00000037 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:14.8046659+07:00 0HM9U89M617LB:00000035 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:14.8047144+07:00 0HM9U89M617LB:00000037 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:14.8049359+07:00 0HM9U89M617LB:00000035 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:50:14.8055151+07:00 0HM9U89M617LB:00000035 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 5.1004ms (afa2e885)
2021-07-03T23:50:14.8055636+07:00 0HM9U89M617LB:00000035 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:14.8058671+07:00 0HM9U89M617LB:00000035 [INF] Request finished in 7.298ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:14.8096475+07:00 0HM9U89M617LB:00000037 [INF] Executed DbCommand ("4"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:14.8099476+07:00 0HM9U89M617LB:00000037 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:50:14.8110213+07:00 0HM9U89M617LB:00000037 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.1187ms. (6f83ade2)
2021-07-03T23:50:14.8111105+07:00 0HM9U89M617LB:00000037 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 10.6865ms (afa2e885)
2021-07-03T23:50:14.8111573+07:00 0HM9U89M617LB:00000037 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:14.8114281+07:00 0HM9U89M617LB:00000037 [INF] Request finished in 12.4958ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:15.6513570+07:00 0HM9U89M617LB:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:50:15.6520961+07:00 0HM9U89M617LB:00000039 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:15.6522757+07:00 0HM9U89M617LB:00000039 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:15.6524740+07:00 0HM9U89M617LB:00000039 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:15.6541414+07:00 0HM9U89M617LB:00000039 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:15.6548733+07:00 0HM9U89M617LB:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:15.6556137+07:00 0HM9U89M617LB:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:15.6581786+07:00 0HM9U89M617LB:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:15.6589331+07:00 0HM9U89M617LB:00000039 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:15.6610313+07:00 0HM9U89M617LB:00000039 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:50:15.6616645+07:00 0HM9U89M617LB:00000039 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 9.1294ms (afa2e885)
2021-07-03T23:50:15.6617011+07:00 0HM9U89M617LB:00000039 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:15.6618940+07:00 0HM9U89M617LB:00000039 [INF] Request finished in 10.7033ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:17.2662798+07:00 0HM9U89M617LE:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:50:17.2679357+07:00 0HM9U89M617LE:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:17.2680871+07:00 0HM9U89M617LE:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:17.2682934+07:00 0HM9U89M617LE:00000055 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:17.2695264+07:00 0HM9U89M617LE:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:17.2706479+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:17.2716265+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:17.2723100+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:17.2730731+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:50:17.2736251+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:50:17.2742349+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:50:17.2748190+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:50:17.2754859+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:17.2759696+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:17.2765399+07:00 0HM9U89M617LE:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:50:17.2767659+07:00 0HM9U89M617LE:00000055 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:50:17.2776097+07:00 0HM9U89M617LE:00000055 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.8815ms. (6f83ade2)
2021-07-03T23:50:17.2776675+07:00 0HM9U89M617LE:00000055 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 9.3185ms (afa2e885)
2021-07-03T23:50:17.2777234+07:00 0HM9U89M617LE:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:17.2779434+07:00 0HM9U89M617LE:00000055 [INF] Request finished in 11.8404ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:17.8918728+07:00 0HM9U89M617LE:00000057 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625330988621   (ca22a1cb)
2021-07-03T23:50:17.8927353+07:00 0HM9U89M617LE:00000059 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:50:17.8939678+07:00 0HM9U89M617LE:00000059 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:17.8939856+07:00 0HM9U89M617LE:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:17.8940948+07:00 0HM9U89M617LE:00000059 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:17.8941586+07:00 0HM9U89M617LE:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:17.8941997+07:00 0HM9U89M617LE:00000059 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:17.8942817+07:00 0HM9U89M617LE:00000057 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:17.8962767+07:00 0HM9U89M617LE:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:17.8965469+07:00 0HM9U89M617LE:00000059 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:17.8974355+07:00 0HM9U89M617LE:00000057 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:17.8980182+07:00 0HM9U89M617LE:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:50:17.8984981+07:00 0HM9U89M617LE:00000059 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:50:17.8990893+07:00 0HM9U89M617LE:00000057 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:17.8997075+07:00 0HM9U89M617LE:00000059 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 5.0092ms (afa2e885)
2021-07-03T23:50:17.9000300+07:00 0HM9U89M617LE:00000059 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:17.9007442+07:00 0HM9U89M617LE:00000059 [INF] Request finished in 7.9319ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:17.9021708+07:00 0HM9U89M617LE:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:17.9028472+07:00 0HM9U89M617LE:00000057 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:50:17.9040247+07:00 0HM9U89M617LE:00000057 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.2697ms. (6f83ade2)
2021-07-03T23:50:17.9041894+07:00 0HM9U89M617LE:00000057 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 9.4707ms (afa2e885)
2021-07-03T23:50:17.9042437+07:00 0HM9U89M617LE:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:17.9044703+07:00 0HM9U89M617LE:00000057 [INF] Request finished in 12.7956ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:50:18.8843366+07:00 0HM9U89M617LE:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:50:18.8851504+07:00 0HM9U89M617LE:0000005B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:18.8853444+07:00 0HM9U89M617LE:0000005B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:18.8854802+07:00 0HM9U89M617LE:0000005B [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:18.8874920+07:00 0HM9U89M617LE:0000005B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:18.8887493+07:00 0HM9U89M617LE:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:18.8902294+07:00 0HM9U89M617LE:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:18.8974299+07:00 0HM9U89M617LE:0000005B [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:18.8981607+07:00 0HM9U89M617LE:0000005B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:18.9000024+07:00 0HM9U89M617LE:0000005B [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:50:18.9007742+07:00 0HM9U89M617LE:0000005B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 15.2191ms (afa2e885)
2021-07-03T23:50:18.9008255+07:00 0HM9U89M617LE:0000005B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:18.9009794+07:00 0HM9U89M617LE:0000005B [INF] Request finished in 16.8326ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:21.8739187+07:00 0HM9U89M617LE:0000005D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=2   (ca22a1cb)
2021-07-03T23:50:21.8743575+07:00 0HM9U89M617LE:0000005D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:21.8744473+07:00 0HM9U89M617LE:0000005D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:21.8765270+07:00 0HM9U89M617LE:0000005D [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:21.8792086+07:00 0HM9U89M617LE:0000005D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:21.8798198+07:00 0HM9U89M617LE:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:21.8805242+07:00 0HM9U89M617LE:0000005D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:21.8888635+07:00 0HM9U89M617LE:0000005D [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:21.8893300+07:00 0HM9U89M617LE:0000005D [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:50:21.8908952+07:00 0HM9U89M617LE:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/LoadMembers?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&pageIndex=3   (ca22a1cb)
2021-07-03T23:50:21.8915664+07:00 0HM9U89M617LE:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:21.8916685+07:00 0HM9U89M617LE:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:21.8917314+07:00 0HM9U89M617LE:0000005F [INF] Route matched with "{action = \"LoadMembers\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadMembers(System.Guid, Int32)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:21.8922490+07:00 0HM9U89M617LE:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:21.8931116+07:00 0HM9U89M617LE:0000005F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:50:21.8939935+07:00 0HM9U89M617LE:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:21.8951418+07:00 0HM9U89M617LE:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:50:21.8952879+07:00 0HM9U89M617LE:0000005F [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType4`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebChat.Common.ViewModels.Discussion.LoadMemberViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:50:21.8970276+07:00 0HM9U89M617LE:0000005F [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 5.2635ms (afa2e885)
2021-07-03T23:50:21.8970504+07:00 0HM9U89M617LE:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:21.8971543+07:00 0HM9U89M617LE:0000005F [INF] Request finished in 6.3906ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:21.8971411+07:00 0HM9U89M617LE:0000005D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)" in 20.5762ms (afa2e885)
2021-07-03T23:50:21.8971887+07:00 0HM9U89M617LE:0000005D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.LoadMembers (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:21.8972632+07:00 0HM9U89M617LE:0000005D [INF] Request finished in 23.4519ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:26.8812831+07:00 0HM9U89M617LB:0000003B [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:50:26.8819399+07:00 0HM9U89M617LB:0000003B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:50:26.8820134+07:00 0HM9U89M617LB:0000003B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:50:26.8820756+07:00 0HM9U89M617LB:0000003B [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:50:26.8828640+07:00 0HM9U89M617LB:0000003B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:50:26.8849757+07:00 0HM9U89M617LB:0000003B [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:50:26.8868071+07:00 0HM9U89M617LB:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:50:26.8903595+07:00 0HM9U89M617LB:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:50:26.8968974+07:00 0HM9U89M617LB:0000003B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:50:26.8972451+07:00 0HM9U89M617LB:0000003B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:50:26.8974530+07:00 0HM9U89M617LB:0000003B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 15.3545ms (afa2e885)
2021-07-03T23:50:26.8974832+07:00 0HM9U89M617LB:0000003B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:50:26.8975779+07:00 0HM9U89M617LB:0000003B [INF] Request finished in 17.3652ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:50:44.6797915+07:00 0HM9U89M617LE:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:50:44.6964053+07:00 0HM9U89M617LE:00000061 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:50:44.6965696+07:00 0HM9U89M617LE:00000061 [INF] Request finished in 17.4046ms 200 text/plain (791a596a)
2021-07-03T23:50:44.7039657+07:00 0HM9U89M617LE:00000063 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:50:44.7048497+07:00 0HM9U89M617LE:00000063 [INF] Request finished in 0.891ms 404  (791a596a)
2021-07-03T23:51:02.0455405+07:00 0HM9U89M617LE:00000065 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T23:51:02.0472681+07:00 0HM9U89M617LE:00000065 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:02.0474507+07:00 0HM9U89M617LE:00000065 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:02.0496288+07:00 0HM9U89M617LE:00000065 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:02.0538201+07:00 0HM9U89M617LE:00000065 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:02.0554510+07:00 0HM9U89M617LE:00000065 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:51:02.0650053+07:00 0HM9U89M617LE:00000065 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:51:02.0740013+07:00 0HM9U89M617LE:00000065 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T23:51:02.0804552+07:00 0HM9U89M617LE:00000065 [INF] Executed PartialViewResult - view "_ListContacts" executed in 14.4284ms. (6f83ade2)
2021-07-03T23:51:02.0805017+07:00 0HM9U89M617LE:00000065 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 30.8339ms (afa2e885)
2021-07-03T23:51:02.0805177+07:00 0HM9U89M617LE:00000065 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:02.0806018+07:00 0HM9U89M617LE:00000065 [INF] Request finished in 35.0996ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:04.1774642+07:00 0HM9U89M617LE:00000067 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:51:04.1779474+07:00 0HM9U89M617LE:00000067 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:04.1780682+07:00 0HM9U89M617LE:00000067 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:04.1781662+07:00 0HM9U89M617LE:00000067 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:04.1788636+07:00 0HM9U89M617LE:00000067 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:04.1826321+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:51:04.1898744+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("6"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:51:04.1916880+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:51:04.1940409+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:51:04.1961897+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:51:04.1983672+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:51:04.2007668+07:00 0HM9U89M617LE:00000067 [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:51:04.2010905+07:00 0HM9U89M617LE:00000067 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:51:04.2018212+07:00 0HM9U89M617LE:00000067 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.7883ms. (6f83ade2)
2021-07-03T23:51:04.2018610+07:00 0HM9U89M617LE:00000067 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 23.666ms (afa2e885)
2021-07-03T23:51:04.2018800+07:00 0HM9U89M617LE:00000067 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:04.2019806+07:00 0HM9U89M617LE:00000067 [INF] Request finished in 24.6704ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:05.6635584+07:00 0HM9U89M617LE:00000069 [INF] Request starting HTTP/2 GET https://localhost:5001/Setting/LoadSetting   (ca22a1cb)
2021-07-03T23:51:05.6643221+07:00 0HM9U89M617LE:00000069 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:05.6644160+07:00 0HM9U89M617LE:00000069 [INF] Executing endpoint '"WebChat.WebApp.Controllers.SettingController.LoadSetting (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:05.6685473+07:00 0HM9U89M617LE:00000069 [INF] Route matched with "{action = \"LoadSetting\", controller = \"Setting\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoadSetting()" on controller "WebChat.WebApp.Controllers.SettingController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:05.6707258+07:00 0HM9U89M617LE:00000069 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:05.6734695+07:00 0HM9U89M617LE:00000069 [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:51:05.6772904+07:00 0HM9U89M617LE:00000069 [INF] Executing PartialViewResult, running view "_Setting". (1d3d4b21)
2021-07-03T23:51:05.7173146+07:00 0HM9U89M617LE:00000069 [INF] Executed PartialViewResult - view "_Setting" executed in 42.5487ms. (6f83ade2)
2021-07-03T23:51:05.7174128+07:00 0HM9U89M617LE:00000069 [INF] Executed action "WebChat.WebApp.Controllers.SettingController.LoadSetting (WebChat.WebApp)" in 48.8134ms (afa2e885)
2021-07-03T23:51:05.7174647+07:00 0HM9U89M617LE:00000069 [INF] Executed endpoint '"WebChat.WebApp.Controllers.SettingController.LoadSetting (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:05.7177028+07:00 0HM9U89M617LE:00000069 [INF] Request finished in 54.3699ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:05.7245215+07:00 0HM9U89M617LE:0000006D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/integrations/dropbox.svg   (ca22a1cb)
2021-07-03T23:51:05.7245118+07:00 0HM9U89M617LE:0000006B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/integrations/slack.svg   (ca22a1cb)
2021-07-03T23:51:05.7246646+07:00 0HM9U89M617LE:0000006F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/integrations/drive.svg   (ca22a1cb)
2021-07-03T23:51:05.7248802+07:00 0HM9U89M617LE:00000071 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/integrations/trello.svg   (ca22a1cb)
2021-07-03T23:51:05.7259911+07:00 0HM9U89M617LE:0000006D [INF] Sending file. Request path: '"/dist/img/integrations/dropbox.svg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\integrations\dropbox.svg"' (27b0a520)
2021-07-03T23:51:05.7259975+07:00 0HM9U89M617LE:0000006F [INF] Sending file. Request path: '"/dist/img/integrations/drive.svg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\integrations\drive.svg"' (27b0a520)
2021-07-03T23:51:05.7260538+07:00 0HM9U89M617LE:0000006F [INF] Request finished in 1.4957ms 200 image/svg+xml (791a596a)
2021-07-03T23:51:05.7260553+07:00 0HM9U89M617LE:0000006D [INF] Request finished in 1.6559ms 200 image/svg+xml (791a596a)
2021-07-03T23:51:05.7342186+07:00 0HM9U89M617LE:00000073 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Bold.woff   (ca22a1cb)
2021-07-03T23:51:05.7358715+07:00 0HM9U89M617LE:00000073 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Bold.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Bold.woff"' (27b0a520)
2021-07-03T23:51:05.7360250+07:00 0HM9U89M617LE:00000073 [INF] Request finished in 1.8689ms 200 application/font-woff (791a596a)
2021-07-03T23:51:05.7591446+07:00 0HM9U89M617LE:0000006B [INF] Sending file. Request path: '"/dist/img/integrations/slack.svg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\integrations\slack.svg"' (27b0a520)
2021-07-03T23:51:05.7592562+07:00 0HM9U89M617LE:0000006B [INF] Request finished in 34.7375ms 200 image/svg+xml (791a596a)
2021-07-03T23:51:05.7649862+07:00 0HM9U89M617LE:00000071 [INF] Sending file. Request path: '"/dist/img/integrations/trello.svg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\integrations\trello.svg"' (27b0a520)
2021-07-03T23:51:05.7652788+07:00 0HM9U89M617LE:00000071 [INF] Request finished in 40.5246ms 200 image/svg+xml (791a596a)
2021-07-03T23:51:17.1602015+07:00 0HM9U89M617LE:00000075 [INF] Request starting HTTP/2 POST https://localhost:5001/User/UpdateProfile multipart/form-data; boundary=----WebKitFormBoundaryMLK2olA7BefpsTZB 1138 (ca22a1cb)
2021-07-03T23:51:17.1635132+07:00 0HM9U89M617LE:00000075 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:17.1636491+07:00 0HM9U89M617LE:00000075 [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.UpdateProfile (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:17.1692085+07:00 0HM9U89M617LE:00000075 [INF] Route matched with "{action = \"UpdateProfile\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProfile(WebChat.Common.ViewModels.User.UserViewModel)" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:17.1739757+07:00 0HM9U89M617LE:00000075 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:17.1782141+07:00 0HM9U89M617LE:00000075 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:51:17.1899868+07:00 0HM9U89M617LE:00000075 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:51:17.2221828+07:00 0HM9U89M617LE:00000075 [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:51:17.2444151+07:00 0HM9U89M617LE:00000075 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:51:17.2449322+07:00 0HM9U89M617LE:00000075 [INF] Executed action "WebChat.WebApp.Controllers.UserController.UpdateProfile (WebChat.WebApp)" in 75.6788ms (afa2e885)
2021-07-03T23:51:17.2449706+07:00 0HM9U89M617LE:00000075 [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.UpdateProfile (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:17.2451981+07:00 0HM9U89M617LE:00000075 [INF] Request finished in 85.0971ms 302  (791a596a)
2021-07-03T23:51:17.2487369+07:00 0HM9U89M617LE:00000077 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:51:17.2490396+07:00 0HM9U89M617LE:00000077 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:17.2490956+07:00 0HM9U89M617LE:00000077 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:17.2491520+07:00 0HM9U89M617LE:00000077 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:17.2493659+07:00 0HM9U89M617LE:00000077 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:17.2513682+07:00 0HM9U89M617LE:00000077 [INF] Executed DbCommand ("1"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:51:17.2529411+07:00 0HM9U89M617LE:00000077 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:51:17.2547658+07:00 0HM9U89M617LE:00000077 [INF] Executed ViewResult - view "Index" executed in 1.8819ms. (f66409e9)
2021-07-03T23:51:17.2548336+07:00 0HM9U89M617LE:00000077 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 5.6596ms (afa2e885)
2021-07-03T23:51:17.2548865+07:00 0HM9U89M617LE:00000077 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:17.2551250+07:00 0HM9U89M617LE:00000077 [INF] Request finished in 6.4684ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:17.2625383+07:00 0HM9U89M617LF:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:51:17.2626719+07:00 0HM9U89M617LF:00000001 [INF] Request finished in 87350.9549ms 101  (791a596a)
2021-07-03T23:51:17.2711455+07:00 0HM9U89M617LE:00000079 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/utils.js   (ca22a1cb)
2021-07-03T23:51:17.2734052+07:00 0HM9U89M617LE:00000079 [INF] The file "/dist/js/custom/utils.js" was not modified (f1f8d725)
2021-07-03T23:51:17.2739011+07:00 0HM9U89M617LE:00000079 [INF] Request finished in 2.8461ms 304 application/javascript (791a596a)
2021-07-03T23:51:17.3498145+07:00 0HM9U89M617LE:0000007B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:51:17.3502486+07:00 0HM9U89M617LE:0000007B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:51:17.3505604+07:00 0HM9U89M617LE:0000007B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:51:17.3506252+07:00 0HM9U89M617LE:0000007B [INF] Request finished in 0.8831ms 200 application/json (791a596a)
2021-07-03T23:51:17.3627426+07:00 0HM9U89M617LE:0000007D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:51:17.3632965+07:00 0HM9U89M617LE:0000007D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:17.3633832+07:00 0HM9U89M617LE:0000007D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:17.3634377+07:00 0HM9U89M617LE:0000007D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:17.3638379+07:00 0HM9U89M617LE:0000007D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:17.3661033+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:51:17.3690025+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:51:17.3701091+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:51:17.3715195+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:51:17.3727227+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:51:17.3743728+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:51:17.3760902+07:00 0HM9U89M617LE:0000007D [INF] Executed DbCommand ("1"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:51:17.3763813+07:00 0HM9U89M617LE:0000007D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:51:17.3775240+07:00 0HM9U89M617LE:0000007D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.1145ms. (6f83ade2)
2021-07-03T23:51:17.3775748+07:00 0HM9U89M617LE:0000007D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 14.1187ms (afa2e885)
2021-07-03T23:51:17.3776208+07:00 0HM9U89M617LE:0000007D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:17.3777935+07:00 0HM9U89M617LE:0000007D [INF] Request finished in 15.2442ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:17.3870404+07:00 0HM9U89M617LH:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=pket5-MYom9H6WzNKOHOoA   (ca22a1cb)
2021-07-03T23:51:17.3873189+07:00 0HM9U89M617LH:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:51:17.3942383+07:00 0HM9U89M617LH:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:17.3954443+07:00 0HM9U89M617LH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:51:17.3973544+07:00 0HM9U89M617LH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:51:19.2987140+07:00 0HM9U89M617LE:0000007F [INF] Request starting HTTP/2 GET https://localhost:5001/Setting/LoadSetting   (ca22a1cb)
2021-07-03T23:51:19.3012014+07:00 0HM9U89M617LE:0000007F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:19.3013343+07:00 0HM9U89M617LE:0000007F [INF] Executing endpoint '"WebChat.WebApp.Controllers.SettingController.LoadSetting (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:19.3014297+07:00 0HM9U89M617LE:0000007F [INF] Route matched with "{action = \"LoadSetting\", controller = \"Setting\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoadSetting()" on controller "WebChat.WebApp.Controllers.SettingController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:19.3018237+07:00 0HM9U89M617LE:0000007F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:19.3056393+07:00 0HM9U89M617LE:0000007F [INF] Executed DbCommand ("3"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:51:19.3071282+07:00 0HM9U89M617LE:0000007F [INF] Executing PartialViewResult, running view "_Setting". (1d3d4b21)
2021-07-03T23:51:19.3122960+07:00 0HM9U89M617LE:0000007F [INF] Executed PartialViewResult - view "_Setting" executed in 5.1927ms. (6f83ade2)
2021-07-03T23:51:19.3124654+07:00 0HM9U89M617LE:0000007F [INF] Executed action "WebChat.WebApp.Controllers.SettingController.LoadSetting (WebChat.WebApp)" in 10.9967ms (afa2e885)
2021-07-03T23:51:19.3125436+07:00 0HM9U89M617LE:0000007F [INF] Executed endpoint '"WebChat.WebApp.Controllers.SettingController.LoadSetting (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:19.3127963+07:00 0HM9U89M617LE:0000007F [INF] Request finished in 14.3573ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:31.0071637+07:00 0HM9U89M617LE:00000081 [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:51:31.0091400+07:00 0HM9U89M617LE:00000081 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:31.0092177+07:00 0HM9U89M617LE:00000081 [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:31.0122378+07:00 0HM9U89M617LE:00000081 [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:31.0134602+07:00 0HM9U89M617LE:00000081 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:31.0147110+07:00 0HM9U89M617LE:00000081 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:51:31.0169512+07:00 0HM9U89M617LE:00000081 [INF] Executed DbCommand ("0"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:51:31.0262256+07:00 0HM9U89M617LE:00000081 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:51:31.0268235+07:00 0HM9U89M617LE:00000081 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:51:31.0269589+07:00 0HM9U89M617LE:00000081 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:51:31.0271652+07:00 0HM9U89M617LE:00000081 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:51:31.0272237+07:00 0HM9U89M617LE:00000081 [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 14.9342ms (afa2e885)
2021-07-03T23:51:31.0272424+07:00 0HM9U89M617LE:00000081 [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:31.0288953+07:00 0HM9U89M617LE:00000081 [INF] Request finished in 21.7333ms 302  (791a596a)
2021-07-03T23:51:31.0321463+07:00 0HM9U89M617LE:00000083 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:51:31.0323961+07:00 0HM9U89M617LE:00000083 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:31.0324552+07:00 0HM9U89M617LE:00000083 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:31.0327732+07:00 0HM9U89M617LE:00000083 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:51:31.0350242+07:00 0HM9U89M617LE:00000083 [INF] Executed ViewResult - view "Login" executed in 2.3102ms. (f66409e9)
2021-07-03T23:51:31.0350680+07:00 0HM9U89M617LE:00000083 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2.5956ms (afa2e885)
2021-07-03T23:51:31.0350823+07:00 0HM9U89M617LE:00000083 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:31.0351513+07:00 0HM9U89M617LE:00000083 [INF] Request finished in 3.2184ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:31.0516020+07:00 0HM9U89M617LH:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:51:31.0518211+07:00 0HM9U89M617LH:00000001 [INF] Request finished in 13664.7806ms 101  (791a596a)
2021-07-03T23:51:33.9889074+07:00 0HM9U89M617LG:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:51:33.9890812+07:00 0HM9U89M617LG:00000001 [INF] Request finished in 80272.3688ms 101  (791a596a)
2021-07-03T23:51:33.9919844+07:00  [INF] Application is shutting down... (90f52c38)
2021-07-03T23:51:43.7366509+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T23:51:44.3543028+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T23:51:44.3581631+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T23:51:44.3596912+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T23:51:44.3610138+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T23:51:44.6280210+07:00 0HM9U8BBEMQ7H:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:51:44.8687697+07:00 0HM9U8BBEMQ7H:00000001 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:44.8841787+07:00 0HM9U8BBEMQ7H:00000001 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:44.9275440+07:00 0HM9U8BBEMQ7H:00000001 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:44.9410297+07:00 0HM9U8BBEMQ7H:00000001 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:51:44.9666946+07:00 0HM9U8BBEMQ7H:00000001 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:51:44.9725725+07:00 0HM9U8BBEMQ7H:00000001 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 39.6988ms (afa2e885)
2021-07-03T23:51:44.9726782+07:00 0HM9U8BBEMQ7H:00000001 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:44.9814349+07:00 0HM9U8BBEMQ7H:00000001 [INF] Request finished in 356.7388ms 302  (791a596a)
2021-07-03T23:51:44.9951245+07:00 0HM9U8BBEMQ7H:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:51:44.9990432+07:00 0HM9U8BBEMQ7H:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:45.0007521+07:00 0HM9U8BBEMQ7H:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:45.0410037+07:00 0HM9U8BBEMQ7H:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:51:45.3222186+07:00 0HM9U8BBEMQ7H:00000003 [INF] Executed ViewResult - view "Login" executed in 317.7736ms. (f66409e9)
2021-07-03T23:51:45.3223501+07:00 0HM9U8BBEMQ7H:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 321.5418ms (afa2e885)
2021-07-03T23:51:45.3224225+07:00 0HM9U8BBEMQ7H:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:45.3245437+07:00 0HM9U8BBEMQ7H:00000003 [INF] Request finished in 329.3396ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:49.1329958+07:00 0HM9U8BBEMQ7H:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:51:49.1476038+07:00 0HM9U8BBEMQ7H:00000005 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:51:49.1614122+07:00 0HM9U8BBEMQ7H:00000005 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:51:49.1616978+07:00 0HM9U8BBEMQ7H:00000005 [INF] Request finished in 28.8763ms 200 application/json (791a596a)
2021-07-03T23:51:49.1742577+07:00 0HM9U8BBEMQ7I:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=hCHvaFeV3FbCd9kE2Wm_3A   (ca22a1cb)
2021-07-03T23:51:49.1750976+07:00 0HM9U8BBEMQ7I:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:51:56.2851745+07:00 0HM9U8BBEMQ7H:00000007 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 260 (ca22a1cb)
2021-07-03T23:51:56.2873429+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:56.2999633+07:00 0HM9U8BBEMQ7H:00000007 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:56.3420731+07:00 0HM9U8BBEMQ7H:00000007 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:51:57.1987306+07:00 0HM9U8BBEMQ7H:00000007 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:51:57.2017434+07:00 0HM9U8BBEMQ7H:00000007 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:51:57.3259764+07:00 0HM9U8BBEMQ7H:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:57.9719487+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("46"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:51:58.0331923+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("15"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:51:58.2372238+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:51:58.2717138+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:51:58.2787385+07:00 0HM9U8BBEMQ7H:00000007 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:51:58.2850719+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:51:58.2931025+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:51:58.3954204+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("9"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:51:58.4131141+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:51:58.4444578+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:51:58.4454378+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2145.3832ms (afa2e885)
2021-07-03T23:51:58.4458881+07:00 0HM9U8BBEMQ7H:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:58.4476813+07:00 0HM9U8BBEMQ7H:00000007 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"d4d771f2-4ce9-3e08-c148-577787c8d3b7" (1d7cf8c0)
2021-07-03T23:51:58.4537184+07:00 0HM9U8BBEMQ7H:00000007 [INF] Request finished in 2168.8441ms 302  (791a596a)
2021-07-03T23:51:58.4613815+07:00 0HM9U8BBEMQ7H:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:51:58.4620327+07:00 0HM9U8BBEMQ7H:00000009 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:58.4621243+07:00 0HM9U8BBEMQ7H:00000009 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:58.4624225+07:00 0HM9U8BBEMQ7H:00000009 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:58.5064700+07:00 0HM9U8BBEMQ7H:00000009 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:58.5201395+07:00 0HM9U8BBEMQ7H:00000009 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:51:58.5238872+07:00 0HM9U8BBEMQ7H:00000009 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:51:58.5736755+07:00 0HM9U8BBEMQ7H:00000009 [INF] Executed ViewResult - view "Index" executed in 52.0278ms. (f66409e9)
2021-07-03T23:51:58.5738596+07:00 0HM9U8BBEMQ7H:00000009 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 111.3731ms (afa2e885)
2021-07-03T23:51:58.5739733+07:00 0HM9U8BBEMQ7H:00000009 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:58.5743464+07:00 0HM9U8BBEMQ7H:00000009 [INF] Request finished in 112.9361ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:51:58.6789263+07:00 0HM9U8BBEMQ7H:0000000B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:51:58.6794372+07:00 0HM9U8BBEMQ7H:0000000B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:51:58.6799612+07:00 0HM9U8BBEMQ7H:0000000B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:51:58.6801005+07:00 0HM9U8BBEMQ7H:0000000B [INF] Request finished in 1.2754ms 200 application/json (791a596a)
2021-07-03T23:51:58.6892720+07:00 0HM9U8BBEMQ7H:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:51:58.6917635+07:00 0HM9U8BBEMQ7H:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:51:58.6920294+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:51:58.6935171+07:00 0HM9U8BBEMQ7H:0000000D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:51:58.7132729+07:00 0HM9U8BBEMQ7H:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:58.7138353+07:00 0HM9U8BBEMQ7J:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=q7IoS5zyi23pcLYT-FeUeQ   (ca22a1cb)
2021-07-03T23:51:58.7142735+07:00 0HM9U8BBEMQ7J:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:51:58.7351737+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:51:58.7353441+07:00 0HM9U8BBEMQ7J:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:51:58.7402480+07:00 0HM9U8BBEMQ7J:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:51:58.7747324+07:00 0HM9U8BBEMQ7J:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:51:58.7754303+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:51:58.7792312+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:51:58.7871960+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:51:58.7917338+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:51:58.8005907+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:51:58.8090445+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:51:58.8106616+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:51:58.8112491+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:51:58.8120827+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:51:58.8193397+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:51:58.8295096+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 12.655ms. (6f83ade2)
2021-07-03T23:51:58.8295756+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 136.0152ms (afa2e885)
2021-07-03T23:51:58.8296029+07:00 0HM9U8BBEMQ7H:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:51:58.8297792+07:00 0HM9U8BBEMQ7H:0000000D [INF] Request finished in 140.6992ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:08.7307159+07:00 0HM9U8BBEMQ7K:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:52:08.7319498+07:00 0HM9U8BBEMQ7K:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T23:52:08.7365986+07:00 0HM9U8BBEMQ7K:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T23:52:08.7374260+07:00 0HM9U8BBEMQ7K:00000001 [INF] Request finished in 7.3226ms 302  (791a596a)
2021-07-03T23:52:08.7419708+07:00 0HM9U8BBEMQ7K:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T23:52:08.7429065+07:00 0HM9U8BBEMQ7K:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:08.7430987+07:00 0HM9U8BBEMQ7K:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:08.7453846+07:00 0HM9U8BBEMQ7K:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:52:08.7500608+07:00 0HM9U8BBEMQ7K:00000003 [INF] Executed ViewResult - view "Login" executed in 4.8527ms. (f66409e9)
2021-07-03T23:52:08.7501453+07:00 0HM9U8BBEMQ7K:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 6.9968ms (afa2e885)
2021-07-03T23:52:08.7501727+07:00 0HM9U8BBEMQ7K:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:08.7503383+07:00 0HM9U8BBEMQ7K:00000003 [INF] Request finished in 8.3976ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:08.7800168+07:00 0HM9U8BBEMQ7K:00000005 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/lib/bootstrap.min.css   (ca22a1cb)
2021-07-03T23:52:08.7823816+07:00 0HM9U8BBEMQ7K:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/swipe.min.css   (ca22a1cb)
2021-07-03T23:52:08.7824387+07:00 0HM9U8BBEMQ7K:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery.min.js   (ca22a1cb)
2021-07-03T23:52:08.7827410+07:00 0HM9U8BBEMQ7K:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/vendor/popper.min.js   (ca22a1cb)
2021-07-03T23:52:08.7828963+07:00 0HM9U8BBEMQ7K:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.css   (ca22a1cb)
2021-07-03T23:52:08.7830511+07:00 0HM9U8BBEMQ7K:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/bootstrap.min.js   (ca22a1cb)
2021-07-03T23:52:08.7832286+07:00 0HM9U8BBEMQ7K:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.js   (ca22a1cb)
2021-07-03T23:52:08.7931751+07:00 0HM9U8BBEMQ7K:00000011 [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.js"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.js"' (27b0a520)
2021-07-03T23:52:08.7931750+07:00 0HM9U8BBEMQ7K:0000000D [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.css"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.css"' (27b0a520)
2021-07-03T23:52:08.7941562+07:00 0HM9U8BBEMQ7K:00000011 [INF] Request finished in 10.9907ms 200 application/javascript (791a596a)
2021-07-03T23:52:08.7941563+07:00 0HM9U8BBEMQ7K:0000000D [INF] Request finished in 11.3304ms 200 text/css (791a596a)
2021-07-03T23:52:08.8157335+07:00 0HM9U8BBEMQ7K:00000007 [INF] Sending file. Request path: '"/dist/css/swipe.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\swipe.min.css"' (27b0a520)
2021-07-03T23:52:08.8157335+07:00 0HM9U8BBEMQ7K:0000000F [INF] Sending file. Request path: '"/dist/js/bootstrap.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\bootstrap.min.js"' (27b0a520)
2021-07-03T23:52:08.8157620+07:00 0HM9U8BBEMQ7K:00000009 [INF] Sending file. Request path: '"/dist/js/jquery.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery.min.js"' (27b0a520)
2021-07-03T23:52:08.8157620+07:00 0HM9U8BBEMQ7K:00000005 [INF] Sending file. Request path: '"/dist/css/lib/bootstrap.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\lib\bootstrap.min.css"' (27b0a520)
2021-07-03T23:52:08.8157755+07:00 0HM9U8BBEMQ7K:0000000B [INF] Sending file. Request path: '"/dist/js/vendor/popper.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\vendor\popper.min.js"' (27b0a520)
2021-07-03T23:52:08.8159242+07:00 0HM9U8BBEMQ7K:00000007 [INF] Request finished in 33.671ms 200 text/css (791a596a)
2021-07-03T23:52:08.8159283+07:00 0HM9U8BBEMQ7K:0000000F [INF] Request finished in 32.8913ms 200 application/javascript (791a596a)
2021-07-03T23:52:08.8159607+07:00 0HM9U8BBEMQ7K:00000005 [INF] Request finished in 36.2155ms 200 text/css (791a596a)
2021-07-03T23:52:08.8159821+07:00 0HM9U8BBEMQ7K:00000009 [INF] Request finished in 33.5492ms 200 application/javascript (791a596a)
2021-07-03T23:52:08.8160110+07:00 0HM9U8BBEMQ7K:0000000B [INF] Request finished in 33.2787ms 200 application/javascript (791a596a)
2021-07-03T23:52:08.8884719+07:00 0HM9U8BBEMQ7K:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Black.woff   (ca22a1cb)
2021-07-03T23:52:08.8884719+07:00 0HM9U8BBEMQ7K:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/material/MaterialIcons-Regular.woff2   (ca22a1cb)
2021-07-03T23:52:08.8889827+07:00 0HM9U8BBEMQ7K:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Book.woff   (ca22a1cb)
2021-07-03T23:52:08.8890847+07:00 0HM9U8BBEMQ7K:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Medium.woff   (ca22a1cb)
2021-07-03T23:52:08.8993203+07:00 0HM9U8BBEMQ7K:00000013 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Black.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Black.woff"' (27b0a520)
2021-07-03T23:52:08.8993203+07:00 0HM9U8BBEMQ7K:00000019 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Medium.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Medium.woff"' (27b0a520)
2021-07-03T23:52:08.8993204+07:00 0HM9U8BBEMQ7K:00000015 [INF] Sending file. Request path: '"/dist/fonts/material/MaterialIcons-Regular.woff2"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\material\MaterialIcons-Regular.woff2"' (27b0a520)
2021-07-03T23:52:08.8994887+07:00 0HM9U8BBEMQ7K:00000013 [INF] Request finished in 11.1229ms 200 application/font-woff (791a596a)
2021-07-03T23:52:08.8995045+07:00 0HM9U8BBEMQ7K:00000019 [INF] Request finished in 10.5137ms 200 application/font-woff (791a596a)
2021-07-03T23:52:08.8995304+07:00 0HM9U8BBEMQ7K:00000015 [INF] Request finished in 11.1754ms 200 font/woff2 (791a596a)
2021-07-03T23:52:08.8999154+07:00 0HM9U8BBEMQ7K:00000017 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Book.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Book.woff"' (27b0a520)
2021-07-03T23:52:08.9000696+07:00 0HM9U8BBEMQ7K:00000017 [INF] Request finished in 11.3554ms 200 application/font-woff (791a596a)
2021-07-03T23:52:08.9660191+07:00 0HM9U8BBEMQ7K:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T23:52:08.9695059+07:00 0HM9U8BBEMQ7K:0000001B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T23:52:08.9705217+07:00 0HM9U8BBEMQ7K:0000001B [INF] Request finished in 4.431ms 200 image/png (791a596a)
2021-07-03T23:52:14.5850588+07:00 0HM9U8BBEMQ7K:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T23:52:14.5866889+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:14.5870282+07:00 0HM9U8BBEMQ7K:0000001D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:14.5913917+07:00 0HM9U8BBEMQ7K:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:14.5946446+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:52:14.5979226+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:52:14.6116464+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:52:14.6176797+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:52:14.6186708+07:00 0HM9U8BBEMQ7K:0000001D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:52:14.6201620+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:52:14.6217313+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:52:14.6262039+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:52:14.6328930+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:14.6345527+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:52:14.6347349+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 47.5726ms (afa2e885)
2021-07-03T23:52:14.6348167+07:00 0HM9U8BBEMQ7K:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:14.6349710+07:00 0HM9U8BBEMQ7K:0000001D [INF] Session started; Key:"cd10eac6-4e3f-21ba-f6ee-a95b5ca7f03b", Id:"d2b6522b-3b5e-2dff-d52c-dde17549edd1" (1d7cf8c0)
2021-07-03T23:52:14.6363342+07:00 0HM9U8BBEMQ7K:0000001D [INF] Request finished in 51.5476ms 302  (791a596a)
2021-07-03T23:52:14.6402058+07:00 0HM9U8BBEMQ7K:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:52:14.6410313+07:00 0HM9U8BBEMQ7K:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:14.6411610+07:00 0HM9U8BBEMQ7K:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:14.6412480+07:00 0HM9U8BBEMQ7K:0000001F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:14.6416473+07:00 0HM9U8BBEMQ7K:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:14.6451928+07:00 0HM9U8BBEMQ7K:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:52:14.6463751+07:00 0HM9U8BBEMQ7K:0000001F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:52:14.6504215+07:00 0HM9U8BBEMQ7K:0000001F [INF] Executed ViewResult - view "Index" executed in 4.1936ms. (f66409e9)
2021-07-03T23:52:14.6505733+07:00 0HM9U8BBEMQ7K:0000001F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 9.276ms (afa2e885)
2021-07-03T23:52:14.6506279+07:00 0HM9U8BBEMQ7K:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:14.6510492+07:00 0HM9U8BBEMQ7K:0000001F [INF] Request finished in 10.8334ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:14.6631405+07:00 0HM9U8BBEMQ7K:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/css/select2.css   (ca22a1cb)
2021-07-03T23:52:14.6632661+07:00 0HM9U8BBEMQ7K:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css   (ca22a1cb)
2021-07-03T23:52:14.6634049+07:00 0HM9U8BBEMQ7K:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/my-style.css   (ca22a1cb)
2021-07-03T23:52:14.6637031+07:00 0HM9U8BBEMQ7K:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/preview-group.css   (ca22a1cb)
2021-07-03T23:52:14.6664301+07:00 0HM9U8BBEMQ7K:00000027 [INF] Sending file. Request path: '"/dist/css/custom/preview-group.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\preview-group.css"' (27b0a520)
2021-07-03T23:52:14.6665045+07:00 0HM9U8BBEMQ7K:00000025 [INF] Sending file. Request path: '"/dist/css/custom/my-style.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\my-style.css"' (27b0a520)
2021-07-03T23:52:14.6666886+07:00 0HM9U8BBEMQ7K:00000027 [INF] Request finished in 3.0363ms 200 text/css (791a596a)
2021-07-03T23:52:14.6669212+07:00 0HM9U8BBEMQ7K:00000025 [INF] Request finished in 3.3607ms 200 text/css (791a596a)
2021-07-03T23:52:14.6672472+07:00 0HM9U8BBEMQ7K:00000021 [INF] Sending file. Request path: '"/dist/plugin/select2/css/select2.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\css\select2.css"' (27b0a520)
2021-07-03T23:52:14.6672679+07:00 0HM9U8BBEMQ7K:00000023 [INF] Sending file. Request path: '"/dist/plugin/emoji/css/emojionearea.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\css\emojionearea.css"' (27b0a520)
2021-07-03T23:52:14.6673813+07:00 0HM9U8BBEMQ7K:00000021 [INF] Request finished in 4.2982ms 200 text/css (791a596a)
2021-07-03T23:52:14.6673813+07:00 0HM9U8BBEMQ7K:00000023 [INF] Request finished in 4.1737ms 200 text/css (791a596a)
2021-07-03T23:52:14.6766182+07:00 0HM9U8BBEMQ7K:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery-ui.js   (ca22a1cb)
2021-07-03T23:52:14.6770887+07:00 0HM9U8BBEMQ7K:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/swipe.min.js   (ca22a1cb)
2021-07-03T23:52:14.6771909+07:00 0HM9U8BBEMQ7K:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js   (ca22a1cb)
2021-07-03T23:52:14.6780081+07:00 0HM9U8BBEMQ7K:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/js/emojionearea.js   (ca22a1cb)
2021-07-03T23:52:14.6789582+07:00 0HM9U8BBEMQ7K:0000002D [INF] Sending file. Request path: '"/dist/js/swipe.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\swipe.min.js"' (27b0a520)
2021-07-03T23:52:14.6791766+07:00 0HM9U8BBEMQ7K:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/select2.js   (ca22a1cb)
2021-07-03T23:52:14.6794678+07:00 0HM9U8BBEMQ7K:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/i18n/vi.js   (ca22a1cb)
2021-07-03T23:52:14.6797037+07:00 0HM9U8BBEMQ7K:0000002D [INF] Request finished in 2.6408ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.6826313+07:00 0HM9U8BBEMQ7K:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-group.js   (ca22a1cb)
2021-07-03T23:52:14.6827248+07:00 0HM9U8BBEMQ7K:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-contact.js   (ca22a1cb)
2021-07-03T23:52:14.6827581+07:00 0HM9U8BBEMQ7K:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/my-script.js   (ca22a1cb)
2021-07-03T23:52:14.7051023+07:00 0HM9U8BBEMQ7K:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/utils.js   (ca22a1cb)
2021-07-03T23:52:14.7051724+07:00 0HM9U8BBEMQ7K:00000039 [INF] Sending file. Request path: '"/dist/js/custom/new-contact.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-contact.js"' (27b0a520)
2021-07-03T23:52:14.7051724+07:00 0HM9U8BBEMQ7K:00000035 [INF] Sending file. Request path: '"/dist/js/custom/my-script.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\my-script.js"' (27b0a520)
2021-07-03T23:52:14.7052825+07:00 0HM9U8BBEMQ7K:00000039 [INF] Request finished in 22.579ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7053114+07:00 0HM9U8BBEMQ7K:00000035 [INF] Request finished in 22.9667ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7085633+07:00 0HM9U8BBEMQ7K:0000003D [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-avatar.png   (ca22a1cb)
2021-07-03T23:52:14.7123451+07:00 0HM9U8BBEMQ7K:00000033 [INF] Sending file. Request path: '"/dist/plugin/select2/js/i18n/vi.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\i18n\vi.js"' (27b0a520)
2021-07-03T23:52:14.7123594+07:00 0HM9U8BBEMQ7K:00000037 [INF] Sending file. Request path: '"/dist/js/custom/new-group.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-group.js"' (27b0a520)
2021-07-03T23:52:14.7124054+07:00 0HM9U8BBEMQ7K:0000003D [INF] Sending file. Request path: '"/user-content/img/default-avatar.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-avatar.png"' (27b0a520)
2021-07-03T23:52:14.7132875+07:00 0HM9U8BBEMQ7K:00000037 [INF] Request finished in 32.5235ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7132875+07:00 0HM9U8BBEMQ7K:00000033 [INF] Request finished in 33.8112ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7136481+07:00 0HM9U8BBEMQ7K:0000003D [INF] Request finished in 5.1047ms 200 image/png (791a596a)
2021-07-03T23:52:14.7137628+07:00 0HM9U8BBEMQ7K:0000003B [INF] Sending file. Request path: '"/dist/js/custom/utils.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\utils.js"' (27b0a520)
2021-07-03T23:52:14.7138814+07:00 0HM9U8BBEMQ7K:0000003B [INF] Request finished in 8.8135ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7250016+07:00 0HM9U8BBEMQ7K:0000002B [INF] Sending file. Request path: '"/dist/plugin/emoji/js/emojionearea.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\js\emojionearea.js"' (27b0a520)
2021-07-03T23:52:14.7314038+07:00 0HM9U8BBEMQ7K:0000002B [INF] Request finished in 54.7002ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7314836+07:00 0HM9U8BBEMQ7K:00000031 [INF] Sending file. Request path: '"/dist/plugin/select2/js/select2.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\select2.js"' (27b0a520)
2021-07-03T23:52:14.7316670+07:00 0HM9U8BBEMQ7K:00000031 [INF] Request finished in 52.8957ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7339658+07:00 0HM9U8BBEMQ7K:0000002F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js"' (27b0a520)
2021-07-03T23:52:14.7341246+07:00 0HM9U8BBEMQ7K:0000002F [INF] Request finished in 56.9351ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.7412106+07:00 0HM9U8BBEMQ7K:00000029 [INF] Sending file. Request path: '"/dist/js/jquery-ui.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery-ui.js"' (27b0a520)
2021-07-03T23:52:14.7415467+07:00 0HM9U8BBEMQ7K:00000029 [INF] Request finished in 64.8629ms 200 application/javascript (791a596a)
2021-07-03T23:52:14.9138849+07:00 0HM9U8BBEMQ7K:0000003F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:52:14.9147654+07:00 0HM9U8BBEMQ7K:0000003F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:52:14.9156889+07:00 0HM9U8BBEMQ7K:0000003F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:52:14.9158911+07:00 0HM9U8BBEMQ7K:0000003F [INF] Request finished in 2.0649ms 200 application/json (791a596a)
2021-07-03T23:52:14.9249072+07:00 0HM9U8BBEMQ7K:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:52:14.9295557+07:00 0HM9U8BBEMQ7K:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:14.9297051+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:14.9297961+07:00 0HM9U8BBEMQ7K:00000041 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:14.9306873+07:00 0HM9U8BBEMQ7K:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:14.9340728+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:14.9375341+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:14.9391082+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:14.9410903+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:52:14.9446311+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("3"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:52:14.9470474+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:52:14.9515873+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed DbCommand ("3"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:52:14.9525234+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:52:14.9533975+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.842ms. (6f83ade2)
2021-07-03T23:52:14.9534637+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 23.6195ms (afa2e885)
2021-07-03T23:52:14.9535012+07:00 0HM9U8BBEMQ7K:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:14.9536335+07:00 0HM9U8BBEMQ7K:00000041 [INF] Request finished in 28.8407ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:14.9555076+07:00 0HM9U8BBEMQ7L:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=sS-gqYxua8SUdM9TAKxC-w   (ca22a1cb)
2021-07-03T23:52:14.9559711+07:00 0HM9U8BBEMQ7L:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:52:14.9613633+07:00 0HM9U8BBEMQ7K:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-1.jpg   (ca22a1cb)
2021-07-03T23:52:14.9621537+07:00 0HM9U8BBEMQ7K:00000043 [INF] Sending file. Request path: '"/user-content/img/avatar-male-1.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-1.jpg"' (27b0a520)
2021-07-03T23:52:14.9623613+07:00 0HM9U8BBEMQ7K:00000043 [INF] Request finished in 1.1419ms 200 image/jpeg (791a596a)
2021-07-03T23:52:14.9779288+07:00 0HM9U8BBEMQ7L:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:14.9792799+07:00 0HM9U8BBEMQ7L:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:52:14.9826883+07:00 0HM9U8BBEMQ7L:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:52:17.5969163+07:00 0HM9U8BBEMQ7H:0000000F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:52:17.5998145+07:00 0HM9U8BBEMQ7H:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331118636   (ca22a1cb)
2021-07-03T23:52:17.6029034+07:00 0HM9U8BBEMQ7H:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:17.6029015+07:00 0HM9U8BBEMQ7H:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:17.6032179+07:00 0HM9U8BBEMQ7H:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:17.6032151+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:17.6065568+07:00 0HM9U8BBEMQ7H:00000011 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:17.6065568+07:00 0HM9U8BBEMQ7H:0000000F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:17.6138648+07:00 0HM9U8BBEMQ7H:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:17.6138665+07:00 0HM9U8BBEMQ7H:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:17.6209208+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:17.6218341+07:00 0HM9U8BBEMQ7H:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:17.6236589+07:00 0HM9U8BBEMQ7H:0000000F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:52:17.6338350+07:00 0HM9U8BBEMQ7H:0000000F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 27.1216ms (afa2e885)
2021-07-03T23:52:17.6339522+07:00 0HM9U8BBEMQ7H:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:17.6343997+07:00 0HM9U8BBEMQ7H:0000000F [INF] Request finished in 38.0948ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:17.6477913+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:17.6767524+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:17.6819499+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:52:17.6900084+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executed PartialViewResult - view "_ChatForm" executed in 12.5386ms. (6f83ade2)
2021-07-03T23:52:17.6901106+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 83.4699ms (afa2e885)
2021-07-03T23:52:17.6901514+07:00 0HM9U8BBEMQ7H:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:17.6903560+07:00 0HM9U8BBEMQ7H:00000011 [INF] Request finished in 90.5756ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:18.7525472+07:00 0HM9U8BBEMQ7H:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:52:18.7548674+07:00 0HM9U8BBEMQ7H:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:18.7550959+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:18.7589065+07:00 0HM9U8BBEMQ7H:00000013 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:18.7673563+07:00 0HM9U8BBEMQ7H:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:18.7698235+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:18.7759542+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:18.8033821+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:18.8061385+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:18.8410048+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:52:18.9018721+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 142.8219ms (afa2e885)
2021-07-03T23:52:18.9019403+07:00 0HM9U8BBEMQ7H:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:18.9022914+07:00 0HM9U8BBEMQ7H:00000013 [INF] Request finished in 150.373ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:19.8437248+07:00 0HM9U8BBEMQ7H:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:52:19.8483158+07:00 0HM9U8BBEMQ7H:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:19.8488363+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:19.8556220+07:00 0HM9U8BBEMQ7H:00000015 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:19.8611122+07:00 0HM9U8BBEMQ7H:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:19.8639741+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:52:19.8691667+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:52:19.8719289+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:19.8824943+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:19.8833123+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:52:19.9047918+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 48.9866ms (afa2e885)
2021-07-03T23:52:19.9048863+07:00 0HM9U8BBEMQ7H:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:19.9053079+07:00 0HM9U8BBEMQ7H:00000015 [INF] Request finished in 61.7483ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:20.8395818+07:00 0HM9U8BBEMQ7H:00000017 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundaryV2wSV3X1FyCfAg08 883 (ca22a1cb)
2021-07-03T23:52:20.8414624+07:00 0HM9U8BBEMQ7H:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:20.8417894+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:20.8541760+07:00 0HM9U8BBEMQ7H:00000017 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:20.8818499+07:00 0HM9U8BBEMQ7H:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:20.8888018+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:52:20.9268436+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:52:20.9330041+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:52:20.9360904+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:52:20.9443778+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:52:20.9474203+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 93.1425ms (afa2e885)
2021-07-03T23:52:20.9474760+07:00 0HM9U8BBEMQ7H:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:20.9478875+07:00 0HM9U8BBEMQ7H:00000017 [INF] Request finished in 108.7401ms 302  (791a596a)
2021-07-03T23:52:20.9579452+07:00 0HM9U8BBEMQ7H:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:52:20.9588202+07:00 0HM9U8BBEMQ7H:00000019 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:20.9589151+07:00 0HM9U8BBEMQ7H:00000019 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:20.9590450+07:00 0HM9U8BBEMQ7H:00000019 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:20.9593124+07:00 0HM9U8BBEMQ7H:00000019 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:20.9631991+07:00 0HM9U8BBEMQ7H:00000019 [INF] Executed DbCommand ("3"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:52:20.9644216+07:00 0HM9U8BBEMQ7H:00000019 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:52:21.0109635+07:00 0HM9U8BBEMQ7H:00000019 [INF] Executed ViewResult - view "Index" executed in 46.5886ms. (f66409e9)
2021-07-03T23:52:21.0110817+07:00 0HM9U8BBEMQ7H:00000019 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 51.9974ms (afa2e885)
2021-07-03T23:52:21.0112187+07:00 0HM9U8BBEMQ7H:00000019 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:21.0117052+07:00 0HM9U8BBEMQ7H:00000019 [INF] Request finished in 53.6816ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:21.0387977+07:00 0HM9U8BBEMQ7J:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:52:21.0391860+07:00 0HM9U8BBEMQ7J:00000001 [INF] Request finished in 22325.3045ms 101  (791a596a)
2021-07-03T23:52:21.1362118+07:00 0HM9U8BBEMQ7H:0000001B [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:52:21.1369037+07:00 0HM9U8BBEMQ7H:0000001B [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:52:21.1374524+07:00 0HM9U8BBEMQ7H:0000001B [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:52:21.1375722+07:00 0HM9U8BBEMQ7H:0000001B [INF] Request finished in 1.4636ms 200 application/json (791a596a)
2021-07-03T23:52:21.1504139+07:00 0HM9U8BBEMQ7H:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:52:21.1510997+07:00 0HM9U8BBEMQ7H:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:21.1511983+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:21.1513024+07:00 0HM9U8BBEMQ7H:0000001D [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:21.1519949+07:00 0HM9U8BBEMQ7H:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:21.1542339+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:21.1574409+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:21.1591366+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:21.1624565+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:52:21.1667539+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("3"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:52:21.1693937+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:52:21.1720480+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:52:21.1734876+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:21.1748323+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:21.1758201+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:52:21.1760965+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:52:21.1775888+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.5083ms. (6f83ade2)
2021-07-03T23:52:21.1776483+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 26.3076ms (afa2e885)
2021-07-03T23:52:21.1776895+07:00 0HM9U8BBEMQ7H:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:21.1778519+07:00 0HM9U8BBEMQ7H:0000001D [INF] Request finished in 27.6042ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:21.1782447+07:00 0HM9U8BBEMQ7M:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=Kl8dSYr7bNWqILw6iLbaeg   (ca22a1cb)
2021-07-03T23:52:21.1792196+07:00 0HM9U8BBEMQ7M:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:52:21.1881798+07:00 0HM9U8BBEMQ7M:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:21.1895093+07:00 0HM9U8BBEMQ7M:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:52:21.1913005+07:00 0HM9U8BBEMQ7M:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:52:22.5203819+07:00 0HM9U8BBEMQ7K:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:52:22.5225789+07:00 0HM9U8BBEMQ7K:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:22.5230380+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:22.5235431+07:00 0HM9U8BBEMQ7K:00000045 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:22.5262892+07:00 0HM9U8BBEMQ7K:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:22.5324856+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:22.5371722+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:22.5396044+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:22.5422225+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:52:22.5431782+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:52:22.5439503+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:52:22.5446468+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:52:22.5455099+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:22.5461167+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:22.5467664+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:52:22.5471527+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:52:22.5485188+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.4561ms. (6f83ade2)
2021-07-03T23:52:22.5485816+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 24.9446ms (afa2e885)
2021-07-03T23:52:22.5486151+07:00 0HM9U8BBEMQ7K:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:22.5488942+07:00 0HM9U8BBEMQ7K:00000045 [INF] Request finished in 28.7115ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:22.5554264+07:00 0HM9U8BBEMQ7K:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-group.png   (ca22a1cb)
2021-07-03T23:52:22.5564566+07:00 0HM9U8BBEMQ7K:00000047 [INF] Sending file. Request path: '"/user-content/img/default-group.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-group.png"' (27b0a520)
2021-07-03T23:52:22.5565449+07:00 0HM9U8BBEMQ7K:00000047 [INF] Request finished in 1.2156ms 200 image/png (791a596a)
2021-07-03T23:52:23.1565901+07:00 0HM9U8BBEMQ7K:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331134677   (ca22a1cb)
2021-07-03T23:52:23.1580082+07:00 0HM9U8BBEMQ7K:0000004B [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:52:23.1633494+07:00 0HM9U8BBEMQ7K:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:23.1633814+07:00 0HM9U8BBEMQ7K:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:23.1636918+07:00 0HM9U8BBEMQ7K:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:23.1636889+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:23.1642329+07:00 0HM9U8BBEMQ7K:0000004B [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:23.1642235+07:00 0HM9U8BBEMQ7K:00000049 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:23.1665727+07:00 0HM9U8BBEMQ7K:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:23.1665727+07:00 0HM9U8BBEMQ7K:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:23.1695191+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:23.1705183+07:00 0HM9U8BBEMQ7K:0000004B [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:23.1706879+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:23.1707891+07:00 0HM9U8BBEMQ7K:0000004B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:52:23.1716131+07:00 0HM9U8BBEMQ7K:0000004B [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 7.2852ms (afa2e885)
2021-07-03T23:52:23.1716498+07:00 0HM9U8BBEMQ7K:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:23.1719639+07:00 0HM9U8BBEMQ7K:0000004B [INF] Request finished in 14.7959ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:23.1755405+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:23.1758322+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:52:23.1766083+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.8406ms. (6f83ade2)
2021-07-03T23:52:23.1766697+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 12.3481ms (afa2e885)
2021-07-03T23:52:23.1767238+07:00 0HM9U8BBEMQ7K:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:23.1769409+07:00 0HM9U8BBEMQ7K:00000049 [INF] Request finished in 20.7133ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:24.0689260+07:00 0HM9U8BBEMQ7K:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:52:24.0721797+07:00 0HM9U8BBEMQ7K:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:24.0726715+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:24.0731705+07:00 0HM9U8BBEMQ7K:0000004D [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:24.0757686+07:00 0HM9U8BBEMQ7K:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:24.0805441+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:24.0865375+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:24.0975722+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executed DbCommand ("5"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('c702864c-4299-4644-83e5-9f4db5f49293', 'e78c66a9-40df-4394-9ac0-34e4d37cb943', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f', '98a89d71-87f7-41b7-abf7-342947561276') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:24.1005197+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:24.1070698+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:52:24.1108497+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 37.4954ms (afa2e885)
2021-07-03T23:52:24.1109928+07:00 0HM9U8BBEMQ7K:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:24.1120647+07:00 0HM9U8BBEMQ7K:0000004D [INF] Request finished in 43.0926ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:24.1220686+07:00 0HM9U8BBEMQ7K:0000004F [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-2.jpg   (ca22a1cb)
2021-07-03T23:52:24.1236259+07:00 0HM9U8BBEMQ7K:0000004F [INF] Sending file. Request path: '"/user-content/img/avatar-male-2.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-2.jpg"' (27b0a520)
2021-07-03T23:52:24.1239568+07:00 0HM9U8BBEMQ7K:0000004F [INF] Request finished in 1.8569ms 200 image/jpeg (791a596a)
2021-07-03T23:52:27.2880213+07:00 0HM9U8BBEMQ7H:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331141066   (ca22a1cb)
2021-07-03T23:52:27.2895015+07:00 0HM9U8BBEMQ7H:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:27.2898113+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:27.2900599+07:00 0HM9U8BBEMQ7H:0000001F [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:27.2930193+07:00 0HM9U8BBEMQ7H:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:27.2945657+07:00 0HM9U8BBEMQ7H:00000021 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:52:27.2955676+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:27.2959494+07:00 0HM9U8BBEMQ7H:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:27.2961436+07:00 0HM9U8BBEMQ7H:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:27.2963248+07:00 0HM9U8BBEMQ7H:00000021 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:27.2970446+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:27.2973364+07:00 0HM9U8BBEMQ7H:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:27.2982075+07:00 0HM9U8BBEMQ7H:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:27.2982009+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:27.2984957+07:00 0HM9U8BBEMQ7H:00000021 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:52:27.2985319+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:52:27.2994210+07:00 0HM9U8BBEMQ7H:00000021 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 3.035ms (afa2e885)
2021-07-03T23:52:27.2994740+07:00 0HM9U8BBEMQ7H:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:27.2995905+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.1579ms. (6f83ade2)
2021-07-03T23:52:27.2996405+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 9.5408ms (afa2e885)
2021-07-03T23:52:27.2997105+07:00 0HM9U8BBEMQ7H:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:27.2997959+07:00 0HM9U8BBEMQ7H:00000021 [INF] Request finished in 5.3145ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:27.3000260+07:00 0HM9U8BBEMQ7H:0000001F [INF] Request finished in 11.9332ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:28.1523847+07:00 0HM9U8BBEMQ7H:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:52:28.1537287+07:00 0HM9U8BBEMQ7H:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:28.1540263+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:28.1542368+07:00 0HM9U8BBEMQ7H:00000023 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:28.1555283+07:00 0HM9U8BBEMQ7H:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:28.1577321+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:28.1600019+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:28.1656978+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:28.1668351+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:28.1692375+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:52:28.1701748+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 15.8893ms (afa2e885)
2021-07-03T23:52:28.1702277+07:00 0HM9U8BBEMQ7H:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:28.1706278+07:00 0HM9U8BBEMQ7H:00000023 [INF] Request finished in 18.2738ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:29.8555577+07:00 0HM9U8BBEMQ7H:00000025 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:52:29.8579277+07:00 0HM9U8BBEMQ7H:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:29.8582631+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:29.8621069+07:00 0HM9U8BBEMQ7H:00000025 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:29.8649766+07:00 0HM9U8BBEMQ7H:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:29.8750111+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executed DbCommand ("2"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:52:29.8820618+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:52:29.8942135+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:52:29.9095158+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:29.9119297+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:52:29.9128768+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 50.703ms (afa2e885)
2021-07-03T23:52:29.9129178+07:00 0HM9U8BBEMQ7H:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:29.9131994+07:00 0HM9U8BBEMQ7H:00000025 [INF] Request finished in 57.7542ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:33.1245963+07:00 0HM9U8BBEMQ7K:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T23:52:33.1262937+07:00 0HM9U8BBEMQ7K:00000051 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:33.1264953+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:33.1285980+07:00 0HM9U8BBEMQ7K:00000051 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:33.1322391+07:00 0HM9U8BBEMQ7K:00000051 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:33.1339619+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:52:33.1430475+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:33.1469306+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T23:52:33.1520373+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executed PartialViewResult - view "_ListContacts" executed in 8.0148ms. (6f83ade2)
2021-07-03T23:52:33.1521155+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 23.4706ms (afa2e885)
2021-07-03T23:52:33.1521534+07:00 0HM9U8BBEMQ7K:00000051 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:33.1524103+07:00 0HM9U8BBEMQ7K:00000051 [INF] Request finished in 27.9262ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:33.8028965+07:00 0HM9U8BBEMQ7K:00000053 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:52:33.8042295+07:00 0HM9U8BBEMQ7K:00000053 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:33.8045707+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:33.8049136+07:00 0HM9U8BBEMQ7K:00000053 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:33.8066588+07:00 0HM9U8BBEMQ7K:00000053 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:33.8085073+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:52:33.8100697+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:33.8109227+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:33.8118595+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:52:33.8130549+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:52:33.8141362+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:52:33.8150421+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:52:33.8153816+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:52:33.8162793+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 0.945ms. (6f83ade2)
2021-07-03T23:52:33.8163405+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 11.3732ms (afa2e885)
2021-07-03T23:52:33.8163808+07:00 0HM9U8BBEMQ7K:00000053 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:33.8166244+07:00 0HM9U8BBEMQ7K:00000053 [INF] Request finished in 13.7395ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:38.0849125+07:00 0HM9U8BBEMQ7K:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625331134678   (ca22a1cb)
2021-07-03T23:52:38.0857373+07:00 0HM9U8BBEMQ7K:00000057 [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:52:38.0873588+07:00 0HM9U8BBEMQ7K:00000055 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:38.0873940+07:00 0HM9U8BBEMQ7K:00000057 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:52:38.0876143+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:38.0876421+07:00 0HM9U8BBEMQ7K:00000057 [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:52:38.0879549+07:00 0HM9U8BBEMQ7K:00000057 [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:38.0879433+07:00 0HM9U8BBEMQ7K:00000055 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:52:38.0910108+07:00 0HM9U8BBEMQ7K:00000055 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:38.0920658+07:00 0HM9U8BBEMQ7K:00000057 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:52:38.0923933+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:38.0939876+07:00 0HM9U8BBEMQ7K:00000057 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:52:38.0943139+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:52:38.0944459+07:00 0HM9U8BBEMQ7K:00000057 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:52:38.0951641+07:00 0HM9U8BBEMQ7K:00000057 [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 7.1087ms (afa2e885)
2021-07-03T23:52:38.0952688+07:00 0HM9U8BBEMQ7K:00000057 [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:38.0956839+07:00 0HM9U8BBEMQ7K:00000057 [INF] Request finished in 9.9178ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:52:38.1006793+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:52:38.1044249+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:52:38.1083603+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:52:38.1095125+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:52:38.1097372+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:52:38.1107022+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.0157ms. (6f83ade2)
2021-07-03T23:52:38.1107658+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 22.7282ms (afa2e885)
2021-07-03T23:52:38.1107978+07:00 0HM9U8BBEMQ7K:00000055 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:52:38.1110233+07:00 0HM9U8BBEMQ7K:00000055 [INF] Request finished in 26.3027ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:52:40.5098627+07:00 0HM9U8BBEMQ7K:00000059 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Bold.woff   (ca22a1cb)
2021-07-03T23:52:40.5115494+07:00 0HM9U8BBEMQ7K:00000059 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Bold.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Bold.woff"' (27b0a520)
2021-07-03T23:52:40.5117747+07:00 0HM9U8BBEMQ7K:00000059 [INF] Request finished in 1.8525ms 200 application/font-woff (791a596a)
2021-07-03T23:52:58.2066749+07:00 0HM9U8BBEMQ7K:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:52:58.2365473+07:00 0HM9U8BBEMQ7K:0000005B [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:52:58.2368006+07:00 0HM9U8BBEMQ7K:0000005B [INF] Request finished in 31.3121ms 200 text/plain (791a596a)
2021-07-03T23:52:58.2474928+07:00 0HM9U8BBEMQ7K:0000005D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:52:58.2526894+07:00 0HM9U8BBEMQ7K:0000005D [INF] Request finished in 5.7031ms 404  (791a596a)
2021-07-03T23:53:05.9732749+07:00 0HM9U8BBEMQ7K:0000005F [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:53:05.9757619+07:00 0HM9U8BBEMQ7K:0000005F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:53:05.9760086+07:00 0HM9U8BBEMQ7K:0000005F [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:53:05.9794593+07:00 0HM9U8BBEMQ7K:0000005F [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:53:05.9809627+07:00 0HM9U8BBEMQ7K:0000005F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:53:05.9815578+07:00 0HM9U8BBEMQ7K:0000005F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:53:05.9851468+07:00 0HM9U8BBEMQ7K:0000005F [INF] Executed DbCommand ("2"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:53:05.9935973+07:00 0HM9U8BBEMQ7K:0000005F [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:53:05.9941787+07:00 0HM9U8BBEMQ7K:0000005F [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:53:05.9943039+07:00 0HM9U8BBEMQ7K:0000005F [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:53:05.9945689+07:00 0HM9U8BBEMQ7K:0000005F [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:53:05.9946579+07:00 0HM9U8BBEMQ7K:0000005F [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 15.1507ms (afa2e885)
2021-07-03T23:53:05.9946788+07:00 0HM9U8BBEMQ7K:0000005F [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:53:05.9959936+07:00 0HM9U8BBEMQ7K:0000005F [INF] Request finished in 23.1594ms 302  (791a596a)
2021-07-03T23:53:05.9993434+07:00 0HM9U8BBEMQ7K:00000061 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:53:05.9996837+07:00 0HM9U8BBEMQ7K:00000061 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:53:05.9997856+07:00 0HM9U8BBEMQ7K:00000061 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:53:06.0002136+07:00 0HM9U8BBEMQ7K:00000061 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:53:06.0030488+07:00 0HM9U8BBEMQ7K:00000061 [INF] Executed ViewResult - view "Login" executed in 2.9269ms. (f66409e9)
2021-07-03T23:53:06.0030968+07:00 0HM9U8BBEMQ7K:00000061 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 3.2938ms (afa2e885)
2021-07-03T23:53:06.0031119+07:00 0HM9U8BBEMQ7K:00000061 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:53:06.0032429+07:00 0HM9U8BBEMQ7K:00000061 [INF] Request finished in 4.1146ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:53:06.0106718+07:00 0HM9U8BBEMQ7L:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:53:06.0109009+07:00 0HM9U8BBEMQ7L:00000001 [INF] Request finished in 51055.4003ms 101  (791a596a)
2021-07-03T23:53:32.2542677+07:00 0HM9U8BBEMQ7H:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:53:32.2571696+07:00 0HM9U8BBEMQ7H:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:53:32.2573375+07:00 0HM9U8BBEMQ7H:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:53:32.2574986+07:00 0HM9U8BBEMQ7H:00000027 [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:53:32.2581292+07:00 0HM9U8BBEMQ7H:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:53:32.2601798+07:00 0HM9U8BBEMQ7H:00000027 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:53:32.2667596+07:00 0HM9U8BBEMQ7H:00000027 [INF] Executed DbCommand ("3"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:53:32.2678804+07:00 0HM9U8BBEMQ7H:00000027 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:53:32.2680638+07:00 0HM9U8BBEMQ7H:00000027 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:53:32.2682069+07:00 0HM9U8BBEMQ7H:00000027 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:53:32.2684144+07:00 0HM9U8BBEMQ7H:00000027 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:53:32.2685019+07:00 0HM9U8BBEMQ7H:00000027 [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 10.9607ms (afa2e885)
2021-07-03T23:53:32.2685177+07:00 0HM9U8BBEMQ7H:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:53:32.2688335+07:00 0HM9U8BBEMQ7H:00000027 [INF] Request finished in 14.5778ms 302  (791a596a)
2021-07-03T23:53:32.2819524+07:00 0HM9U8BBEMQ7H:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:53:32.2824001+07:00 0HM9U8BBEMQ7H:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:53:32.2825047+07:00 0HM9U8BBEMQ7H:00000029 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:53:32.2828803+07:00 0HM9U8BBEMQ7H:00000029 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:53:32.2855427+07:00 0HM9U8BBEMQ7H:00000029 [INF] Executed ViewResult - view "Login" executed in 2.7112ms. (f66409e9)
2021-07-03T23:53:32.2856061+07:00 0HM9U8BBEMQ7H:00000029 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 3.0702ms (afa2e885)
2021-07-03T23:53:32.2856335+07:00 0HM9U8BBEMQ7H:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:53:32.2857880+07:00 0HM9U8BBEMQ7H:00000029 [INF] Request finished in 3.8789ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:53:32.3072875+07:00 0HM9U8BBEMQ7M:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:53:32.3075995+07:00 0HM9U8BBEMQ7M:00000001 [INF] Request finished in 71129.3627ms 101  (791a596a)
2021-07-03T23:53:34.7416281+07:00 0HM9U8BBEMQ7I:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:53:34.7419370+07:00 0HM9U8BBEMQ7I:00000001 [INF] Request finished in 105567.7164ms 101  (791a596a)
2021-07-03T23:57:39.4742304+07:00  [INF] User profile is available. Using '"C:\Users\nguye\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest. (7ac5e29c)
2021-07-03T23:57:40.1154885+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-07-03T23:57:40.1206807+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-07-03T23:57:40.1234547+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-07-03T23:57:40.1252972+07:00  [INF] Content root path: "E:\Coding\CShape\WebChat\WebChat" (b5d60022)
2021-07-03T23:57:40.8290295+07:00 0HM9U8ELJB9U3:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:57:40.9373114+07:00 0HM9U8ELJB9U3:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T23:57:40.9503509+07:00 0HM9U8ELJB9U3:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T23:57:40.9591304+07:00 0HM9U8ELJB9U3:00000001 [INF] Request finished in 136.1138ms 302  (791a596a)
2021-07-03T23:57:40.9740640+07:00 0HM9U8ELJB9U3:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T23:57:41.0068578+07:00 0HM9U8ELJB9U3:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:41.1009543+07:00 0HM9U8ELJB9U3:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:41.3068614+07:00 0HM9U8ELJB9U3:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:57:41.6597482+07:00 0HM9U8ELJB9U3:00000003 [INF] Executed ViewResult - view "Login" executed in 376.9749ms. (f66409e9)
2021-07-03T23:57:41.6607158+07:00 0HM9U8ELJB9U3:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 559.1524ms (afa2e885)
2021-07-03T23:57:41.6608751+07:00 0HM9U8ELJB9U3:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:41.6694990+07:00 0HM9U8ELJB9U3:00000003 [INF] Request finished in 695.375ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:57:47.6351457+07:00 0HM9U8ELJB9U3:00000005 [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T23:57:47.6380336+07:00 0HM9U8ELJB9U3:00000005 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:47.6517746+07:00 0HM9U8ELJB9U3:00000005 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:47.7021956+07:00 0HM9U8ELJB9U3:00000005 [INF] Accessing expired session, Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa" (08c5a9e7)
2021-07-03T23:57:48.6284408+07:00 0HM9U8ELJB9U3:00000005 [WRN] The 'bool' property '"Status"' on entity type '"Role"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:57:48.6312702+07:00 0HM9U8ELJB9U3:00000005 [WRN] The 'bool' property '"Status"' on entity type '"User"' is configured with a database-generated default. This default will always be used for inserts when the property has the value 'false', since this is the CLR default for the 'bool' type. Consider using the nullable 'bool?' type instead so that the default will only be used for inserts when the property value is 'null'. (a2a8ca4b)
2021-07-03T23:57:48.7480298+07:00 0HM9U8ELJB9U3:00000005 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:49.5075404+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("45"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:57:49.5739438+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("16"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:57:49.7700050+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("8"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:57:49.8075365+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:57:49.8152452+07:00 0HM9U8ELJB9U3:00000005 [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:57:49.8222236+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:57:49.8329595+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:57:49.9477149+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("10"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:57:49.9691399+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:57:50.0662326+07:00 0HM9U8ELJB9U3:00000005 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:57:50.0693958+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2417.4838ms (afa2e885)
2021-07-03T23:57:50.0703502+07:00 0HM9U8ELJB9U3:00000005 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:50.0734325+07:00 0HM9U8ELJB9U3:00000005 [INF] Session started; Key:"d8de260f-02e6-8d6d-ed79-b75840c7cdfa", Id:"dd550fc1-c476-9f82-fe87-8f83965e9fae" (1d7cf8c0)
2021-07-03T23:57:50.0906915+07:00 0HM9U8ELJB9U3:00000005 [INF] Request finished in 2456.5263ms 302  (791a596a)
2021-07-03T23:57:50.1137707+07:00 0HM9U8ELJB9U3:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:57:50.1220732+07:00 0HM9U8ELJB9U3:00000007 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:57:50.1240289+07:00 0HM9U8ELJB9U3:00000007 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:50.1295146+07:00 0HM9U8ELJB9U3:00000007 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:50.2307294+07:00 0HM9U8ELJB9U3:00000007 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:50.2649946+07:00 0HM9U8ELJB9U3:00000007 [INF] Executed DbCommand ("4"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:57:50.2721714+07:00 0HM9U8ELJB9U3:00000007 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:57:50.3522076+07:00 0HM9U8ELJB9U3:00000007 [INF] Executed ViewResult - view "Index" executed in 84.649ms. (f66409e9)
2021-07-03T23:57:50.3524401+07:00 0HM9U8ELJB9U3:00000007 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 222.8223ms (afa2e885)
2021-07-03T23:57:50.3525099+07:00 0HM9U8ELJB9U3:00000007 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:50.3529851+07:00 0HM9U8ELJB9U3:00000007 [INF] Request finished in 239.2099ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:57:50.5324766+07:00 0HM9U8ELJB9U3:00000009 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:57:50.5390184+07:00 0HM9U8ELJB9U3:00000009 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:57:50.5405484+07:00 0HM9U8ELJB9U3:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:57:50.5466044+07:00 0HM9U8ELJB9U3:0000000B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:57:50.5468132+07:00 0HM9U8ELJB9U3:0000000B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:50.5500571+07:00 0HM9U8ELJB9U3:0000000B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:50.5602777+07:00 0HM9U8ELJB9U3:00000009 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:57:50.5607336+07:00 0HM9U8ELJB9U3:00000009 [INF] Request finished in 28.8959ms 200 application/json (791a596a)
2021-07-03T23:57:50.5674287+07:00 0HM9U8ELJB9U3:0000000B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:50.5774546+07:00 0HM9U8ELJB9U4:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=vDpJjpJtrqf44KLagicc8Q   (ca22a1cb)
2021-07-03T23:57:50.5782161+07:00 0HM9U8ELJB9U4:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:57:50.5886275+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("7"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:57:50.6299927+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("4"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:57:50.6345992+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:57:50.6346695+07:00 0HM9U8ELJB9U4:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:50.6397364+07:00 0HM9U8ELJB9U4:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:57:50.6424300+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:57:50.6469233+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:57:50.6572199+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:57:50.6756448+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("2"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:57:50.6772062+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:57:50.6780112+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:57:50.6792471+07:00 0HM9U8ELJB9U4:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:57:50.6792778+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:57:50.6881304+07:00 0HM9U8ELJB9U3:0000000B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:57:50.6970740+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 11.4316ms. (6f83ade2)
2021-07-03T23:57:50.6971852+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 147.0577ms (afa2e885)
2021-07-03T23:57:50.6972433+07:00 0HM9U8ELJB9U3:0000000B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:50.6974935+07:00 0HM9U8ELJB9U3:0000000B [INF] Request finished in 157.0153ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:57:51.2490782+07:00 0HM9U8ELJB9U5:00000001 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:57:51.2507225+07:00 0HM9U8ELJB9U5:00000001 [INF] Authorization failed. (b15dd539)
2021-07-03T23:57:51.2510343+07:00 0HM9U8ELJB9U5:00000001 [INF] AuthenticationScheme: "Identity.Application" was challenged. (d45f1f38)
2021-07-03T23:57:51.2514067+07:00 0HM9U8ELJB9U5:00000001 [INF] Request finished in 2.4661ms 302  (791a596a)
2021-07-03T23:57:51.2553990+07:00 0HM9U8ELJB9U5:00000003 [INF] Request starting HTTP/2 GET https://localhost:5001/Account/Login?ReturnUrl=%2F   (ca22a1cb)
2021-07-03T23:57:51.2567399+07:00 0HM9U8ELJB9U5:00000003 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:51.2570798+07:00 0HM9U8ELJB9U5:00000003 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:51.2602215+07:00 0HM9U8ELJB9U5:00000003 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:57:51.2853065+07:00 0HM9U8ELJB9U5:00000003 [INF] Executed ViewResult - view "Login" executed in 24.4191ms. (f66409e9)
2021-07-03T23:57:51.2854845+07:00 0HM9U8ELJB9U5:00000003 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 28.3322ms (afa2e885)
2021-07-03T23:57:51.2855604+07:00 0HM9U8ELJB9U5:00000003 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:51.2862258+07:00 0HM9U8ELJB9U5:00000003 [INF] Request finished in 30.6394ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:57:51.3564241+07:00 0HM9U8ELJB9U5:00000007 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/swipe.min.css   (ca22a1cb)
2021-07-03T23:57:51.3564286+07:00 0HM9U8ELJB9U5:00000005 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/lib/bootstrap.min.css   (ca22a1cb)
2021-07-03T23:57:51.3568131+07:00 0HM9U8ELJB9U5:00000009 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery.min.js   (ca22a1cb)
2021-07-03T23:57:51.3569786+07:00 0HM9U8ELJB9U5:0000000B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/vendor/popper.min.js   (ca22a1cb)
2021-07-03T23:57:51.3572021+07:00 0HM9U8ELJB9U5:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/bootstrap.min.js   (ca22a1cb)
2021-07-03T23:57:51.3573724+07:00 0HM9U8ELJB9U5:0000000F [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.css   (ca22a1cb)
2021-07-03T23:57:51.3575618+07:00 0HM9U8ELJB9U5:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/_content/AspNetCoreHero.ToastNotification/notyf.min.js   (ca22a1cb)
2021-07-03T23:57:51.3702174+07:00 0HM9U8ELJB9U5:00000011 [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.js"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.js"' (27b0a520)
2021-07-03T23:57:51.3703275+07:00 0HM9U8ELJB9U5:0000000F [INF] Sending file. Request path: '"/_content/AspNetCoreHero.ToastNotification/notyf.min.css"'. Physical path: '"C:\Users\nguye\.nuget\packages\aspnetcorehero.toastnotification\1.1.0\staticwebassets\notyf.min.css"' (27b0a520)
2021-07-03T23:57:51.3704303+07:00 0HM9U8ELJB9U5:0000000F [INF] Request finished in 13.1666ms 200 text/css (791a596a)
2021-07-03T23:57:51.3705873+07:00 0HM9U8ELJB9U5:00000011 [INF] Request finished in 12.8434ms 200 application/javascript (791a596a)
2021-07-03T23:57:51.3930896+07:00 0HM9U8ELJB9U5:00000009 [INF] Sending file. Request path: '"/dist/js/jquery.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery.min.js"' (27b0a520)
2021-07-03T23:57:51.3930972+07:00 0HM9U8ELJB9U5:0000000B [INF] Sending file. Request path: '"/dist/js/vendor/popper.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\vendor\popper.min.js"' (27b0a520)
2021-07-03T23:57:51.3930985+07:00 0HM9U8ELJB9U5:00000005 [INF] Sending file. Request path: '"/dist/css/lib/bootstrap.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\lib\bootstrap.min.css"' (27b0a520)
2021-07-03T23:57:51.3930896+07:00 0HM9U8ELJB9U5:00000007 [INF] Sending file. Request path: '"/dist/css/swipe.min.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\swipe.min.css"' (27b0a520)
2021-07-03T23:57:51.3930909+07:00 0HM9U8ELJB9U5:0000000D [INF] Sending file. Request path: '"/dist/js/bootstrap.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\bootstrap.min.js"' (27b0a520)
2021-07-03T23:57:51.3933106+07:00 0HM9U8ELJB9U5:0000000B [INF] Request finished in 36.4084ms 200 application/javascript (791a596a)
2021-07-03T23:57:51.3933348+07:00 0HM9U8ELJB9U5:00000007 [INF] Request finished in 37.0619ms 200 text/css (791a596a)
2021-07-03T23:57:51.3933516+07:00 0HM9U8ELJB9U5:00000009 [INF] Request finished in 36.5652ms 200 application/javascript (791a596a)
2021-07-03T23:57:51.3934142+07:00 0HM9U8ELJB9U5:0000000D [INF] Request finished in 36.312ms 200 application/javascript (791a596a)
2021-07-03T23:57:51.3934773+07:00 0HM9U8ELJB9U5:00000005 [INF] Request finished in 37.2035ms 200 text/css (791a596a)
2021-07-03T23:57:51.4948953+07:00 0HM9U8ELJB9U5:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Black.woff   (ca22a1cb)
2021-07-03T23:57:51.4951009+07:00 0HM9U8ELJB9U5:00000015 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/material/MaterialIcons-Regular.woff2   (ca22a1cb)
2021-07-03T23:57:51.4952673+07:00 0HM9U8ELJB9U5:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Book.woff   (ca22a1cb)
2021-07-03T23:57:51.4955377+07:00 0HM9U8ELJB9U5:00000019 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/fonts/circular/CircularStd-Medium.woff   (ca22a1cb)
2021-07-03T23:57:51.5027783+07:00 0HM9U8ELJB9U5:00000015 [INF] Sending file. Request path: '"/dist/fonts/material/MaterialIcons-Regular.woff2"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\material\MaterialIcons-Regular.woff2"' (27b0a520)
2021-07-03T23:57:51.5029609+07:00 0HM9U8ELJB9U5:00000019 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Medium.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Medium.woff"' (27b0a520)
2021-07-03T23:57:51.5031004+07:00 0HM9U8ELJB9U5:00000013 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Black.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Black.woff"' (27b0a520)
2021-07-03T23:57:51.5031195+07:00 0HM9U8ELJB9U5:00000017 [INF] Sending file. Request path: '"/dist/fonts/circular/CircularStd-Book.woff"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\fonts\circular\CircularStd-Book.woff"' (27b0a520)
2021-07-03T23:57:51.5031718+07:00 0HM9U8ELJB9U5:00000019 [INF] Request finished in 7.7212ms 200 application/font-woff (791a596a)
2021-07-03T23:57:51.5032121+07:00 0HM9U8ELJB9U5:00000013 [INF] Request finished in 8.4377ms 200 application/font-woff (791a596a)
2021-07-03T23:57:51.5034474+07:00 0HM9U8ELJB9U5:00000017 [INF] Request finished in 8.2472ms 200 application/font-woff (791a596a)
2021-07-03T23:57:51.5035534+07:00 0HM9U8ELJB9U5:00000015 [INF] Request finished in 8.547ms 200 font/woff2 (791a596a)
2021-07-03T23:57:51.5347102+07:00 0HM9U8ELJB9U5:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/img/favicon.png   (ca22a1cb)
2021-07-03T23:57:51.5363534+07:00 0HM9U8ELJB9U5:0000001B [INF] Sending file. Request path: '"/dist/img/favicon.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\img\favicon.png"' (27b0a520)
2021-07-03T23:57:51.5366518+07:00 0HM9U8ELJB9U5:0000001B [INF] Request finished in 2.0699ms 200 image/png (791a596a)
2021-07-03T23:57:57.4430435+07:00 0HM9U8ELJB9U5:0000001D [INF] Request starting HTTP/2 POST https://localhost:5001/dang-nhap application/x-www-form-urlencoded 217 (ca22a1cb)
2021-07-03T23:57:57.4445754+07:00 0HM9U8ELJB9U5:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:57.4459787+07:00 0HM9U8ELJB9U5:0000001D [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(WebChat.Common.ViewModels.Account.LoginViewModel)" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:57.4498339+07:00 0HM9U8ELJB9U5:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:57.4524705+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_Username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE ([u].[UserName] = @__model_Username_0) AND ([u].[IsLocked] = CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:57:57.4556262+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:57:57.4668429+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ClaimType], [u].[ClaimValue], [u].[UserId]
FROM [UserClaims] AS [u]
WHERE [u].[UserId] = @__user_Id_0" (0723d8ff)
2021-07-03T23:57:57.4702947+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [r].[Name]
FROM [UserRoles] AS [u]
INNER JOIN [Roles] AS [r] ON [u].[RoleId] = [r].[Id]
WHERE ([u].[Discriminator] = N'UserRole') AND ([u].[UserId] = @__userId_0)" (0723d8ff)
2021-07-03T23:57:57.4710649+07:00 0HM9U8ELJB9U5:0000001D [INF] AuthenticationScheme: "Identity.Application" signed in. (c66dd7e7)
2021-07-03T23:57:57.4725179+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[NormalizedUserName] = @__normalizedUserName_0" (0723d8ff)
2021-07-03T23:57:57.4738359+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:57:57.4771575+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("2"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:57:57.4837351+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:57:57.4848729+07:00 0HM9U8ELJB9U5:0000001D [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:57:57.4850116+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 38.8651ms (afa2e885)
2021-07-03T23:57:57.4850551+07:00 0HM9U8ELJB9U5:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:57.4851675+07:00 0HM9U8ELJB9U5:0000001D [INF] Session started; Key:"65d9bc66-7c4e-aebd-b15a-b179b2784fe2", Id:"301854c0-33b5-1393-301b-2ab9bd4a5b2e" (1d7cf8c0)
2021-07-03T23:57:57.4862439+07:00 0HM9U8ELJB9U5:0000001D [INF] Request finished in 44.6934ms 302  (791a596a)
2021-07-03T23:57:57.4901686+07:00 0HM9U8ELJB9U5:0000001F [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:57:57.4911189+07:00 0HM9U8ELJB9U5:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:57:57.4912422+07:00 0HM9U8ELJB9U5:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:57.4913700+07:00 0HM9U8ELJB9U5:0000001F [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:57.4917438+07:00 0HM9U8ELJB9U5:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:57.4949019+07:00 0HM9U8ELJB9U5:0000001F [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:57:57.4956810+07:00 0HM9U8ELJB9U5:0000001F [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:57:57.4988195+07:00 0HM9U8ELJB9U5:0000001F [INF] Executed ViewResult - view "Index" executed in 3.2599ms. (f66409e9)
2021-07-03T23:57:57.4989302+07:00 0HM9U8ELJB9U5:0000001F [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 7.5204ms (afa2e885)
2021-07-03T23:57:57.4989902+07:00 0HM9U8ELJB9U5:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:57.4992448+07:00 0HM9U8ELJB9U5:0000001F [INF] Request finished in 9.0611ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:57:57.5112984+07:00 0HM9U8ELJB9U5:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/css/select2.css   (ca22a1cb)
2021-07-03T23:57:57.5113554+07:00 0HM9U8ELJB9U5:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css   (ca22a1cb)
2021-07-03T23:57:57.5114005+07:00 0HM9U8ELJB9U5:00000025 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/my-style.css   (ca22a1cb)
2021-07-03T23:57:57.5119015+07:00 0HM9U8ELJB9U5:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/css/custom/preview-group.css   (ca22a1cb)
2021-07-03T23:57:57.5145341+07:00 0HM9U8ELJB9U5:00000027 [INF] Sending file. Request path: '"/dist/css/custom/preview-group.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\preview-group.css"' (27b0a520)
2021-07-03T23:57:57.5148196+07:00 0HM9U8ELJB9U5:00000025 [INF] Sending file. Request path: '"/dist/css/custom/my-style.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\css\custom\my-style.css"' (27b0a520)
2021-07-03T23:57:57.5151196+07:00 0HM9U8ELJB9U5:00000027 [INF] Request finished in 3.4911ms 200 text/css (791a596a)
2021-07-03T23:57:57.5151196+07:00 0HM9U8ELJB9U5:00000025 [INF] Request finished in 3.5129ms 200 text/css (791a596a)
2021-07-03T23:57:57.5160464+07:00 0HM9U8ELJB9U5:00000021 [INF] Sending file. Request path: '"/dist/plugin/select2/css/select2.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\css\select2.css"' (27b0a520)
2021-07-03T23:57:57.5163526+07:00 0HM9U8ELJB9U5:00000021 [INF] Request finished in 4.9999ms 200 text/css (791a596a)
2021-07-03T23:57:57.5165697+07:00 0HM9U8ELJB9U5:00000023 [INF] Sending file. Request path: '"/dist/plugin/emoji/css/emojionearea.css"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\css\emojionearea.css"' (27b0a520)
2021-07-03T23:57:57.5167906+07:00 0HM9U8ELJB9U5:00000023 [INF] Request finished in 5.4236ms 200 text/css (791a596a)
2021-07-03T23:57:57.5251334+07:00 0HM9U8ELJB9U5:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/jquery-ui.js   (ca22a1cb)
2021-07-03T23:57:57.5259191+07:00 0HM9U8ELJB9U5:0000002B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/js/emojionearea.js   (ca22a1cb)
2021-07-03T23:57:57.5265525+07:00 0HM9U8ELJB9U5:0000002F [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js   (ca22a1cb)
2021-07-03T23:57:57.5268779+07:00 0HM9U8ELJB9U5:00000033 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/i18n/vi.js   (ca22a1cb)
2021-07-03T23:57:57.5269085+07:00 0HM9U8ELJB9U5:00000031 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/select2/js/select2.js   (ca22a1cb)
2021-07-03T23:57:57.5270474+07:00 0HM9U8ELJB9U5:0000002D [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/swipe.min.js   (ca22a1cb)
2021-07-03T23:57:57.5275832+07:00 0HM9U8ELJB9U5:00000035 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/my-script.js   (ca22a1cb)
2021-07-03T23:57:57.5309275+07:00 0HM9U8ELJB9U5:0000002D [INF] Sending file. Request path: '"/dist/js/swipe.min.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\swipe.min.js"' (27b0a520)
2021-07-03T23:57:57.5311069+07:00 0HM9U8ELJB9U5:0000002D [INF] Request finished in 4.4087ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5485463+07:00 0HM9U8ELJB9U5:00000037 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-group.js   (ca22a1cb)
2021-07-03T23:57:57.5490502+07:00 0HM9U8ELJB9U5:00000039 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/new-contact.js   (ca22a1cb)
2021-07-03T23:57:57.5516630+07:00 0HM9U8ELJB9U5:0000003B [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/custom/utils.js   (ca22a1cb)
2021-07-03T23:57:57.5522819+07:00 0HM9U8ELJB9U5:0000003D [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-avatar.png   (ca22a1cb)
2021-07-03T23:57:57.5633311+07:00 0HM9U8ELJB9U5:00000035 [INF] Sending file. Request path: '"/dist/js/custom/my-script.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\my-script.js"' (27b0a520)
2021-07-03T23:57:57.5633597+07:00 0HM9U8ELJB9U5:00000039 [INF] Sending file. Request path: '"/dist/js/custom/new-contact.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-contact.js"' (27b0a520)
2021-07-03T23:57:57.5661887+07:00 0HM9U8ELJB9U5:00000033 [INF] Sending file. Request path: '"/dist/plugin/select2/js/i18n/vi.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\i18n\vi.js"' (27b0a520)
2021-07-03T23:57:57.5717936+07:00 0HM9U8ELJB9U5:00000035 [INF] Request finished in 44.1813ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5717937+07:00 0HM9U8ELJB9U5:00000033 [INF] Request finished in 44.9077ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5718072+07:00 0HM9U8ELJB9U5:00000039 [INF] Request finished in 22.7835ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5718950+07:00 0HM9U8ELJB9U5:00000037 [INF] Sending file. Request path: '"/dist/js/custom/new-group.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\new-group.js"' (27b0a520)
2021-07-03T23:57:57.5753000+07:00 0HM9U8ELJB9U5:00000037 [INF] Request finished in 27.2226ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5753001+07:00 0HM9U8ELJB9U5:0000003D [INF] Sending file. Request path: '"/user-content/img/default-avatar.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-avatar.png"' (27b0a520)
2021-07-03T23:57:57.5886227+07:00 0HM9U8ELJB9U5:0000003D [INF] Request finished in 37.9762ms 200 image/png (791a596a)
2021-07-03T23:57:57.5889671+07:00 0HM9U8ELJB9U5:0000003B [INF] Sending file. Request path: '"/dist/js/custom/utils.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\custom\utils.js"' (27b0a520)
2021-07-03T23:57:57.5905784+07:00 0HM9U8ELJB9U5:0000003B [INF] Request finished in 40.5289ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5909311+07:00 0HM9U8ELJB9U5:0000002B [INF] Sending file. Request path: '"/dist/plugin/emoji/js/emojionearea.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\emoji\js\emojionearea.js"' (27b0a520)
2021-07-03T23:57:57.5910771+07:00 0HM9U8ELJB9U5:0000002B [INF] Request finished in 65.2596ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5956325+07:00 0HM9U8ELJB9U5:00000031 [INF] Sending file. Request path: '"/dist/plugin/select2/js/select2.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\plugin\select2\js\select2.js"' (27b0a520)
2021-07-03T23:57:57.5958176+07:00 0HM9U8ELJB9U5:00000031 [INF] Request finished in 68.9268ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.5975968+07:00 0HM9U8ELJB9U5:0000002F [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js"' (27b0a520)
2021-07-03T23:57:57.5979696+07:00 0HM9U8ELJB9U5:0000002F [INF] Request finished in 71.4437ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.6031265+07:00 0HM9U8ELJB9U5:00000029 [INF] Sending file. Request path: '"/dist/js/jquery-ui.js"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\jquery-ui.js"' (27b0a520)
2021-07-03T23:57:57.6033875+07:00 0HM9U8ELJB9U5:00000029 [INF] Request finished in 78.3359ms 200 application/javascript (791a596a)
2021-07-03T23:57:57.8119811+07:00 0HM9U8ELJB9U5:0000003F [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:57:57.8136611+07:00 0HM9U8ELJB9U5:0000003F [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:57:57.8149374+07:00 0HM9U8ELJB9U5:0000003F [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:57:57.8155109+07:00 0HM9U8ELJB9U5:0000003F [INF] Request finished in 3.6514ms 200 application/json (791a596a)
2021-07-03T23:57:57.8231578+07:00 0HM9U8ELJB9U5:00000041 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:57:57.8329517+07:00 0HM9U8ELJB9U5:00000041 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:57:57.8330672+07:00 0HM9U8ELJB9U5:00000041 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:57.8332723+07:00 0HM9U8ELJB9U5:00000041 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:57.8346955+07:00 0HM9U8ELJB9U5:00000041 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:57.8380497+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:57:57.8395468+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:57:57.8415835+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:57:57.8423993+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:57:57.8431080+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:57:57.8437833+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:57:57.8438795+07:00 0HM9U8ELJB9U6:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=VgxlBuYdG1XUAa6Jtz3CIQ   (ca22a1cb)
2021-07-03T23:57:57.8442580+07:00 0HM9U8ELJB9U6:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:57:57.8443612+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:57:57.8474814+07:00 0HM9U8ELJB9U5:00000041 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:57:57.8507017+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 3.6905ms. (6f83ade2)
2021-07-03T23:57:57.8508138+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 17.4843ms (afa2e885)
2021-07-03T23:57:57.8508490+07:00 0HM9U8ELJB9U5:00000041 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:57.8510487+07:00 0HM9U8ELJB9U5:00000041 [INF] Request finished in 28.7272ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:57:57.8542807+07:00 0HM9U8ELJB9U6:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:57.8550273+07:00 0HM9U8ELJB9U6:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:57:57.8565252+07:00 0HM9U8ELJB9U5:00000043 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-1.jpg   (ca22a1cb)
2021-07-03T23:57:57.8574279+07:00 0HM9U8ELJB9U5:00000043 [INF] Sending file. Request path: '"/user-content/img/avatar-male-1.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-1.jpg"' (27b0a520)
2021-07-03T23:57:57.8575484+07:00 0HM9U8ELJB9U5:00000043 [INF] Request finished in 1.1356ms 200 image/jpeg (791a596a)
2021-07-03T23:57:57.8583645+07:00 0HM9U8ELJB9U6:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:57:59.4894287+07:00 0HM9U8ELJB9U3:0000000D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331470401   (ca22a1cb)
2021-07-03T23:57:59.4925114+07:00 0HM9U8ELJB9U3:0000000D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:57:59.4939299+07:00 0HM9U8ELJB9U3:0000000D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:59.4977911+07:00 0HM9U8ELJB9U3:0000000F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:57:59.5009909+07:00 0HM9U8ELJB9U3:0000000F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:57:59.5017734+07:00 0HM9U8ELJB9U3:0000000F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:57:59.5051564+07:00 0HM9U8ELJB9U3:0000000F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:59.5051852+07:00 0HM9U8ELJB9U3:0000000D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:57:59.5114770+07:00 0HM9U8ELJB9U3:0000000D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:59.5114775+07:00 0HM9U8ELJB9U3:0000000F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:57:59.5194503+07:00 0HM9U8ELJB9U3:0000000F [INF] Executed DbCommand ("2"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:57:59.5196489+07:00 0HM9U8ELJB9U3:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:57:59.5213925+07:00 0HM9U8ELJB9U3:0000000F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:57:59.5305052+07:00 0HM9U8ELJB9U3:0000000F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 25.0534ms (afa2e885)
2021-07-03T23:57:59.5306325+07:00 0HM9U8ELJB9U3:0000000F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:59.5309661+07:00 0HM9U8ELJB9U3:0000000F [INF] Request finished in 33.5539ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:57:59.5442169+07:00 0HM9U8ELJB9U3:0000000D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:57:59.5735959+07:00 0HM9U8ELJB9U3:0000000D [INF] Executed DbCommand ("2"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:57:59.5786710+07:00 0HM9U8ELJB9U3:0000000D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:57:59.5845896+07:00 0HM9U8ELJB9U3:0000000D [INF] Executed PartialViewResult - view "_ChatForm" executed in 10.1152ms. (6f83ade2)
2021-07-03T23:57:59.5846583+07:00 0HM9U8ELJB9U3:0000000D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 79.3485ms (afa2e885)
2021-07-03T23:57:59.5847094+07:00 0HM9U8ELJB9U3:0000000D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:57:59.5848415+07:00 0HM9U8ELJB9U3:0000000D [INF] Request finished in 96.0629ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:00.8155166+07:00 0HM9U8ELJB9U3:00000011 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:58:00.8170081+07:00 0HM9U8ELJB9U3:00000011 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:00.8172835+07:00 0HM9U8ELJB9U3:00000011 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:00.8199016+07:00 0HM9U8ELJB9U3:00000011 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:00.8259159+07:00 0HM9U8ELJB9U3:00000011 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:00.8275448+07:00 0HM9U8ELJB9U3:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:00.8342027+07:00 0HM9U8ELJB9U3:00000011 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:58:00.8615868+07:00 0HM9U8ELJB9U3:00000011 [INF] Executed DbCommand ("3"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:00.8646502+07:00 0HM9U8ELJB9U3:00000011 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:00.8973434+07:00 0HM9U8ELJB9U3:00000011 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:58:00.9424646+07:00 0HM9U8ELJB9U3:00000011 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 122.4627ms (afa2e885)
2021-07-03T23:58:00.9425092+07:00 0HM9U8ELJB9U3:00000011 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:00.9427797+07:00 0HM9U8ELJB9U3:00000011 [INF] Request finished in 127.397ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:01.9011663+07:00 0HM9U8ELJB9U3:00000013 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:58:01.9022509+07:00 0HM9U8ELJB9U3:00000013 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:01.9024456+07:00 0HM9U8ELJB9U3:00000013 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:01.9073068+07:00 0HM9U8ELJB9U3:00000013 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:01.9114023+07:00 0HM9U8ELJB9U3:00000013 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:01.9129476+07:00 0HM9U8ELJB9U3:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:58:01.9170504+07:00 0HM9U8ELJB9U3:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:58:01.9194892+07:00 0HM9U8ELJB9U3:00000013 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:01.9286344+07:00 0HM9U8ELJB9U3:00000013 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:01.9294397+07:00 0HM9U8ELJB9U3:00000013 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:58:01.9446040+07:00 0HM9U8ELJB9U3:00000013 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 37.1883ms (afa2e885)
2021-07-03T23:58:01.9446555+07:00 0HM9U8ELJB9U3:00000013 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:01.9449452+07:00 0HM9U8ELJB9U3:00000013 [INF] Request finished in 43.8528ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:03.0584261+07:00 0HM9U8ELJB9U3:00000015 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/UpdateDiscussion multipart/form-data; boundary=----WebKitFormBoundarypaK64BqjDtsUpyCL 883 (ca22a1cb)
2021-07-03T23:58:03.0608339+07:00 0HM9U8ELJB9U3:00000015 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:03.0613145+07:00 0HM9U8ELJB9U3:00000015 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:03.0738998+07:00 0HM9U8ELJB9U3:00000015 [INF] Route matched with "{action = \"UpdateDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateDiscussion(WebChat.Common.ViewModels.Discussion.DiscussionDetailViewModel)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:03.1030964+07:00 0HM9U8ELJB9U3:00000015 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:03.1092095+07:00 0HM9U8ELJB9U3:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@__model_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__model_GroupId_0" (0723d8ff)
2021-07-03T23:58:03.1478326+07:00 0HM9U8ELJB9U3:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p1='?' (DbType = Guid), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [LastModifyAt] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:58:03.1540801+07:00 0HM9U8ELJB9U3:00000015 [INF] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserInChatGroups] ([GroupId], [UserId])
VALUES (@p0, @p1);" (0723d8ff)
2021-07-03T23:58:03.1574814+07:00 0HM9U8ELJB9U3:00000015 [INF] Executed DbCommand ("1"ms) [Parameters=["@p5='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [ChatGroups] SET [AvatarGroup] = @p0, [CreatedAt] = @p1, [LastModifyAt] = @p2, [Name] = @p3, [OwnerId] = @p4
WHERE [Id] = @p5;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:58:03.1665961+07:00 0HM9U8ELJB9U3:00000015 [INF] Executing RedirectResult, redirecting to "/". (d98d540e)
2021-07-03T23:58:03.1692377+07:00 0HM9U8ELJB9U3:00000015 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)" in 95.2261ms (afa2e885)
2021-07-03T23:58:03.1692745+07:00 0HM9U8ELJB9U3:00000015 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.UpdateDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:03.1696851+07:00 0HM9U8ELJB9U3:00000015 [INF] Request finished in 111.7448ms 302  (791a596a)
2021-07-03T23:58:03.1805756+07:00 0HM9U8ELJB9U3:00000017 [INF] Request starting HTTP/2 GET https://localhost:5001/   (ca22a1cb)
2021-07-03T23:58:03.1814328+07:00 0HM9U8ELJB9U3:00000017 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:03.1815236+07:00 0HM9U8ELJB9U3:00000017 [INF] Executing endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:03.1816193+07:00 0HM9U8ELJB9U3:00000017 [INF] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "WebChat.WebApp.Controllers.HomeController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:03.1818531+07:00 0HM9U8ELJB9U3:00000017 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:03.1844291+07:00 0HM9U8ELJB9U3:00000017 [INF] Executed DbCommand ("2"ms) [Parameters=["@__get_Item_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__get_Item_0" (0723d8ff)
2021-07-03T23:58:03.1862186+07:00 0HM9U8ELJB9U3:00000017 [INF] Executing ViewResult, running view "Index". (c83d0e25)
2021-07-03T23:58:03.2337673+07:00 0HM9U8ELJB9U3:00000017 [INF] Executed ViewResult - view "Index" executed in 47.6373ms. (f66409e9)
2021-07-03T23:58:03.2338524+07:00 0HM9U8ELJB9U3:00000017 [INF] Executed action "WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)" in 52.2074ms (afa2e885)
2021-07-03T23:58:03.2339017+07:00 0HM9U8ELJB9U3:00000017 [INF] Executed endpoint '"WebChat.WebApp.Controllers.HomeController.Index (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:03.2341104+07:00 0HM9U8ELJB9U3:00000017 [INF] Request finished in 53.5946ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:03.2594598+07:00 0HM9U8ELJB9U4:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:58:03.2598244+07:00 0HM9U8ELJB9U4:00000001 [INF] Request finished in 12682.3662ms 101  (791a596a)
2021-07-03T23:58:03.3379947+07:00 0HM9U8ELJB9U3:00000019 [INF] Request starting HTTP/2 POST https://localhost:5001/chathub/negotiate?negotiateVersion=1 text/plain;charset=UTF-8 0 (ca22a1cb)
2021-07-03T23:58:03.3384256+07:00 0HM9U8ELJB9U3:00000019 [INF] Executing endpoint '"/chathub/negotiate"' (500cc934)
2021-07-03T23:58:03.3388423+07:00 0HM9U8ELJB9U3:00000019 [INF] Executed endpoint '"/chathub/negotiate"' (99874f2b)
2021-07-03T23:58:03.3389446+07:00 0HM9U8ELJB9U3:00000019 [INF] Request finished in 1.0497ms 200 application/json (791a596a)
2021-07-03T23:58:03.3461030+07:00 0HM9U8ELJB9U3:0000001B [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:58:03.3468277+07:00 0HM9U8ELJB9U3:0000001B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:03.3469009+07:00 0HM9U8ELJB9U3:0000001B [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:03.3469625+07:00 0HM9U8ELJB9U3:0000001B [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:03.3474364+07:00 0HM9U8ELJB9U3:0000001B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:03.3483953+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:58:03.3494502+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:03.3501015+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:03.3508329+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:58:03.3516174+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:58:03.3523731+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:58:03.3531213+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:58:03.3538141+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:03.3543640+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:03.3549561+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:58:03.3552035+07:00 0HM9U8ELJB9U3:0000001B [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:58:03.3569955+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 1.7932ms. (6f83ade2)
2021-07-03T23:58:03.3570952+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 10.1027ms (afa2e885)
2021-07-03T23:58:03.3571524+07:00 0HM9U8ELJB9U3:0000001B [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:03.3574189+07:00 0HM9U8ELJB9U3:0000001B [INF] Request finished in 11.3671ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:03.3751209+07:00 0HM9U8ELJB9U7:00000001 [INF] Request starting HTTP/1.1 GET https://localhost:5001/chathub?id=rUxqCeFA_8W4z66tRhqJJw   (ca22a1cb)
2021-07-03T23:58:03.3754699+07:00 0HM9U8ELJB9U7:00000001 [INF] Executing endpoint '"/chathub"' (500cc934)
2021-07-03T23:58:03.3848890+07:00 0HM9U8ELJB9U7:00000001 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:03.3855117+07:00 0HM9U8ELJB9U7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@__model_ConnectionId_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[ConnectionId], [u].[CreatedAt], [u].[IPAddress], [u].[LastModifyAt], [u].[UserId]
FROM [UserConnections] AS [u]
WHERE [u].[ConnectionId] = @__model_ConnectionId_0" (0723d8ff)
2021-07-03T23:58:03.3864147+07:00 0HM9U8ELJB9U7:00000001 [INF] Executed DbCommand ("0"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [UserConnections] ([ConnectionId], [CreatedAt], [IPAddress], [LastModifyAt], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [UserConnections]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();" (0723d8ff)
2021-07-03T23:58:05.1514065+07:00 0HM9U8ELJB9U5:00000045 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListDiscussion   (ca22a1cb)
2021-07-03T23:58:05.1523480+07:00 0HM9U8ELJB9U5:00000045 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:05.1525033+07:00 0HM9U8ELJB9U5:00000045 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:05.1526587+07:00 0HM9U8ELJB9U5:00000045 [INF] Route matched with "{action = \"GetListDiscussion\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListDiscussion(System.String)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:05.1536230+07:00 0HM9U8ELJB9U5:00000045 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:05.1562030+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[Name], [c].[CreatedAt], [c].[AvatarGroup], [u].[GroupId], [c].[OwnerId]
FROM [ChatGroups] AS [c]
INNER JOIN [UserInChatGroups] AS [u] ON [c].[Id] = [u].[GroupId]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:58:05.1587528+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:05.1604130+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:05.1622295+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals2_item_GroupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals2_item_GroupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:58:05.1636888+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:58:05.1651675+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__8__locals1_userId_0='?' (DbType = Guid), @__anotherUserId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__8__locals1_userId_0) AND ([c].[FriendId] = @__anotherUserId_1)" (0723d8ff)
2021-07-03T23:58:05.1664755+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:58:05.1678857+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:05.1689656+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:05.1700609+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed DbCommand ("0"ms) [Parameters=["@__item_GroupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[CreatedAt], [c].[LastModifyAt], [c].[SenderId]
FROM [ChatLogs] AS [c]
WHERE [c].[ChatGroupId] = @__item_GroupId_0
ORDER BY [c].[CreatedAt] DESC" (0723d8ff)
2021-07-03T23:58:05.1704174+07:00 0HM9U8ELJB9U5:00000045 [INF] Executing PartialViewResult, running view "_ListDiscussions". (1d3d4b21)
2021-07-03T23:58:05.1723699+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed PartialViewResult - view "_ListDiscussions" executed in 2.0145ms. (6f83ade2)
2021-07-03T23:58:05.1724517+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)" in 19.7175ms (afa2e885)
2021-07-03T23:58:05.1724854+07:00 0HM9U8ELJB9U5:00000045 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListDiscussion (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:05.1728612+07:00 0HM9U8ELJB9U5:00000045 [INF] Request finished in 21.4732ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:05.1796244+07:00 0HM9U8ELJB9U5:00000047 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/default-group.png   (ca22a1cb)
2021-07-03T23:58:05.1811430+07:00 0HM9U8ELJB9U5:00000047 [INF] Sending file. Request path: '"/user-content/img/default-group.png"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\default-group.png"' (27b0a520)
2021-07-03T23:58:05.1814906+07:00 0HM9U8ELJB9U5:00000047 [INF] Request finished in 1.8274ms 200 image/png (791a596a)
2021-07-03T23:58:05.8193139+07:00 0HM9U8ELJB9U5:00000049 [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331477526   (ca22a1cb)
2021-07-03T23:58:05.8201756+07:00 0HM9U8ELJB9U5:0000004B [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:58:05.8259159+07:00 0HM9U8ELJB9U5:00000049 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:05.8262503+07:00 0HM9U8ELJB9U5:0000004B [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:05.8263079+07:00 0HM9U8ELJB9U5:00000049 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:05.8265546+07:00 0HM9U8ELJB9U5:0000004B [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:05.8266901+07:00 0HM9U8ELJB9U5:0000004B [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:05.8266896+07:00 0HM9U8ELJB9U5:00000049 [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:05.8287096+07:00 0HM9U8ELJB9U5:0000004B [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:05.8287096+07:00 0HM9U8ELJB9U5:00000049 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:05.8321880+07:00 0HM9U8ELJB9U5:0000004B [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:05.8322006+07:00 0HM9U8ELJB9U5:00000049 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:05.8327672+07:00 0HM9U8ELJB9U5:0000004B [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:58:05.8334617+07:00 0HM9U8ELJB9U5:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:05.8336664+07:00 0HM9U8ELJB9U5:0000004B [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 6.8619ms (afa2e885)
2021-07-03T23:58:05.8337068+07:00 0HM9U8ELJB9U5:0000004B [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:05.8340602+07:00 0HM9U8ELJB9U5:0000004B [INF] Request finished in 13.9351ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:05.8379750+07:00 0HM9U8ELJB9U5:00000049 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:05.8382161+07:00 0HM9U8ELJB9U5:00000049 [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:58:05.8389601+07:00 0HM9U8ELJB9U5:00000049 [INF] Executed PartialViewResult - view "_ChatForm" executed in 0.7982ms. (6f83ade2)
2021-07-03T23:58:05.8389894+07:00 0HM9U8ELJB9U5:00000049 [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 12.216ms (afa2e885)
2021-07-03T23:58:05.8390106+07:00 0HM9U8ELJB9U5:00000049 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:05.8399071+07:00 0HM9U8ELJB9U5:00000049 [INF] Request finished in 19.9701ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:07.7337339+07:00 0HM9U8ELJB9U3:0000001D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0&_=1625331483278   (ca22a1cb)
2021-07-03T23:58:07.7362021+07:00 0HM9U8ELJB9U3:0000001D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:07.7367701+07:00 0HM9U8ELJB9U3:0000001D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:07.7377801+07:00 0HM9U8ELJB9U3:0000001D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:07.7440097+07:00 0HM9U8ELJB9U3:0000001F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:58:07.7452318+07:00 0HM9U8ELJB9U3:0000001D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:07.7462260+07:00 0HM9U8ELJB9U3:0000001F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:07.7464703+07:00 0HM9U8ELJB9U3:0000001F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:07.7466674+07:00 0HM9U8ELJB9U3:0000001F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:07.7467908+07:00 0HM9U8ELJB9U3:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:07.7498900+07:00 0HM9U8ELJB9U3:0000001F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:07.7506735+07:00 0HM9U8ELJB9U3:0000001D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:07.7529207+07:00 0HM9U8ELJB9U3:0000001F [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:07.7534595+07:00 0HM9U8ELJB9U3:0000001F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:58:07.7537575+07:00 0HM9U8ELJB9U3:0000001D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:07.7541392+07:00 0HM9U8ELJB9U3:0000001D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:58:07.7543326+07:00 0HM9U8ELJB9U3:0000001F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 7.6056ms (afa2e885)
2021-07-03T23:58:07.7543882+07:00 0HM9U8ELJB9U3:0000001F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:07.7550922+07:00 0HM9U8ELJB9U3:0000001F [INF] Request finished in 11.0598ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:07.7576576+07:00 0HM9U8ELJB9U3:0000001D [INF] Executed PartialViewResult - view "_ChatForm" executed in 3.3263ms. (6f83ade2)
2021-07-03T23:58:07.7578092+07:00 0HM9U8ELJB9U3:0000001D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 19.6823ms (afa2e885)
2021-07-03T23:58:07.7578613+07:00 0HM9U8ELJB9U3:0000001D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:07.7584815+07:00 0HM9U8ELJB9U3:0000001D [INF] Request finished in 24.6782ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:08.4360143+07:00 0HM9U8ELJB9U3:00000021 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/DiscussionDetail?groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:58:08.4368271+07:00 0HM9U8ELJB9U3:00000021 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:08.4370416+07:00 0HM9U8ELJB9U3:00000021 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:08.4371708+07:00 0HM9U8ELJB9U3:00000021 [INF] Route matched with "{action = \"DiscussionDetail\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DiscussionDetail(System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:08.4383471+07:00 0HM9U8ELJB9U3:00000021 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:08.4397432+07:00 0HM9U8ELJB9U3:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:08.4419017+07:00 0HM9U8ELJB9U3:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE [c].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:58:08.4443186+07:00 0HM9U8ELJB9U3:00000021 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id], [u].[AvatarLink], [u].[UserName] AS [Username], CASE
    WHEN [u].[Address] IS NOT NULL AND (([u].[Address] <> N'') OR [u].[Address] IS NULL) THEN [u].[Address]
    ELSE N''
END AS [Address], CASE
    WHEN [u].[Id] IN ('93e85be8-b580-4f81-b0d7-b22c759974b2', '64f71bb0-93f3-41a7-a36f-fa7bd77b602b', '7643dded-baea-4aeb-bef4-d9f81bd9e42a', 'e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', 'c702864c-4299-4644-83e5-9f4db5f49293', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0', '98a89d71-87f7-41b7-abf7-342947561276', 'b8cfc615-0d44-4e75-9071-6b76bc4a016f') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END AS [IsFriend]
FROM [Users] AS [u]
INNER JOIN [UserInChatGroups] AS [u0] ON [u].[Id] = [u0].[UserId]
WHERE [u0].[GroupId] = @__groupId_0
ORDER BY [u].[UserName]
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:08.4451248+07:00 0HM9U8ELJB9U3:00000021 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:08.4475801+07:00 0HM9U8ELJB9U3:00000021 [INF] Executing JsonResult, writing value of type '"<>f__AnonymousType3`2[[System.Boolean, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Threading.Tasks.Task`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'. (2f513669)
2021-07-03T23:58:08.4484265+07:00 0HM9U8ELJB9U3:00000021 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)" in 11.2124ms (afa2e885)
2021-07-03T23:58:08.4484861+07:00 0HM9U8ELJB9U3:00000021 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.DiscussionDetail (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:08.4488408+07:00 0HM9U8ELJB9U3:00000021 [INF] Request finished in 12.7917ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:09.5261564+07:00 0HM9U8ELJB9U3:00000023 [INF] Request starting HTTP/2 GET https://localhost:5001/Discussion/GetListToAddMember?page=1&groupId=40fae31d-2e9c-45fc-3f71-08d93a2f60d0   (ca22a1cb)
2021-07-03T23:58:09.5269831+07:00 0HM9U8ELJB9U3:00000023 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:09.5271395+07:00 0HM9U8ELJB9U3:00000023 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:09.5272920+07:00 0HM9U8ELJB9U3:00000023 [INF] Route matched with "{action = \"GetListToAddMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListToAddMember(System.String, Int32, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:09.5283762+07:00 0HM9U8ELJB9U3:00000023 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:09.5292260+07:00 0HM9U8ELJB9U3:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:58:09.5304543+07:00 0HM9U8ELJB9U3:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[FriendId]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__user_Id_0) AND ([c].[IsBlock] <> CAST(1 AS bit))" (0723d8ff)
2021-07-03T23:58:09.5313466+07:00 0HM9U8ELJB9U3:00000023 [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:09.5344986+07:00 0HM9U8ELJB9U3:00000023 [INF] Executed DbCommand ("2"ms) [Parameters=["@__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName]
FROM [Users] AS [u]
WHERE (([u].[IsAdmin] <> CAST(1 AS bit)) AND ([u].[IsLocked] <> CAST(1 AS bit))) AND [u].[Id] IN ('e1b62ba2-ea51-4c27-a9f8-7e65901f395a', 'b122feda-3791-469f-8c0e-382fe0f76383', '6cfea903-eb51-4f0d-9c5a-dd4ff5fcaeb0', 'e1f2ab5b-20a1-4c01-8758-c5cb6ec4a5c0')
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:09.5347891+07:00 0HM9U8ELJB9U3:00000023 [INF] Executing JsonResult, writing value of type '"System.Collections.Generic.List`1[[WebChat.Common.ViewModels.User.ContactViewModel, WebChat.Common, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (2f513669)
2021-07-03T23:58:09.5356519+07:00 0HM9U8ELJB9U3:00000023 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)" in 8.3126ms (afa2e885)
2021-07-03T23:58:09.5356911+07:00 0HM9U8ELJB9U3:00000023 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.GetListToAddMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:09.5359478+07:00 0HM9U8ELJB9U3:00000023 [INF] Request finished in 9.7699ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:11.3860622+07:00 0HM9U8ELJB9U3:00000025 [INF] Request starting HTTP/2 POST https://localhost:5001/Discussion/RemoveMember application/x-www-form-urlencoded; charset=UTF-8 90 (ca22a1cb)
2021-07-03T23:58:11.3868434+07:00 0HM9U8ELJB9U3:00000025 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:11.3869916+07:00 0HM9U8ELJB9U3:00000025 [INF] Executing endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:11.3903622+07:00 0HM9U8ELJB9U3:00000025 [INF] Route matched with "{action = \"RemoveMember\", controller = \"Discussion\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult RemoveMember(System.Guid, System.Guid)" on controller "WebChat.WebApp.Controllers.DiscussionController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:11.3928448+07:00 0HM9U8ELJB9U3:00000025 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:11.3991369+07:00 0HM9U8ELJB9U3:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__id_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__id_0" (0723d8ff)
2021-07-03T23:58:11.4039357+07:00 0HM9U8ELJB9U3:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__memberId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId], [u].[GroupId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__groupId_0) AND ([u].[UserId] = @__memberId_1)" (0723d8ff)
2021-07-03T23:58:11.4144619+07:00 0HM9U8ELJB9U3:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@p0='?' (DbType = Guid), @p1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [UserInChatGroups]
WHERE [GroupId] = @p0 AND [UserId] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:58:11.4300753+07:00 0HM9U8ELJB9U3:00000025 [INF] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[ConnectionId]
FROM [UserConnections] AS [u]
WHERE [u].[UserId] = @__userId_0" (0723d8ff)
2021-07-03T23:58:11.4326663+07:00 0HM9U8ELJB9U3:00000025 [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:58:11.4338822+07:00 0HM9U8ELJB9U3:00000025 [INF] Executed action "WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)" in 43.4356ms (afa2e885)
2021-07-03T23:58:11.4339313+07:00 0HM9U8ELJB9U3:00000025 [INF] Executed endpoint '"WebChat.WebApp.Controllers.DiscussionController.RemoveMember (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:11.4342449+07:00 0HM9U8ELJB9U3:00000025 [INF] Request finished in 48.4029ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:15.6435548+07:00 0HM9U8ELJB9U5:0000004D [INF] Request starting HTTP/2 GET https://localhost:5001/Chat/LoadChatForm2?groupId=8646094c-608f-4cc3-3f70-08d93a2f60d0&_=1625331477527   (ca22a1cb)
2021-07-03T23:58:15.6441871+07:00 0HM9U8ELJB9U5:0000004F [INF] Request starting HTTP/2 POST https://localhost:5001/Notification/DeleteWhenRead application/x-www-form-urlencoded; charset=UTF-8 44 (ca22a1cb)
2021-07-03T23:58:15.6448569+07:00 0HM9U8ELJB9U5:0000004D [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:15.6448613+07:00 0HM9U8ELJB9U5:0000004F [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:15.6449845+07:00 0HM9U8ELJB9U5:0000004F [INF] Executing endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:15.6449870+07:00 0HM9U8ELJB9U5:0000004D [INF] Executing endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:15.6451789+07:00 0HM9U8ELJB9U5:0000004D [INF] Route matched with "{action = \"LoadChatForm2\", controller = \"Chat\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult LoadChatForm2(System.Guid)" on controller "WebChat.WebApp.Controllers.ChatController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:15.6451840+07:00 0HM9U8ELJB9U5:0000004F [INF] Route matched with "{action = \"DeleteWhenRead\", controller = \"Notification\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteWhenRead(System.Guid)" on controller "WebChat.WebApp.Controllers.NotificationController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:15.6463685+07:00 0HM9U8ELJB9U5:0000004D [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:15.6466155+07:00 0HM9U8ELJB9U5:0000004F [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:15.6479254+07:00 0HM9U8ELJB9U5:0000004F [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_1='?' (DbType = Guid), @__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[NotificationId]
FROM [Notifications] AS [n]
INNER JOIN (
    SELECT [n0].[Id], [n0].[NotificationId]
    FROM [NotificationUsers] AS [n0]
    WHERE ([n0].[ReceiverUserId] = @__userId_1) AND ([n0].[IsRead] <> CAST(1 AS bit))
) AS [t] ON [n].[Id] = [t].[NotificationId]
WHERE ([n].[ReceiverGroupId] = @__groupId_0) AND ([n].[TypeNotification] = 1)" (0723d8ff)
2021-07-03T23:58:15.6479265+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[Id], [c].[AvatarGroup], [c].[CreatedAt], [c].[LastModifyAt], [c].[Name], [c].[OwnerId]
FROM [ChatGroups] AS [c]
WHERE [c].[Id] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:15.6483669+07:00 0HM9U8ELJB9U5:0000004F [INF] Executing JsonResult, writing value of type '"System.Boolean"'. (2f513669)
2021-07-03T23:58:15.6488791+07:00 0HM9U8ELJB9U5:0000004F [INF] Executed action "WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)" in 3.6436ms (afa2e885)
2021-07-03T23:58:15.6489862+07:00 0HM9U8ELJB9U5:0000004F [INF] Executed endpoint '"WebChat.WebApp.Controllers.NotificationController.DeleteWhenRead (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:15.6494742+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__groupId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [UserInChatGroups] AS [u]
WHERE [u].[GroupId] = @__groupId_0" (0723d8ff)
2021-07-03T23:58:15.6495371+07:00 0HM9U8ELJB9U5:0000004F [INF] Request finished in 5.2738ms 200 application/json; charset=utf-8 (791a596a)
2021-07-03T23:58:15.6554443+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__8__locals1_groupId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserId]
FROM [UserInChatGroups] AS [u]
WHERE ([u].[GroupId] = @__8__locals1_groupId_0) AND ([u].[UserId] <> @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:58:15.6582227+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed DbCommand ("0"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[UserName], [u].[AvatarLink]
FROM [Users] AS [u]
WHERE [u].[Id] = @__anotherUserId_0" (0723d8ff)
2021-07-03T23:58:15.6609399+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed DbCommand ("1"ms) [Parameters=["@__anotherUserId_0='?' (DbType = Guid), @__8__locals1_userId_1='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [c].[IsBlock]
FROM [Contacts] AS [c]
WHERE ([c].[UserId] = @__anotherUserId_0) AND ([c].[FriendId] = @__8__locals1_userId_1)" (0723d8ff)
2021-07-03T23:58:15.6618878+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed DbCommand ("0"ms) [Parameters=["@__groupId_0='?' (DbType = Guid), @__p_2='?' (DbType = Int32), @__p_3='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [c].[AttachedFiles], [c].[CallId], [c].[ChatGroupId], [c].[Content], [c].[Id], [c].[SenderId], [c].[CreatedAt], [u].[AvatarLink], [u].[UserName], CASE
    WHEN [c].[AttachedFiles] IS NOT NULL THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
FROM [ChatLogs] AS [c]
INNER JOIN [Users] AS [u] ON [c].[SenderId] = [u].[Id]
WHERE [c].[ChatGroupId] = @__groupId_0
ORDER BY [c].[CreatedAt] DESC
OFFSET @__p_2 ROWS FETCH NEXT @__p_3 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:15.6621143+07:00 0HM9U8ELJB9U5:0000004D [INF] Executing PartialViewResult, running view "_ChatForm". (1d3d4b21)
2021-07-03T23:58:15.6632335+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed PartialViewResult - view "_ChatForm" executed in 1.1652ms. (6f83ade2)
2021-07-03T23:58:15.6632839+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed action "WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)" in 18.0739ms (afa2e885)
2021-07-03T23:58:15.6633099+07:00 0HM9U8ELJB9U5:0000004D [INF] Executed endpoint '"WebChat.WebApp.Controllers.ChatController.LoadChatForm2 (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:15.6635239+07:00 0HM9U8ELJB9U5:0000004D [INF] Request finished in 19.9847ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:16.4541140+07:00 0HM9U8ELJB9U5:00000051 [INF] Request starting HTTP/2 GET https://localhost:5001/Contact/GetListContact   (ca22a1cb)
2021-07-03T23:58:16.4559391+07:00 0HM9U8ELJB9U5:00000051 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:16.4562500+07:00 0HM9U8ELJB9U5:00000051 [INF] Executing endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:16.4605874+07:00 0HM9U8ELJB9U5:00000051 [INF] Route matched with "{action = \"GetListContact\", controller = \"Contact\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult GetListContact(System.String)" on controller "WebChat.WebApp.Controllers.ContactController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:16.4752497+07:00 0HM9U8ELJB9U5:00000051 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:16.4759463+07:00 0HM9U8ELJB9U5:00000051 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:58:16.4873815+07:00 0HM9U8ELJB9U5:00000051 [INF] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (DbType = Guid), @__p_1='?' (DbType = Int32), @__p_2='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [u].[Address], [u].[Id] AS [ContactId], [u].[AvatarLink], [u].[UserName], [u].[FirstName], [u].[Status], [u].[DateCreate] AS [CreateAt]
FROM [Users] AS [u]
INNER JOIN (
    SELECT [c].[FriendId], [c].[UserId]
    FROM [Contacts] AS [c]
    WHERE [c].[IsBlock] <> CAST(1 AS bit)
) AS [t] ON @__user_Id_0 = [t].[UserId]
WHERE ([u].[IsLocked] <> CAST(1 AS bit)) AND ([u].[Id] = [t].[FriendId])
ORDER BY [u].[UserName]
OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY" (0723d8ff)
2021-07-03T23:58:16.4908660+07:00 0HM9U8ELJB9U5:00000051 [INF] Executing PartialViewResult, running view "_ListContacts". (1d3d4b21)
2021-07-03T23:58:16.4955886+07:00 0HM9U8ELJB9U5:00000051 [INF] Executed PartialViewResult - view "_ListContacts" executed in 7.2969ms. (6f83ade2)
2021-07-03T23:58:16.4956470+07:00 0HM9U8ELJB9U5:00000051 [INF] Executed action "WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)" in 34.9981ms (afa2e885)
2021-07-03T23:58:16.4956801+07:00 0HM9U8ELJB9U5:00000051 [INF] Executed endpoint '"WebChat.WebApp.Controllers.ContactController.GetListContact (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:16.4958682+07:00 0HM9U8ELJB9U5:00000051 [INF] Request finished in 41.7871ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:16.5014031+07:00 0HM9U8ELJB9U5:00000053 [INF] Request starting HTTP/2 GET https://localhost:5001/user-content/img/avatar-male-2.jpg   (ca22a1cb)
2021-07-03T23:58:16.5022150+07:00 0HM9U8ELJB9U5:00000053 [INF] Sending file. Request path: '"/user-content/img/avatar-male-2.jpg"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\user-content\img\avatar-male-2.jpg"' (27b0a520)
2021-07-03T23:58:16.5022777+07:00 0HM9U8ELJB9U5:00000053 [INF] Request finished in 0.8886ms 200 image/jpeg (791a596a)
2021-07-03T23:58:19.5685672+07:00 0HM9U8ELJB9U5:00000055 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/js/signalr/signalr.js.map   (ca22a1cb)
2021-07-03T23:58:19.5767452+07:00 0HM9U8ELJB9U5:00000055 [INF] Sending file. Request path: '"/dist/js/signalr/signalr.js.map"'. Physical path: '"E:\Coding\CShape\WebChat\WebChat\wwwroot\dist\js\signalr\signalr.js.map"' (27b0a520)
2021-07-03T23:58:19.5768962+07:00 0HM9U8ELJB9U5:00000055 [INF] Request finished in 8.3528ms 200 text/plain (791a596a)
2021-07-03T23:58:19.5905213+07:00 0HM9U8ELJB9U5:00000057 [INF] Request starting HTTP/2 GET https://localhost:5001/dist/plugin/emoji/css/emojionearea.css.map   (ca22a1cb)
2021-07-03T23:58:19.5923930+07:00 0HM9U8ELJB9U5:00000057 [INF] Request finished in 1.834ms 404  (791a596a)
2021-07-03T23:58:25.8069254+07:00 0HM9U8ELJB9U5:00000059 [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:58:25.8083986+07:00 0HM9U8ELJB9U5:00000059 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:25.8085357+07:00 0HM9U8ELJB9U5:00000059 [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:25.8121944+07:00 0HM9U8ELJB9U5:00000059 [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:25.8137115+07:00 0HM9U8ELJB9U5:00000059 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:25.8143107+07:00 0HM9U8ELJB9U5:00000059 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:58:25.8171719+07:00 0HM9U8ELJB9U5:00000059 [INF] Executed DbCommand ("1"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:58:25.8255263+07:00 0HM9U8ELJB9U5:00000059 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:58:25.8261068+07:00 0HM9U8ELJB9U5:00000059 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:58:25.8262239+07:00 0HM9U8ELJB9U5:00000059 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:58:25.8264671+07:00 0HM9U8ELJB9U5:00000059 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:58:25.8265551+07:00 0HM9U8ELJB9U5:00000059 [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 14.3128ms (afa2e885)
2021-07-03T23:58:25.8265879+07:00 0HM9U8ELJB9U5:00000059 [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:25.8278856+07:00 0HM9U8ELJB9U5:00000059 [INF] Request finished in 21.0236ms 302  (791a596a)
2021-07-03T23:58:25.8312434+07:00 0HM9U8ELJB9U5:0000005B [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:58:25.8316197+07:00 0HM9U8ELJB9U5:0000005B [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:25.8317066+07:00 0HM9U8ELJB9U5:0000005B [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:25.8321687+07:00 0HM9U8ELJB9U5:0000005B [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:58:25.8355616+07:00 0HM9U8ELJB9U5:0000005B [INF] Executed ViewResult - view "Login" executed in 3.4572ms. (f66409e9)
2021-07-03T23:58:25.8356049+07:00 0HM9U8ELJB9U5:0000005B [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 3.8804ms (afa2e885)
2021-07-03T23:58:25.8356204+07:00 0HM9U8ELJB9U5:0000005B [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:25.8357459+07:00 0HM9U8ELJB9U5:0000005B [INF] Request finished in 4.6301ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:25.8428186+07:00 0HM9U8ELJB9U6:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:58:25.8429790+07:00 0HM9U8ELJB9U6:00000001 [INF] Request finished in 27999.1143ms 101  (791a596a)
2021-07-03T23:58:30.3148173+07:00 0HM9U8ELJB9U3:00000027 [INF] Request starting HTTP/2 GET https://localhost:5001/User/Logout   (ca22a1cb)
2021-07-03T23:58:30.3190038+07:00 0HM9U8ELJB9U3:00000027 [INF] Authorization was successful. (0d575a54)
2021-07-03T23:58:30.3191631+07:00 0HM9U8ELJB9U3:00000027 [INF] Executing endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:30.3193254+07:00 0HM9U8ELJB9U3:00000027 [INF] Route matched with "{action = \"Logout\", controller = \"User\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Logout()" on controller "WebChat.WebApp.Controllers.UserController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:30.3200027+07:00 0HM9U8ELJB9U3:00000027 [INF] Entity Framework Core "5.0.2" initialized '"WebChatDbContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-07-03T23:58:30.3207976+07:00 0HM9U8ELJB9U3:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@__userId_0='?' (DbType = Guid)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [u].[Id], [u].[AccessFailedCount], [u].[Address], [u].[AvatarLink], [u].[ConcurrencyStamp], [u].[DateCreate], [u].[Email], [u].[EmailConfirmed], [u].[FirstName], [u].[IsAdmin], [u].[IsLocked], [u].[LastName], [u].[LockoutEnabled], [u].[LockoutEnd], [u].[NormalizedEmail], [u].[NormalizedUserName], [u].[PasswordHash], [u].[PhoneNumber], [u].[PhoneNumberConfirmed], [u].[SecurityStamp], [u].[Status], [u].[TwoFactorEnabled], [u].[UserName]
FROM [Users] AS [u]
WHERE [u].[Id] = @__userId_0" (0723d8ff)
2021-07-03T23:58:30.3227342+07:00 0HM9U8ELJB9U3:00000027 [INF] Executed DbCommand ("0"ms) [Parameters=["@p22='?' (DbType = Guid), @p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (Size = 500), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (Size = 200), @p8='?' (DbType = Boolean), @p9='?' (DbType = Boolean), @p10='?' (Size = 200), @p11='?' (DbType = Boolean), @p12='?' (DbType = DateTimeOffset), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [AccessFailedCount] = @p0, [Address] = @p1, [AvatarLink] = @p2, [ConcurrencyStamp] = @p3, [DateCreate] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FirstName] = @p7, [IsAdmin] = @p8, [IsLocked] = @p9, [LastName] = @p10, [LockoutEnabled] = @p11, [LockoutEnd] = @p12, [NormalizedEmail] = @p13, [NormalizedUserName] = @p14, [PasswordHash] = @p15, [PhoneNumber] = @p16, [PhoneNumberConfirmed] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21
WHERE [Id] = @p22;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-07-03T23:58:30.3238636+07:00 0HM9U8ELJB9U3:00000027 [INF] AuthenticationScheme: "Identity.Application" signed out. (d3f50c8d)
2021-07-03T23:58:30.3239678+07:00 0HM9U8ELJB9U3:00000027 [INF] AuthenticationScheme: "Identity.External" signed out. (d3f50c8d)
2021-07-03T23:58:30.3240106+07:00 0HM9U8ELJB9U3:00000027 [INF] AuthenticationScheme: "Identity.TwoFactorUserId" signed out. (d3f50c8d)
2021-07-03T23:58:30.3243018+07:00 0HM9U8ELJB9U3:00000027 [INF] Executing RedirectResult, redirecting to "/dang-nhap". (d98d540e)
2021-07-03T23:58:30.3244494+07:00 0HM9U8ELJB9U3:00000027 [INF] Executed action "WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)" in 5.066ms (afa2e885)
2021-07-03T23:58:30.3244723+07:00 0HM9U8ELJB9U3:00000027 [INF] Executed endpoint '"WebChat.WebApp.Controllers.UserController.Logout (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:30.3248913+07:00 0HM9U8ELJB9U3:00000027 [INF] Request finished in 10.089ms 302  (791a596a)
2021-07-03T23:58:30.3364285+07:00 0HM9U8ELJB9U3:00000029 [INF] Request starting HTTP/2 GET https://localhost:5001/dang-nhap   (ca22a1cb)
2021-07-03T23:58:30.3366212+07:00 0HM9U8ELJB9U3:00000029 [INF] Executing endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (500cc934)
2021-07-03T23:58:30.3366824+07:00 0HM9U8ELJB9U3:00000029 [INF] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Login()" on controller "WebChat.WebApp.Controllers.AccountController" ("WebChat.WebApp"). (122b2fdf)
2021-07-03T23:58:30.3369806+07:00 0HM9U8ELJB9U3:00000029 [INF] Executing ViewResult, running view "Login". (c83d0e25)
2021-07-03T23:58:30.3389643+07:00 0HM9U8ELJB9U3:00000029 [INF] Executed ViewResult - view "Login" executed in 2.0542ms. (f66409e9)
2021-07-03T23:58:30.3389945+07:00 0HM9U8ELJB9U3:00000029 [INF] Executed action "WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)" in 2.2933ms (afa2e885)
2021-07-03T23:58:30.3390082+07:00 0HM9U8ELJB9U3:00000029 [INF] Executed endpoint '"WebChat.WebApp.Controllers.AccountController.Login (WebChat.WebApp)"' (99874f2b)
2021-07-03T23:58:30.3390953+07:00 0HM9U8ELJB9U3:00000029 [INF] Request finished in 2.6718ms 200 text/html; charset=utf-8 (791a596a)
2021-07-03T23:58:30.3469445+07:00 0HM9U8ELJB9U7:00000001 [INF] Executed endpoint '"/chathub"' (99874f2b)
2021-07-03T23:58:30.3471579+07:00 0HM9U8ELJB9U7:00000001 [INF] Request finished in 26972.0433ms 101  (791a596a)
2021-07-03T23:58:33.3169032+07:00  [INF] Application is shutting down... (90f52c38)
