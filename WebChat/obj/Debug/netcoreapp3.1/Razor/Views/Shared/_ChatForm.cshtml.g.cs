#pragma checksum "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "b9164497a7a0b039902f7f38d99744658628de8f"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Shared__ChatForm), @"mvc.1.0.view", @"/Views/Shared/_ChatForm.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "D:\Document\Repos\WebChat\WebChat\Views\_ViewImports.cshtml"
using WebChat;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Document\Repos\WebChat\WebChat\Views\_ViewImports.cshtml"
using WebChat.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 1 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
using WebChat.Common.ViewModels.Chat;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
using WebChat.Common.Utilities.Constants;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"b9164497a7a0b039902f7f38d99744658628de8f", @"/Views/Shared/_ChatForm.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a814993b2539efb9958d30a9277d5b3fc4f5208f", @"/Views/_ViewImports.cshtml")]
    public class Views_Shared__ChatForm : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("position-relative w-100"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
#nullable restore
#line 4 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
  
    var chatGroup = (ChatGroupViewModel)ViewData["ChatGroup"];

    var chatLogs = (List<ChatLogViewModel>)ViewData["ChatLogs"];

    Guid me = new Guid();
    if (chatGroup != null)
    {
        me = (Guid)ViewData["Me"] != null ? (Guid)ViewData["Me"] : Guid.Empty;
    }

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
<style>
    .emojionearea > .emojionearea-editor {
        min-height: 20px;
        max-height: 35px;
    }

    .emojionearea-button {
        position: absolute;
        top: 17px !important;
        left: 10px !important;
    }

    .emojionearea .emojionearea-picker {
        position: absolute;
        top: -10px !important;
        left: 10px !important;
    }

    .text span b {
        color: cadetblue;
    }
</style>

<!-- Start of Babble -->
<div class=""babble tab-pane fade active show"" id=""list-chat"">
    <!-- Start of Chat -->
    <div class=""chat"" id=""chat1"">
        <div class=""top"">
            <div class=""container"">
                <div class=""col-md-12"">
                    <div class=""inside"">
                        <a href=""#""><img class=""avatar-md""");
            BeginWriteAttribute("src", " src=\"", 1188, "\"", 1215, 1);
#nullable restore
#line 47 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 1194, chatGroup.AvatarLink, 1194, 21, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("title", " title=\"", 1216, "\"", 1239, 1);
#nullable restore
#line 47 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 1224, chatGroup.Name, 1224, 15, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" alt=""avatar""></a>
                        <div class=""status"">
                            <i class=""material-icons online"">fiber_manual_record</i>
                        </div>
                        <div class=""data"">
                            <h5><a href=""#"" id=""group-detail"">");
#nullable restore
#line 52 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                         Write(chatGroup.Name);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</a></h5>
                            <span>Active now</span>
                        </div>
                        <button class=""btn connect d-md-block d-none"" name=""1""><i class=""material-icons md-30"">phone_in_talk</i></button>
                        <button class=""btn connect d-md-block d-none"" name=""1""><i class=""material-icons md-36"">videocam</i></button>
                        <button class=""btn d-md-block d-none""><i class=""material-icons md-30"">info</i></button>
                        <div class=""dropdown"">
                            <button class=""btn"" data-toggle=""dropdown"" aria-haspopup=""true"" aria-expanded=""false""><i class=""material-icons md-30"">more_vert</i></button>
                            <div class=""dropdown-menu dropdown-menu-right"">
                                <button class=""dropdown-item connect"" name=""1""><i class=""material-icons"">phone_in_talk</i>Voice Call</button>
                                <button class=""dropdown-item connect"" name=""1""><i class=""material-icons""");
            WriteLiteral(">videocam</i>Video Call</button>\r\n                                <hr>\r\n");
#nullable restore
#line 64 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                 if (chatGroup.TotalMember == 2 && chatGroup.OwnerId == null)
                                {
                                    if (chatGroup.IsBlock)
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <button id=\"btn-unblock\" class=\"dropdown-item\"><i class=\"material-icons\">block</i>Bỏ chặn</button>\r\n");
#nullable restore
#line 69 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                    }
                                    else
                                    {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                        <button id=\"btn-block\" class=\"dropdown-item\"><i class=\"material-icons\">block</i>Chặn</button>\r\n");
#nullable restore
#line 73 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                    }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <button id=\"btn-unfriend\" class=\"dropdown-item\"><i class=\"material-icons\">clear</i>Hủy kết bạn</button>\r\n");
#nullable restore
#line 75 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                }
                                else
                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    <button id=\"btn-delete-group\" class=\"dropdown-item\">\r\n                                        <i class=\"material-icons\">delete</i>\r\n                                        ");
#nullable restore
#line 80 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                    Write(chatGroup.IsOwner ? "Xóa nhóm chat" : "Rời nhóm");

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n                                    </button>\r\n");
#nullable restore
#line 82 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n");
#nullable restore
#line 89 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
         if (chatLogs == null || chatLogs.Count == 0)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"            <div class=""content empty"" id=""content"">
                <div class=""container"">
                    <div class=""col-md-12 chat-content"">
                        <div class=""no-messages"">
                            <i class=""material-icons md-48"">forum</i>
                            <p>Hãy bắt đầu kết nối với mọi người xung quanh.</p>
                        </div>
                    </div>
                </div>
            </div>
");
#nullable restore
#line 101 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
        }
        else
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <div class=\"content\" id=\"content\">\r\n                <div class=\"container\">\r\n                    <div class=\"col-md-12 chat-content\">\r\n");
#nullable restore
#line 107 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                         foreach (var item in chatLogs)
                        {
                            if (item.SenderId == me)
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <div class=\"message me\">\r\n                                    <div class=\"text-main\">\r\n                                        <div class=\"text-group me\">\r\n                                            <div class=\"text me\">\r\n");
#nullable restore
#line 115 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                 if (item.AttachedFile != null)
                                                {
                                                    if (item.TypeFile == 2)
                                                    { // video

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <video width=\"320\" height=\"240\" controls>\r\n                                                            <source");
            BeginWriteAttribute("src", " src=\"", 5625, "\"", 5649, 1);
#nullable restore
#line 120 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 5631, item.AttachedFile, 5631, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                            Your browser does not support the video tag.\r\n                                                        </video>\r\n");
#nullable restore
#line 123 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    }
                                                    else if (item.TypeFile == 1)
                                                    { // image

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <img");
            BeginWriteAttribute("src", " src=\"", 6086, "\"", 6110, 1);
#nullable restore
#line 126 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 6092, item.AttachedFile, 6092, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" alt=\"Image\" width=\"200\" height=\"200\">\r\n");
#nullable restore
#line 127 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    }
                                                    else
                                                    { // file

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                                        <div class=""attachment"">
                                                            <button class=""btn attach""><i class=""material-icons md-18"">insert_drive_file</i></button>
                                                            <div class=""file"">
                                                                <h5><a");
            BeginWriteAttribute("href", " href=\"", 6710, "\"", 6735, 1);
#nullable restore
#line 133 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 6717, item.AttachedFile, 6717, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 133 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                                                            Write(item.FileName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></h5>\r\n                                                            </div>\r\n                                                        </div>\r\n");
#nullable restore
#line 136 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    }
                                                }
                                                else
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <p>");
#nullable restore
#line 140 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                  Write(item.Content);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n");
#nullable restore
#line 141 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            </div>\r\n                                        </div>\r\n");
#nullable restore
#line 144 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                         if ((DateTime.Now - item.TimeSent).TotalMinutes > 10)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <span>");
#nullable restore
#line 146 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                             Write(item.TimeSentAsString);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 147 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    </div>\r\n                                </div>\r\n");
#nullable restore
#line 150 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                            }
                            else
                            {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                <div class=\"message\">\r\n                                    <img class=\"avatar-md\"");
            BeginWriteAttribute("src", " src=\"", 7886, "\"", 7908, 1);
#nullable restore
#line 154 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 7892, item.AvatarLink, 7892, 16, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            BeginWriteAttribute("title", " title=\"", 7909, "\"", 7931, 1);
#nullable restore
#line 154 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 7917, item.UserName, 7917, 14, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" alt=""avatar"">
                                    <div class=""text-main"">
                                        <div class=""text-group"">
                                            <div class=""text"">
                                                <span><b>");
#nullable restore
#line 158 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    Write(item.UserName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</b></span>\r\n");
#nullable restore
#line 159 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                 if (item.AttachedFile != null)
                                                {
                                                    if (item.TypeFile == 2)
                                                    { // video

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <video width=\"320\" height=\"240\" controls>\r\n                                                            <source");
            BeginWriteAttribute("src", " src=\"", 8662, "\"", 8686, 1);
#nullable restore
#line 164 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 8668, item.AttachedFile, 8668, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">\r\n                                                            Your browser does not support the video tag.\r\n                                                        </video>\r\n");
#nullable restore
#line 167 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    }
                                                    else if (item.TypeFile == 1)
                                                    { // image

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                        <img");
            BeginWriteAttribute("src", " src=\"", 9123, "\"", 9147, 1);
#nullable restore
#line 170 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 9129, item.AttachedFile, 9129, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" alt=\"image\" width=\"200\" height=\"200\">\r\n");
#nullable restore
#line 171 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    }
                                                    else
                                                    { // file

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                                                        <div class=""attachment"">
                                                            <button class=""btn attach""><i class=""material-icons md-18"">insert_drive_file</i></button>
                                                            <div class=""file"">
                                                                <h5><a");
            BeginWriteAttribute("href", " href=\"", 9747, "\"", 9772, 1);
#nullable restore
#line 177 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 9754, item.AttachedFile, 9754, 18, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(">");
#nullable restore
#line 177 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                                                            Write(item.FileName);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></h5>\r\n                                                            </div>\r\n                                                        </div>\r\n");
#nullable restore
#line 180 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                    }
                                                }
                                                else
                                                {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                                    <p>");
#nullable restore
#line 184 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                  Write(item.Content);

#line default
#line hidden
#nullable disable
            WriteLiteral("</p>\r\n");
#nullable restore
#line 185 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                                }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            </div>\r\n                                        </div>\r\n");
#nullable restore
#line 188 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                         if ((DateTime.Now - item.TimeSent).TotalMinutes > 10)
                                        {

#line default
#line hidden
#nullable disable
            WriteLiteral("                                            <span>");
#nullable restore
#line 190 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                             Write(item.TimeSentAsString);

#line default
#line hidden
#nullable disable
            WriteLiteral("</span>\r\n");
#nullable restore
#line 191 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                                    </div>\r\n                                </div>\r\n");
#nullable restore
#line 194 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                            }
                        }

#line default
#line hidden
#nullable disable
            WriteLiteral("                    </div>\r\n                </div>\r\n            </div>\r\n");
#nullable restore
#line 199 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral("        <div class=\"container\">\r\n            <div class=\"col-md-12\">\r\n                <div class=\"bottom\">\r\n                    ");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("form", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "b9164497a7a0b039902f7f38d99744658628de8f25133", async() => {
                WriteLiteral(@"
                        <textarea id=""message"" class=""form-control"" placeholder=""Start typing for reply..."" rows=""1""></textarea>
                        <button id=""btn-send-message"" type=""button"" class=""btn send""><i class=""material-icons"">send</i></button>
                    ");
            }
            );
            __Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.FormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_FormTagHelper);
            __Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_RenderAtEndOfFormTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
                    <label>
                        <input id=""attached-file"" type=""file"" class=""form-control"">
                        <span class=""btn attach d-sm-block d-none""><i class=""material-icons"">attach_file</i></span>
                    </label>
                    <div class=""hidden-field"" style=""display:none"">
                        <input type=""hidden"" id=""chatGroupId""");
            BeginWriteAttribute("value", " value=\"", 11703, "\"", 11724, 1);
#nullable restore
#line 212 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 11711, chatGroup.Id, 11711, 13, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\r\n                        <input type=\"hidden\" id=\"me\"");
            BeginWriteAttribute("value", " value=\"", 11782, "\"", 11793, 1);
#nullable restore
#line 213 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 11790, me, 11790, 3, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" />
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- End of Chat -->
    <!-- Start of Call -->
    <div class=""call"" id=""call1"">
        <div class=""content"">
            <div class=""container"">
                <div class=""col-md-12"">
                    <div class=""inside"">
                        <div class=""panel"">
                            <div class=""participant"">
                                <img class=""avatar-xxl""");
            BeginWriteAttribute("src", " src=\"", 12294, "\"", 12321, 1);
#nullable restore
#line 228 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
WriteAttributeValue("", 12300, chatGroup.AvatarLink, 12300, 21, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(@" alt=""avatar"">
                                <span>Connecting</span>
                            </div>
                            <div class=""options"">
                                <button class=""btn option""><i class=""material-icons md-30"">mic</i></button>
                                <button class=""btn option""><i class=""material-icons md-30"">videocam</i></button>
                                <button class=""btn option call-end""><i class=""material-icons md-30"">call_end</i></button>
                                <button class=""btn option""><i class=""material-icons md-30"">person_add</i></button>
                                <button class=""btn option""><i class=""material-icons md-30"">volume_up</i></button>
                            </div>
                            <button class=""btn back"" name=""1""><i class=""material-icons md-24"">chat</i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!");
            WriteLiteral(@"-- End of Call -->
</div>
<!-- End of Babble -->


<script>
    $(document).ready(function () {
        (function ($) {
            $('#content').scrollTop($('#content')[0].scrollHeight);
            $('#message').focus();
        })(jQuery);

        $('#btn-send-message').unbind('click').click(function (event) {
            event.preventDefault();
            SendMessage(event);
        });

        function SendMessage(event) {
            let message = $('#message').val();
            if (message !== null && message !== """") {
                try {
                    let request = {};
                    request.UserId = '");
#nullable restore
#line 267 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                 Write(me);

#line default
#line hidden
#nullable disable
            WriteLiteral("\';\r\n                    request.ConnectionId = \'\';\r\n                    let chatData = {};\r\n                    chatData.ChatGroupId = \'");
#nullable restore
#line 270 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                       Write(chatGroup.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"';
                    chatData.Message = message;
                    request.Data = chatData;

                    connection.invoke(""SendMessage"", request);
                    $('#message').val('').focus();
                    $('.emojionearea .emojionearea-editor').text('').focus();
                }
                catch (e) {
                    console.error(e.toString());
                }
            }
        }

        // Emoji
        $('#message').emojioneArea({
            pickerPosition: ""top"",
            search: false
        });

        $('#attached-file').on('change', function (e) {
            //let file = e.target.files;
            let file = $('#attached-file').get(0).files;
            if (file.length > 0) {
                if (file[0].size > ");
#nullable restore
#line 294 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                              Write(SystemConstant.MaximumSizeFile);

#line default
#line hidden
#nullable disable
            WriteLiteral(@") {
                     swal({
                         title: ""Ohh no! File quá lớn"",
                         text: ""Dung lượng file tối đa có thể gửi là 20Mb!"",
                         icon: ""error""
                     });
                    //e.target.value = """";
                    $('#attached-file')[0].value = ''; // Reset file value
                } else {
                     SendAFile(file);
                }
            }
        });

        function SendAFile(file) {
            let fd = new FormData();
            fd.append(""uploadfile"", file[0]);
            fd.append(""userid"", '");
#nullable restore
#line 311 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                            Write(me);

#line default
#line hidden
#nullable disable
            WriteLiteral("\');\r\n            fd.append(\"groupid\", \'");
#nullable restore
#line 312 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                             Write(chatGroup.Id);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"');
            if (file !== null && file.length > 0) {
                try {
                    $.ajax({
                        url: '/Chat/SendFile',
                        data: fd,
                        processData: false,
                        contentType: false,
                        type: 'POST',
                        success: function (res) {
                            //console.log(""Response send file: "" + res)
                        }
                    });
                    $('.emojionearea .emojionearea-editor').focus();
                }
                catch (e) {
                    console.error(e.toString());
                }
            }
        }

        var chatPageIndex = 1;
        var isLoadMessage = true;
        $(""#content"").scrollTop($(""#content"")[0].scrollHeight);
        $('#content').scroll(function () {
            if ($('#content').scrollTop() == 0 && isLoadMessage) {
                chatPageIndex += 1;
                LoadMessage(c");
            WriteLiteral(@"hatPageIndex);
            }
        });

        function LoadMessage(current) {
            let groupId = $('.hidden-field #chatGroupId').val();
            $.ajax({
                type: ""GET"",
                url: ""/Chat/LoadMessage"",
                data: { groupId: groupId, pageIndex: current },
                dataType: ""json"",
                success: function (response) {
                    if (response.length > 0) {
                        let html = '';
                        let content = '';
                        $(response).each(function (index, val) {
                            if (val.attachedFile != null) {
                                if (val.typeFile === 2) { // video
                                    content = `<video width=""320"" height=""240"" controls>
                                                 <source src=""${val.attachedFile}"">
                                                 Your browser does not support the video tag.
                                ");
            WriteLiteral(@"               </video>`;
                                }
                                else if (val.typeFile === 1) { // image
                                    content = `<img src=""${val.attachedFile}"" alt=""Image"" width=""200"" height=""200"">`;
                                }
                                else { // file
                                    content = `<div class=""attachment"">
										           <button class=""btn attach""><i class=""material-icons md-18"">insert_drive_file</i></button>
										           <div class=""file"">
                                                      <h5><a href=""${val.attachedFile}"">${val.fileName}</a></h5>
                                                   </div>
										       </div>`;
                                }
                            } else {
                                content = `<p>${val.content}</p>`;
                            }

                            if (val.senderId === '");
#nullable restore
#line 377 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
                                             Write(me);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"') {
                                html += `<div class=""message me"">
                                         <div class=""text-main"">
                                             <div class=""text-group me"">
                                                 <div class=""text me"">
                                                     ${content}
                                                 </div>
                                             </div>
                                             <span>${val.timeSentAsString}</span>
                                         </div>
                                     </div>`;
                                content = '';
                            }
                            else {
                                html += `<div class=""message"">
                                             <img class=""avatar-md"" src=""${val.avatarLink}"" title=""${val.userName}"" alt=""avatar"">
                                             <div class=""text-main"">
      ");
            WriteLiteral(@"                                           <div class=""text-group"">
                                                     <div class=""text"">
                                                         <span><b>${val.userName}</b></span>
                                                         ${content}
                                                     </div>
                                                 </div>
                                                 <span>${val.timeSentAsString}</span>
                                             </div>
                                         </div>`;
                                content = '';
                            }
                        });
                        $('#content .container .chat-content').prepend(html);
                        $('#content').animate({ scrollTop: 10 }, 300);
                    } else {
                        isLoadMessage = false;
                        chatPageIndex -= 1;
                    }
      ");
            WriteLiteral(@"          }
            });
        }

        $(""#chat1"").on(""click"", "".text"", function () {
            var src = $(this).children(""img"").attr('src');
            if (src != null && src.length > 0) {
                var val = ""/Chat/Download?filePath="" + src;
                $(""#image-download"").attr(""href"", val);

                $('.image-preview').attr('src', src);
                $('#image-modal').modal('show');
            }
        });

        $('#chat1').on(""click"", ""#group-detail"", function () {
            let groupId = $('.hidden-field #chatGroupId').val();
            if (groupId != null) {
                $.ajax({
                    url: '/Discussion/DiscussionDetail',
                    type: 'GET',
                    data: { groupId: groupId },
                    dataType: 'json',
                    success: function (res) {
                        if (res.status === true) {
                            $('#group-modal').html(res.html.result);
                   ");
            WriteLiteral(@"         $('#group-modal').modal('show');
                        }
                    }
                });
            }
        });

        $(""#chat1"").on(""click"", ""#btn-unfriend"", function () {
            let contactName = $(""#group-detail"").text();
            swal({
                title: `Hủy kết bạn với ${contactName}?`,
                text: ""Tuy cả 2 sẽ không còn là bạn bè nhưng đoạn tin nhắn vẫn còn và có thể tiếp tục liên lạc với nhau!"",
                icon: ""warning"",
                buttons: true,
                dangerMode: true,
            })
            .then((result) => {
                if (result) {
                    let groupId = $('.hidden-field #chatGroupId').val();
                    $.ajax({
                        url: '/Contact/Unfriend',
                        type: 'POST',
                        data: { groupId: groupId },
                        dataType: 'json',
                        success: function (res) { }
                    });
      ");
            WriteLiteral(@"          }
            });
        });

        $(""#chat1"").on(""click"", ""#btn-block"", function () {
            let contactName = $(""#group-detail"").text();
            let groupId = $('.hidden-field #chatGroupId').val();

            swal({
                title: `Bạn muốn chặn ${contactName}?`,
                text: `Nếu bị chặn thì ${contactName} sẽ không thể liên lạc với bạn nữa!`,
                icon: ""warning"",
                buttons: true,
                dangerMode: true,
            })
            .then((result) => {
                if (result) {
                    $.ajax({
                        url: ""/Contact/BlockFriend"",
                        type: 'POST',
                        data: { groupId: groupId },
                        dataType: 'json',
                        success: function (res) {
                            if (res === true) {
                                if ($(""#btn-block"").length > 0) {
                                    $(""#btn-block"").remo");
            WriteLiteral(@"ve();
                                    $(""#btn-unfriend"").before('<button id=""btn-unblock"" class=""dropdown-item""><i class=""material-icons"">block</i>Bỏ chặn</button>');
                                }
                            }
                        }
                    });
                }
            });
        });

        $(""#chat1"").on(""click"", ""#btn-unblock"", function () {
            let contactName = $(""#group-detail"").text();
            let groupId = $('.hidden-field #chatGroupId').val();

            swal({
                title: `Bạn sẽ bỏ chặn đối với ${contactName}?`,
                text: `Nếu bạn đồng ý thì từ giờ ${contactName} sẽ có thể liên lạc với bạn như bình thường!`,
                icon: ""warning"",
                buttons: true,
                dangerMode: true,
            })
            .then((result) => {
                if (result) {
                    $.ajax({
                        url: ""/Contact/UnBlockFriend"",
                        type:");
            WriteLiteral(@" 'POST',
                        data: { groupId: groupId },
                        dataType: 'json',
                        success: function (res) {
                            if (res === true) {
                                if ($(""#btn-unblock"").length > 0) {
                                    $(""#btn-unblock"").remove();
                                    $(""#btn-unfriend"").before('<button id=""btn-block"" class=""dropdown-item""><i class=""material-icons"">block</i>Chặn</button>');
                                }
                            }
                        }
                    });
                }
            });
        });

        $(""#chat1"").on(""click"", ""#btn-delete-group"", function () {
            let groupName = $(""#group-detail"").text();
            let groupId = $('.hidden-field #chatGroupId').val();
            let titleAlert = '', textAlert = '', url = '';
            if (");
#nullable restore
#line 534 "D:\Document\Repos\WebChat\WebChat\Views\Shared\_ChatForm.cshtml"
           Write(chatGroup.IsOwner.ToString().ToLower());

#line default
#line hidden
#nullable disable
            WriteLiteral(@" === true) {
                titleAlert = `Bạn có chắc muốn xóa nhóm ${groupName}?`;
                textAlert = ""Hãy cân nhắc hành động này, nếu bạn xác nhận thì toàn bộ dữ liệu của nhóm sẽ bị xóa và không thể khôi phục lại được!"";
                url = ""/Discussion/RemoveDiscussion"";
            }
            else {
                titleAlert = `Bạn muốn rời nhóm ${groupName}?`;
                textAlert = ""Bạn sẽ không thể tiếp tục nhắn tin với nhóm nếu bạn xác nhận rời khỏi nhóm!"";
                url = ""/Discussion/LeaveDiscussion"";
            }

            swal({
                title: titleAlert,
                text: textAlert,
                icon: ""warning"",
                buttons: true,
                dangerMode: true,
            })
            .then((result) => {
                if (result) {
                    $.ajax({
                        url: url,
                        type: 'POST',
                        data: { groupId: groupId },
                        da");
            WriteLiteral("taType: \'json\',\r\n                        success: function (res) { }\r\n                    });\r\n                }\r\n            });\r\n        });\r\n    });\r\n</script>\r\n");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
